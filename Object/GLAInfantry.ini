;------------------------------------------------------------------------------
Object GLAInfantryStingerSoldier

  ; *** ART Parameters ***
  SelectPortrait         = SUStingrSold_L
  ButtonImage            = SUStingrSold

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UISmsd_SKN
      IdleAnimation = UISmsd_SKL.UISmsd_STA 0 45
      IdleAnimation = UISmsd_SKL.UISmsd_IDA 
      IdleAnimation = UISmsd_SKL.UISmsd_IDB 
      IdleAnimation = UISmsd_SKL.UISmsd_IDC 
      IdleAnimation = UISmsd_SKL.UISmsd_IDD 
      AnimationMode = ONCE
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY Exhaust
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Exhaust
      WeaponLaunchBone = SECONDARY Muzzle

      WaitForStateToFinishIfPossible = TRANS_START_FIRING

    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_B

    ConditionState = MOVING
      Animation = UISmsd_SKL.UISmsd_WKB 25
      AnimationMode = LOOP
    End

    ConditionState = DYING
      Animation = UISmsd_SKL.UISmsd_DTA 
      Animation = UISmsd_SKL.UISmsd_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UISmsd_SKL.UISmsd_ADTF1
      Animation = UISmsd_SKL.UISmsd_ADTG21
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UISmsd_SKL.UISmsd_ADTF2
      Animation = UISmsd_SKL.UISmsd_ADTG22
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UISmsd_SKL.UISmsd_ADTF3
      Animation = UISmsd_SKL.UISmsd_ADTG23
      AnimationMode = ONCE
      TransitionKey = None
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ConditionState = FIRING_A
      Animation = UISmsd_SKL.UISmsd_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING
    End
    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING RELOADING_A

    ConditionState = FIRING_B
      Animation = UISmsd_SKL.UISmsd_ATB
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRINGB
    End
    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING RELOADING_B

    ConditionState = SPECIAL_CHEERING
      Animation = UISMSD_SKL.UISMSD_CHA
      AnimationMode = LOOP
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:StingerSoldier
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 1

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   StingerMissileWeapon
    AutoChooseSources   = PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
    Weapon              = SECONDARY StingerMissileWeaponAir
    PreferredAgainst    = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  End

  ArmorSet
    Conditions  = None
    Armor       = StingerSoldierArmor
    DamageFX    = None
  End

  VisionRange = 400.0
  ShroudClearingRange = 400

  BuildCost = 200
  BuildTime = 1.0

  ExperienceValue    = 14 20 29 42
  ExperienceRequired = 0 41 60 87
  IsTrainable        = Yes

  CrushableLevel     = 0

  ; *** AUDIO Parameters ***
  VoiceSelect = StingerSoldierVoiceSelect
  VoiceMove = StingerSoldierVoiceMove
  VoiceAttack = StingerSoldierVoiceAttack

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ATTACK_BUILDINGS
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 24.0
  End
  Behavior = SlavedUpdate ModuleTag_06
  End

  Behavior = SquishCollide ModuleTag_08
  End

  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Behavior = StealthUpgrade ModuleTag_10
    TriggeredBy = Upgrade_GLACamoNetting
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -SUICIDED -EXTRA_5 -EXTRA_6 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_StingerSoldierDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +SUICIDED +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_StingerSoldierDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantryGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End

  Behavior = StealthDetectorUpdate ModuleTag_Detector ;+
    DetectionRate     = 500
    DetectionRange   =  175
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
    ExtraRequiredKindOf      = AIRCRAFT
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryMobPistol01

  ;**** ART Parameters ***
  Draw = W3DModelDraw DrawTag_Draw01
    OkToChangeModelColor = Yes

    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB01_SKN
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDA1 0 12
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDA2 0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_CHA  0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_STA  0 5
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_PISTOL
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_STAND_AK
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_TA-D
      AnimationMode = ONCE
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_FIRING_PISTOL
      Model = UIMOB01_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_ATA1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_PISTOL
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = FIRING_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    
    ConditionState  = RELOADING_A
      Model = UIMOB01_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_B

    TransitionState = TRANS_FIRING_PISTOL TRANS_STAND_PISTOL
      Model = UIMOB01_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
      AnimationMode = ONCE
    End

    ConditionState = MOVING
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_RNA 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B

    ConditionState = DYING
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_DA1    
      Animation = UIMOB01_SKL.UIMOB01_DA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_CHA
      AnimationMode = ONCE
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD1 0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD2 0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_CHD  0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_STD
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_AK
    End

    TransitionState = TRANS_STAND_AK TRANS_FIRING_AK
      Model = UIMOB01_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_ATD1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_AK
      WeaponFireFXBone = PRIMARY MuzzleAK
      WeaponMuzzleFlash = PRIMARY MuzzleAKFX
      WeaponLaunchBone = PRIMARY MuzzleAK
      WeaponFireFXBone = SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
      WeaponLaunchBone = SECONDARY MuzzleAK
      WeaponFireFXBone = TERTIARY MuzzleAK
      WeaponMuzzleFlash = TERTIARY MuzzleAKFX
      WeaponLaunchBone = TERTIARY MuzzleAK
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_C WEAPONSET_PLAYER_UPGRADE

    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Model = UIMOB01_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ED
      AnimationMode = ONCE
    End

    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_RND
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE

    ConditionState = DYING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_DD1
      Animation = UIMOB01_SKL.UIMOB01_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_CHD
      AnimationMode = ONCE
    End

    ;--------------------------------------------------------
    TransitionState = TRANS_Dying TRANS_Flailing
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE1
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE2
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB01_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE3
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End

  ;**** DESIGN parameters ***
  DisplayName = OBJECT:AngryMob
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 0

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLAAngryMobPistolWeapon
    Weapon = SECONDARY GLAAngryMobPistolWeaponTwo
    PreferredAgainst = PRIMARY INFANTRY
    PreferredAgainst = SECONDARY VEHICLE STRUCTURE
    ShareWeaponReloadTime = Yes
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY none
    Weapon = SECONDARY GLAAngryMobAK47Weapon
    Weapon = TERTIARY GLAAngryMobAK47WeaponTwo
    PreferredAgainst = SECONDARY INFANTRY
    PreferredAgainst = TERTIARY VEHICLE STRUCTURE
    ShareWeaponReloadTime = Yes
  End

  Behavior = WeaponBonusUpgrade ModuleTag_08
    TriggeredBy = Upgrade_APBullets
  End

  ArmorSet
    Conditions = None
    Armor      = HumanArmor
    DamageFX   = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 150

  BuildCost = 100
  BuildTime = 0.0           

  Behavior = ModelConditionUpgrade ModuleTag_Weapon02
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_GLAArmTheMob
  End

  ExperienceValue = 4 5 8 11
  ExperienceRequired = 0 11 16 24
  IsTrainable = Yes
  CrushableLevel = 0

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound 
  VoiceMove = NoSound   
  VoiceAttack = NoSound 

  ;**** ENGINEERING Parameters *** ;MOB01
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER IGNORED_IN_GUI

  Body = ActiveBody BodyTag_01
    MaxHealth       = 50.0
    InitialHealth   = 50.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = MobMemberSlavedUpdate ModuleTag_04
    MustCatchUpRadius   = 40
    NoNeedToCatchUpRadius = 15
    Squirrelliness = 0.05
    CatchUpCrisisBailTime = 30
  End

  Locomotor = SET_NORMAL AngryMobNormalLocomotor
  Locomotor = SET_WANDER AngryMobWanderLocomotor
  Locomotor = SET_PANIC AngryMobPanicLocomotor

  Behavior = PhysicsBehavior BehaviorTag_01
    Mass = 24.0
  End

  Behavior = SquishCollide ModuleTag_08
  End

  Behavior = WeaponSetUpgrade UpgradeTag_01
    TriggeredBy = Upgrade_GLAArmTheMob
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior DeathTag_01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -SUICIDED -EXTRA_5 -EXTRA_6 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabMaleDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +SUICIDED +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior DeathTag_02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior DeathTag_03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabMaleDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior DeathTag_04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GIDie
    OCL                 = INITIAL OCL_FlamingInfantryGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior BehaviorTag_02
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 4.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryAngryMobPistol03 GLAInfantryAngryMobPistol01

  ;**** ART Parameters ***
  Draw = W3DModelDraw DrawTag_01
    OkToChangeModelColor = Yes

    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB03_SKN
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDA1 0 12
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDA2 0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_CHA  0 5
      IdleAnimation = UIMOB01_SKL.UIMOB01_STA  0 5
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_PISTOL
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_STAND_AK
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_TA-D
      AnimationMode = ONCE
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_FIRING_PISTOL
      Model = UIMOB03_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_ATA1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_PISTOL
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = FIRING_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    
    ConditionState  = RELOADING_A
      Model = UIMOB03_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_B

    TransitionState = TRANS_FIRING_PISTOL TRANS_STAND_PISTOL
      Model = UIMOB03_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATA1_ED ; end firing
      AnimationMode = ONCE
    End

    ConditionState = MOVING
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_RNA 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B

    ConditionState = DYING
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_DA1    
      Animation = UIMOB01_SKL.UIMOB01_DA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_CHA
      AnimationMode = ONCE
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD1 0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_IDD2 0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_CHD  0 6
      IdleAnimation = UIMOB01_SKL.UIMOB01_STD
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_AK
    End

    TransitionState = TRANS_STAND_AK TRANS_FIRING_AK
      Model = UIMOB03_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_ATD1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_AK
      WeaponFireFXBone = PRIMARY MuzzleAK
      WeaponMuzzleFlash = PRIMARY MuzzleAKFX
      WeaponLaunchBone = PRIMARY MuzzleAK
      WeaponFireFXBone = SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
      WeaponLaunchBone = SECONDARY MuzzleAK
      WeaponFireFXBone = TERTIARY MuzzleAK
      WeaponMuzzleFlash = TERTIARY MuzzleAKFX
      WeaponLaunchBone = TERTIARY MuzzleAK
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_C WEAPONSET_PLAYER_UPGRADE

    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Model = UIMOB03_SKN
      Animation     = UIMOB01_SKL.UIMOB01_ATD1_ED
      AnimationMode = ONCE
    End

    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_RND
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE

    ConditionState = DYING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_DD1
      Animation = UIMOB01_SKL.UIMOB01_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_CHD
      AnimationMode = ONCE
    End

    ;--------------------------------------------------------
    TransitionState = TRANS_Dying TRANS_Flailing
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE1
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE2
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB03_SKN
      Animation = UIMOB01_SKL.UIMOB01_A_ADTE3
      Animation = UIMOB01_SKL.UIMOB01_D_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 3.0 ; very thin
  GeometryMinorRadius = 3.0 ; very thinD
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryAngryMobPistol05 GLAInfantryAngryMobPistol01
  ;**** ART Parameters ***
  Draw = W3DModelDraw DrawTag_01
    OkToChangeModelColor = Yes

    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB05_SKN
      IdleAnimation = UIMOB05_SKL.UIMOB05_IDA1 0 12
      IdleAnimation = UIMOB05_SKL.UIMOB05_IDA2 0 5
      IdleAnimation = UIMOB05_SKL.UIMOB05_CHA  0 5
      IdleAnimation = UIMOB05_SKL.UIMOB05_STA  0 5
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_PISTOL
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      WeaponMuzzleFlash = SECONDARY MuzzleFX
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_STAND_AK
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_TA-D
      AnimationMode = ONCE
      HideSubObject = MuzzleAKFX MuzzleAKFX01
    End

    TransitionState = TRANS_STAND_PISTOL TRANS_FIRING_PISTOL
      Model = UIMOB05_SKN
      Animation     = UIMOB05_SKL.UIMOB05_ATA1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_ATA1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_PISTOL
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = FIRING_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    
    ConditionState  = RELOADING_A
      Model = UIMOB05_SKN
      Animation     = UIMOB05_SKL.UIMOB05_ATA1_ED ; end firing
      AnimationMode = ONCE
    End
    AliasConditionState = RELOADING_B

    TransitionState = TRANS_FIRING_PISTOL TRANS_STAND_PISTOL
      Model = UIMOB05_SKN
      Animation     = UIMOB05_SKL.UIMOB05_ATA1_ED ; end firing
      AnimationMode = ONCE
    End

    ConditionState = MOVING
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_RNA 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B

    ConditionState = DYING
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_DA1    
      Animation = UIMOB05_SKL.UIMOB05_DA2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_CHA
      AnimationMode = ONCE
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      IdleAnimation = UIMOB05_SKL.UIMOB05_IDD1 0 6
      IdleAnimation = UIMOB05_SKL.UIMOB05_IDD2 0 6
      IdleAnimation = UIMOB05_SKL.UIMOB05_CHD  0 6
      IdleAnimation = UIMOB05_SKL.UIMOB05_STD
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_AK
    End

    TransitionState = TRANS_STAND_AK TRANS_FIRING_AK
      Model = UIMOB05_SKN
      Animation     = UIMOB05_SKL.UIMOB05_ATD1_ST
      AnimationMode = ONCE
    End

    ConditionState = FIRING_A WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_ATD1_LP ; looping firing
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_AK
      WeaponFireFXBone = PRIMARY MuzzleAK
      WeaponMuzzleFlash = PRIMARY MuzzleAKFX
      WeaponLaunchBone = PRIMARY MuzzleAK
      WeaponFireFXBone = SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
      WeaponLaunchBone = SECONDARY MuzzleAK
      WeaponFireFXBone = TERTIARY MuzzleAK
      WeaponMuzzleFlash = TERTIARY MuzzleAKFX
      WeaponLaunchBone = TERTIARY MuzzleAK
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = RELOADING_C WEAPONSET_PLAYER_UPGRADE

    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Model = UIMOB05_SKN
      Animation     = UIMOB05_SKL.UIMOB05_ATD1_ED
      AnimationMode = ONCE
    End

    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_RND
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING RELOADING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING RELOADING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING FIRING_C WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C WEAPONSET_PLAYER_UPGRADE

    ConditionState = DYING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_DD1
      Animation = UIMOB05_SKL.UIMOB05_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_CHD
      AnimationMode = ONCE
    End

    ;--------------------------------------------------------
    TransitionState = TRANS_Dying TRANS_Flailing
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_A_ADTE1
      Animation = UIMOB05_SKL.UIMOB05_D_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_A_ADTE2
      Animation = UIMOB05_SKL.UIMOB05_D_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING WEAPONSET_PLAYER_UPGRADE
      Model = UIMOB05_SKN
      Animation = UIMOB05_SKL.UIMOB05_A_ADTE3
      Animation = UIMOB05_SKL.UIMOB05_D_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End


  Geometry = CYLINDER
  GeometryMajorRadius = 3.0 ; very thin
  GeometryMinorRadius = 3.0 ; very thinD
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryMobRock02

  ;**** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; WHILE CARRYING ROCK
    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB02_SKN
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDB1 0 12
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDB2 0 5
      IdleAnimation = UIMOB02_SKL.UIMOB02_CHB  0 5
      IdleAnimation = UIMOB02_SKL.UIMOB02_STB  0 12
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_A

      WeaponFireFXBone =  SECONDARY MuzzleAK
      WeaponLaunchBone =  SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
    End

    ; Drawing rock
    ConditionState  = PREATTACK_A
      Animation     = UIMOB02_SKL.UIMOB02_ATB2_BF ; wind up
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_A FIRING_A
    AliasConditionState = PREATTACK_A BETWEEN_FIRING_SHOTS_A

    ; throwing rock
    ConditionState = FIRING_A
      Animation = UIMOB02_SKL.UIMOB02_ATB1_AF ; throw
      Animation = UIMOB02_SKL.UIMOB02_ATB2_AF ; throw
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_A
    End
    
    ConditionState = BETWEEN_FIRING_SHOTS_A
      Animation         = UIMOB02_SKL.UIMOB02_STB
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FIRING_A
    End
    AliasConditionState = RELOADING_A

    ConditionState = MOVING
      Animation = UIMOB02_SKL.UIMOB02_RNB 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UIMOB02_SKL.UIMOB02_DB1    
      Animation = UIMOB02_SKL.UIMOB02_DB2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIMOB02_SKL.UIMOB02_CHB
      Flags = RANDOMSTART
      AnimationMode = LOOP
    End

    ;--------------------------------------------------------
    ; TRANSITION FROM PISTOL TO AK47
    TransitionState = TRANS_STAND_A TRANS_STAND_AK
      Animation = UIMOB02_SKL.UIMOB02_TB-D
      AnimationMode = ONCE
    End

    ; WHILE CARRYING AK47 
    ;---------------------------------------------------------
    ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
      Model = UIMOB02_SKN
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDD1 0 6
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDD2 0 6
      IdleAnimation = UIMOB02_SKL.UIMOB02_CHD  0 6
      IdleAnimation = UIMOB02_SKL.UIMOB02_STD
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_AK
    End

    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB02_SKL.UIMOB02_RND 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING_AK
    End

    ConditionState = DYING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB02_SKL.UIMOB02_DD1    
      Animation = UIMOB02_SKL.UIMOB02_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB02_SKL.UIMOB02_CHD
      AnimationMode = ONCE
    End

    ; Drawing AK47
    ConditionState  = PREATTACK_B WEAPONSET_PLAYER_UPGRADE
      Animation     = UIMOB02_SKL.UIMOB02_ATD1_ST ; start firing
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_B FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE

    ; Firing Gun
    ConditionState = FIRING_B WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB02_SKL.UIMOB02_ATD1_LP ; looping firing
      AnimationMode = LOOP
      WeaponFireFXBone = SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
      TransitionKey = TRANS_FIRING_AK
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE


    ConditionState  = RELOADING_B WEAPONSET_PLAYER_UPGRADE
      Animation     = UIMOB02_SKL.UIMOB02_ATD1_ED ; end firing
      AnimationMode = ONCE
    End


    ; This transition allows him to put his gun away when he's finished attacking.
    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Animation     = UIMOB02_SKL.UIMOB02_ATD1_ED ; end firing
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA1
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA2
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA3
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End

  ;**** DESIGN parameters ***
  DisplayName      = OBJECT:AngryMob
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 0

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLAAngryMobRockProjectileWeapon
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY GLAAngryMobAK47Weapon
    Weapon = SECONDARY GLAAngryMobAK47WeaponTwo
    PreferredAgainst = PRIMARY INFANTRY DRONE
    PreferredAgainst = SECONDARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 150

  BuildCost = 100
  BuildTime = 0.0            

  ExperienceValue = 4 5 8 11
  ExperienceRequired = 0 11 16 24
  IsTrainable = Yes
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound 
  VoiceMove = NoSound   
  VoiceAttack = NoSound 

  ;**** ENGINEERING Parameters *** ;MOB02
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables 

  Body = ActiveBody BodyTag_01
    MaxHealth       = 50.0
    InitialHealth   = 50.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = MobMemberSlavedUpdate ModuleTag_04
    MustCatchUpRadius   = 40
    NoNeedToCatchUpRadius = 15
    Squirrelliness = 0.05
    CatchUpCrisisBailTime = 30; this is in calls to this update, not in frames
  End

  Locomotor = SET_NORMAL AngryMobNormalLocomotor
  Locomotor = SET_WANDER AngryMobWanderLocomotor
  Locomotor = SET_PANIC AngryMobPanicLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 24.0
  End

  Behavior = SquishCollide ModuleTag_08
  End

  Behavior = WeaponSetUpgrade UpgradeTag_01
    TriggeredBy = Upgrade_GLAArmTheMob
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -SUICIDED -EXTRA_5 -EXTRA_6 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabFemaleDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +SUICIDED +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabFemaleDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GIDie
    OCL                 = INITIAL OCL_FlamingInfantryGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 4.0 ; very thin
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
ObjectReskin GLAInfantryAngryMobRock04 GLAInfantryAngryMobRock02

;**** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; WHILE CARRYING ROCK
    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB04_SKN
      IdleAnimation = UIMOB04_SKL.UIMOB04_IDB1 0 12
      IdleAnimation = UIMOB04_SKL.UIMOB04_IDB2 0 5 
      IdleAnimation = UIMOB04_SKL.UIMOB04_CHB  0 5 
      IdleAnimation = UIMOB04_SKL.UIMOB04_STB  0 12
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_A
      WaitForStateToFinishIfPossible TRANS_FIRING_A

      WeaponFireFXBone =  SECONDARY MuzzleAK
      WeaponLaunchBone =  SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
    End


    ; Drawing rock
    ConditionState  = PREATTACK_A
      Animation     = UIMOB04_SKL.UIMOB04_ATB2_BF ; wind up
      AnimationMode = ONCE
      AnimationSpeedFactorRange 1.0 1.0
    End
    AliasConditionState = PREATTACK_A FIRING_A
    AliasConditionState = PREATTACK_A BETWEEN_FIRING_SHOTS_A

    ; throwing rock
    ConditionState = FIRING_A
      Animation = UIMOB04_SKL.UIMOB04_ATB1_AF ; throw
      Animation = UIMOB04_SKL.UIMOB04_ATB2_AF ; throw
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_A
    End

    ConditionState = BETWEEN_FIRING_SHOTS_A
      Animation         = UIMOB04_SKL.UIMOB04_STB
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FIRING_A
    End
    AliasConditionState = RELOADING_A

    ConditionState = MOVING
      Animation = UIMOB04_SKL.UIMOB04_RUN 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UIMOB04_SKL.UIMOB04_DB1    
      Animation = UIMOB04_SKL.UIMOB04_DB2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIMOB04_SKL.UIMOB04_CHB
      Flags = RANDOMSTART
      AnimationMode = LOOP
    End

    ;--------------------------------------------------------
    ; TRANSITION FROM PISTOL TO AK47
    TransitionState = TRANS_STAND_A TRANS_STAND_AK
      Animation = UIMOB04_SKL.UIMOB04_TB-D
      AnimationMode = ONCE
    End


    ; WHILE CARRYING AK47 
    ;---------------------------------------------------------
    ConditionState WEAPONSET_PLAYER_UPGRADE ;Idle with AK Slung
      Model = UIMOB04_SKN
      IdleAnimation = UIMOB04_SKL.UIMOB04_IDD1 0 6
      IdleAnimation = UIMOB04_SKL.UIMOB04_IDD2 0 6
      IdleAnimation = UIMOB04_SKL.UIMOB04_CHD  0 6
      IdleAnimation = UIMOB04_SKL.UIMOB04_STD
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_AK
      WeaponFireFXBone = SECONDARY MuzzleAK
      WeaponMuzzleFlash = SECONDARY MuzzleAKFX
    End

    ConditionState = MOVING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB04_SKL.UIMOB04_RND 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING_AK
    End

    ConditionState = DYING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB04_SKL.UIMOB04_DD1    
      Animation = UIMOB04_SKL.UIMOB04_DD2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB04_SKL.UIMOB04_CHD
      AnimationMode = ONCE
    End

    ; Drawing AK47
    ConditionState  = PREATTACK_B WEAPONSET_PLAYER_UPGRADE
      Animation     = UIMOB04_SKL.UIMOB04_ATD1_ST ; start firing
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_B FIRING_B WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE

    ; Firing Gun
    ConditionState = FIRING_B WEAPONSET_PLAYER_UPGRADE
      Animation = UIMOB04_SKL.UIMOB04_ATD1_LP ; looping firing
      AnimationMode = LOOP
      WeaponFireFXBone = PRIMARY MuzzleAK
      WeaponMuzzleFlash = PRIMARY MuzzleAKFX
      TransitionKey = TRANS_FIRING_AK
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_B WEAPONSET_PLAYER_UPGRADE


    ConditionState  = RELOADING_B WEAPONSET_PLAYER_UPGRADE
      Animation     = UIMOB04_SKL.UIMOB04_ATD1_ED ; end firing
      AnimationMode = ONCE
    End


    ; This transition allows him to put his gun away when he's finished attacking.
    TransitionState = TRANS_FIRING_AK TRANS_STAND_AK
      Animation     = UIMOB04_SKL.UIMOB04_ATD1_ED ; end firing
      AnimationMode = ONCE
    End


    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIMOB04_SKL.UIMOB04_B_ADTF1
      Animation = UIMOB04_SKL.UIMOB04_D_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIMOB04_SKL.UIMOB04_B_ADTF2
      Animation = UIMOB04_SKL.UIMOB04_D_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIMOB04_SKL.UIMOB04_B_ADTF3
      Animation = UIMOB04_SKL.UIMOB04_D_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 5.0 ; kinda thin
  GeometryMinorRadius = 5.0 ; kinda thinD
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
End

;------------------------------------------------------------------------------
Object GLAInfantryAngryMobMolotov02

;**** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; WHILE CARRYING ROCK
    ;---------------------------------------------------------
    DefaultConditionState
      Model = UIMOB02_SKN
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDB1 0 12
      IdleAnimation = UIMOB02_SKL.UIMOB02_IDB2 0 5
      IdleAnimation = UIMOB02_SKL.UIMOB02_CHB  0 5
      IdleAnimation = UIMOB02_SKL.UIMOB02_STB  0 12
      AnimationMode = ONCE
      AnimationSpeedFactorRange 0.9 1.1
      TransitionKey = TRANS_STAND_B

      WeaponFireFXBone  = SECONDARY   "UIMOB02 R HAND"
      WeaponLaunchBone  = SECONDARY   "UIMOB02 R HAND"
    End


    ; Drawing rock
    ConditionState  = PREATTACK_B
      Animation     = UIMOB02_SKL.UIMOB02_ATCB_BF ; wind up
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ; throwing rock
    ConditionState = FIRING_B
      Animation = UIMOB02_SKL.UIMOB02_ATCB_AF ; throw
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_B
    End

    ConditionState = BETWEEN_FIRING_SHOTS_B
      Animation         = UIMOB02_SKL.UIMOB02_STB
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FIRING_B
    End
    AliasConditionState = RELOADING_B


    ConditionState = MOVING
      Animation = UIMOB02_SKL.UIMOB02_RNB 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey   = MOVING
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UIMOB02_SKL.UIMOB02_DB1    
      Animation = UIMOB02_SKL.UIMOB02_DB2
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIMOB02_SKL.UIMOB02_CHB
      Flags = RANDOMSTART
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA1
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA2
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIMOB02_SKL.UIMOB02_B_ADTA3
      Animation = UIMOB02_SKL.UIMOB02_D_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
  End

  ;**** DESIGN parameters ***

  DisplayName = OBJECT:AngryMob
  Side        = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 0

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY GLAAngryMobRockProjectileWeapon
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY GLAAngryMobAK47Weapon
    Weapon = SECONDARY GLAAngryMobAK47WeaponTwo
    PreferredAgainst = PRIMARY INFANTRY DRONE
    PreferredAgainst = SECONDARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 150

  BuildCost = 100
  BuildTime = 0.0            

  ExperienceValue = 4 5 8 11
  ExperienceRequired = 0 11 16 24
  IsTrainable = Yes
  CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = NoSound 
  VoiceMove = NoSound   
  VoiceAttack = NoSound 

  ;**** ENGINEERING Parameters *** ;MOB02
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER IGNORED_IN_GUI  ;NO_COLLIDE ;Lorenzen disables 

  Body = ActiveBody BodyTag_01
    MaxHealth       = 50.0
    InitialHealth   = 50.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = MobMemberSlavedUpdate ModuleTag_04
    MustCatchUpRadius   = 40
    NoNeedToCatchUpRadius = 15
    Squirrelliness = 0.05
    CatchUpCrisisBailTime = 30; this is in calls to this update, not in frames
  End

  Locomotor = SET_NORMAL AngryMobNormalLocomotor
  Locomotor = SET_WANDER AngryMobWanderLocomotor
  Locomotor = SET_PANIC AngryMobPanicLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 24.0
  End

  Behavior = SquishCollide ModuleTag_08
  End

  Behavior = WeaponSetUpgrade UpgradeTag_01
    TriggeredBy = Upgrade_GLAArmTheMob
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -SUICIDED -EXTRA_5 -EXTRA_6 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabFemaleDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +SUICIDED +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_CivilianArabFemaleDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_GIDie
    OCL                 = INITIAL OCL_FlamingInfantryGLA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 4.0 ; very thin
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;-------------------------------------------------------------------------
Object GLAInfantryWorkerHole

  SelectPortrait = SUWorker_L
  ButtonImage = SUWorker

  UpgradeCameo1 = Upgrade_GLAWorkerShoes

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UIWRKR_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End
    ConditionState = MOVING
      Animation = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING
    ConditionState = ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MS
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Standing
    End
    ConditionState = MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MSW 50
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING CARRYING
    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB2
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Carry TRANS_MetalDetector_Standing
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Carry
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB2
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Carry TRANS_MetalDetector_Moving
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRC1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_MetalDetector_Moving TRANS_Stand
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB2
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Stand TRANS_MetalDetector_Moving
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRC1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_MetalDetector_Standing
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRB1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Moving
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRC2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_Moving TRANS_MetalDetector_Moving
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRC1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_MetalDetector_Moving TRANS_Moving
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_TRC2
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    ConditionState = MOVING CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARY 12
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING CARRYING
    ConditionState = CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARST 30 
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
    End
    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    AliasConditionState = DYING CARRYING
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End
    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End
    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
    ConditionState = SPECIAL_CHEERING
      Animation = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End    
    ConditionState = ACTIVELY_CONSTRUCTING
      Animation = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_Constructing
    End
    AliasConditionState = ACTIVELY_CONSTRUCTING CARRYING
    TransitionState = TRANS_Stand TRANS_Carry
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Carry TRANS_Stand
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
    End    
    TransitionState = TRANS_Stand TRANS_Constructing
      Animation = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Constructing TRANS_Stand
      Animation = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End
  End

  Buildable = No
  DisplayName = OBJECT:Worker
  Side = GLA
  EditorSorting = INFANTRY
  TransportSlotCount = 1

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End

  ArmorSet
    Conditions = None
    Armor = HumanArmor
    DamageFX = InfantryDamageFX
  End

  VisionRange = 100
  ShroudClearingRange = 200
  BuildCost = 200
  BuildTime = 5.0
  CrushableLevel = 0
  CommandSet = StopOnlyGenericCommandSet

  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceDefect = WorkerVoiceCreate
  VoiceTaskComplete = WorkerVoiceFortify
  UnitSpecificSounds
    VoiceEnter = WorkerVoiceMove
    VoiceEnterHostile = WorkerVoiceMove
    VoiceGarrison = WorkerVoiceGarrison
    VoiceCreate = WorkerVoiceFortify
    VoiceSupply = WorkerVoiceSupply
    VoiceNoBuild = WorkerVoiceBuildNot
    VoiceRepair = WorkerVoiceRepair
    VoiceDisarm = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed = WorkerVoiceFear
  End

  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE CLICK_THROUGH

  Body = ActiveBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End

  Behavior = WorkerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%
    BoredTime = 5000
    BoredRange = 150
    MaxBoxes = 1
    SupplyCenterActionDelay = 150
    SupplyWarehouseActionDelay = 150
    SupplyWarehouseScanDistance = 700
    SuppliesDepletedVoice = WorkerVoiceSuppliesDepleted
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL FastHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 24.0
  End 

  Behavior = SquishCollide ModuleTag_06
  End

  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -SUICIDED -EXTRA_5 -EXTRA_6
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_WorkerDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +SUICIDED +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes = NONE +CRUSHED +SPLATTED
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 1
    FX = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End

  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes = NONE +EXPLODED
    SinkDelay = 3000
    SinkRate = 0.5
    DestructionDelay = 8000
    FX = INITIAL FX_WorkerDie
    FlingForce = 8
    FlingForceVariance = 3
    FlingPitch = 60
    FlingPitchVariance = 10
  End

  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_RadiationInfantry
  End

  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes = NONE +BURNED
    DestructionDelay = 0
    FX = INITIAL FX_DieByFireGLA
    OCL = INITIAL OCL_FlamingInfantryGLA
  End

  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes = NONE +POISONED
    DestructionDelay = 0
    FX = INITIAL FX_DieByToxinGLA
    OCL = INITIAL OCL_ToxicInfantry
  End

  Behavior = SlowDeathBehavior ModuleTag_Death06
    DeathTypes = NONE +POISONED_BETA
    DestructionDelay = 0
    FX = INITIAL FX_DieByToxinGLA
    OCL = INITIAL OCL_ToxicInfantryBeta
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes = NONE +POISONED_GAMMA
    DestructionDelay = 0
    FX = INITIAL FX_DieByToxinGLA
    OCL = INITIAL OCL_ToxicInfantryGamma
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End 

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End
