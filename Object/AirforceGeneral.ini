Object AirF_AmericaJetAC150

  ; *** ART Parameters ***
  SelectPortrait = SAAC150_L
  ButtonImage    = SAAC150

  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = TURRETEL01

    ConditionState   = NONE
      Model           = AVAC150
      Animation       = AVAC150.AVAC150
      AnimationMode   = LOOP
      ParticleSysBone = WingTip01 JetContrail
      ParticleSysBone = WingTip02 JetContrail
      Turret           = TURRET
      TurretPitch      = TURRETEL
      WeaponLaunchBone = PRIMARY WEAPONB
      WeaponFireFXBone = PRIMARY WeaponB
      AltTurret        = ALTTURRET
      AltTurretPitch   = ALTTURRETEL
      WeaponLaunchBone = SECONDARY WEAPONA
      WeaponFireFXBone = SECONDARY WeaponA
      WeaponLaunchBone = TERTIARY WeaponC
    End

    ConditionState   = DAMAGED
      Model           = AVAC150_D
      Animation       = AVAC150_D.AVAC150_D
      AnimationMode   = LOOP
      ParticleSysBone = WingTip01 JetContrail
      ParticleSysBone = WingTip02 JetContrail
    End

    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
   
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes 
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AC150
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300
  ShroudClearingRange = 400
  BuildCost           = 1700
  BuildTime           = 25.0

  Prerequisites
    Object = AirF_AmericaBigAirfield
    Science = SCIENCE_AIRF
  End

  WeaponSet
    Conditions = None
    Weapon     = PRIMARY   AC150Gun_1
    Weapon     = SECONDARY AC150Gun_2
    Weapon     = TERTIARY VultureClearMinesWeapon
    AutoChooseSources   = TERTIARY  NONE
  End

  ArmorSet
    Conditions = None
    Armor      = ComancheArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresComancheArmor
    DamageFX   = None
  End

  ExperienceValue    = 187 249 331 442 ;Experience point value at each level
  ExperienceRequired = 0 560 746 992   ;Experience points needed to gain each level
  IsTrainable        = Yes             ;Can gain experience
  CrusherLevel       = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet         = AirF_AmericaVultureCommandSet

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble = C130AmbientLoop
  VoiceSelect     = AC150VoiceSelect
  VoiceMove       = AC150VoiceMove
  VoiceAttack     = AC150VoiceAttack
  VoiceGuard      = AC150VoiceMove
  UnitSpecificSounds
    VoiceCreate   = AC150VoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    VoiceGarrison = AC150VoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf   = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond = 0%
    TakeoffDistForMaxLift    = 0%
    TakeoffPause             = 500
    MinHeight                = 5
    ReturnToBaseIdleTime     = 100
    AutoAcquireEnemiesWhenIdle = Yes
    KeepsParkingSpaceWhenAirborne = No
    MoodAttackCheckRate = 100
  End

  Locomotor = SET_NORMAL DropPlaneLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior                         = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                     = ALL -EXTRA_8
    FXOnGroundDeath                = FX_JetOnGroundDeath
    OCLOnGroundDeath               = OCL_RaptorDeathFinalBlowUp
    DestructionDelay               = 99999999; destruction will happen when we
    RollRate                       = 0.2
    RollRateDelta                  = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                      = 0.0
    FallHowFast                    = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                 = FX_RaptorDeathInitial
    OCLInitialDeath                = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath = 500  ; in milliseconds
    FXSecondary                    = FX_JetDeathSecondary
    OCLSecondary                   = OCL_RaptorDeathSecondary
    FXHitGround                    = FX_JetDeathHitGround
    OCLHitGround                   = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround  = 200 ; in milliseconds
    FXFinalBlowUp                  = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                 = OCL_AmericaJetAC150DeathFinalBlowUp
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_06A
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_AC150MoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Scale = 0.85
  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
End

;------------------------------------------------------------------------------
Object AmericaInfantryPilot

  ; *** ART Parameters ***
  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIRPlt_SKN
      IdleAnimation = AIRPlt_SKL.AIRPlt_STA 0 20
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDA 
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState = FREEFALL
      Animation = AIRPlt_SKL.AIRPLT_PFL
      AnimationMode = ONCE
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIRPlt_SKL.AIRPlt_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
      WaitForStateToFinishIfPossible = TRANS_Falling
    End
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = AIRPlt_SKL.AIRPlt_RNA 
      AnimationMode = LOOP
      TransitionKey = TRANS_Stand
      ParticleSysBone     = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = AIRPlt_SKL.AIRPlt_DTA 
      Animation = AIRPlt_SKL.AIRPlt_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIRPlt_SKL.AIRPlt_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIRPlt_SKL.AIRPlt_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIRPlt_SKL.AIRPlt_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AIRPLT_SKL.AIRPLT_CHA
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_PTD
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Pilot
  Side = AmericaAirForceGeneral
  EditorSorting = INFANTRY
  BuildCost  = 300
  BuildTime  = 3.0
  TransportSlotCount = 1
  ExperienceValue    = 0 0 0 0
  ExperienceRequired = 0 1 2 3
  IsTrainable = Yes
  CommandSet = StopOnlyGenericCommandSet
  VisionRange = 150
  ShroudClearingRange = 200
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  Prerequisites
    Object = AirF_AmericaBarracks
    Object = AirF_AmericaStrategyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = PilotVoiceSelect
  VoiceMove = PilotVoiceMove
  VoiceAttack = PilotVoiceMove
  VoiceGarrison = PilotVoiceMove 
  VoiceFear = PilotVoiceFear
  UnitSpecificSounds
    VoiceCreate       = PilotVoiceSelect
    VoiceEnter        = PilotVoiceEnter
    VoiceEnterHostile = PilotVoiceEnter
    VoiceGetHealed    = PilotVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE IGNORES_SELECT_ALL CAN_BE_REPULSED

  Behavior = VeterancyGainCreate ModuleTag_02
    StartingLevel = VETERAN
  End

  Behavior = VeterancyCrateCollide       ModuleTag_03
    RequiredKindOf = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ForbiddenKindOf = DOZER       ; but not to TRANSPORTs or DOZERs!
    EffectRange = 0               ; 0=="affect only the thing you collide with"
    AddsOwnerVeterancy = Yes      ; we add our own veterancy to the target (rather than just +1 level)
    IsPilot = Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba 
    ScanRate = 1000
    ScanRange = 300
    MinHealth = 0.5
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor
  Locomotor = SET_NORMAL_UPGRADED FastHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 24.0
  End

  Behavior = LocomotorSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = SquishCollide ModuleTag_11
  End

  ; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_PilotDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;=======================================================

Object AmericaInfantryPilotElite

  ; *** ART Parameters ***
  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIRPlt_SKN
      IdleAnimation = AIRPlt_SKL.AIRPlt_STA 0 20
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDA 
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState = FREEFALL
      Animation = AIRPlt_SKL.AIRPLT_PFL
      AnimationMode = ONCE
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIRPlt_SKL.AIRPlt_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
      WaitForStateToFinishIfPossible = TRANS_Falling
    End
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = AIRPlt_SKL.AIRPlt_RNA 
      AnimationMode = LOOP
      TransitionKey = TRANS_Stand
      ParticleSysBone     = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = AIRPlt_SKL.AIRPlt_DTA 
      Animation = AIRPlt_SKL.AIRPlt_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIRPlt_SKL.AIRPlt_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIRPlt_SKL.AIRPlt_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIRPlt_SKL.AIRPlt_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AIRPLT_SKL.AIRPLT_CHA
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_PTD
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Pilot
  Side = AmericaAirForceGeneral
  EditorSorting = INFANTRY
  BuildCost  = 600
  BuildTime  = 6.0
  TransportSlotCount = 1
  ExperienceValue    = 0 0 0 0
  ExperienceRequired = 0 1 2 3
  IsTrainable = Yes
  CommandSet = StopOnlyGenericCommandSet
  VisionRange = 150
  ShroudClearingRange = 200
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  Prerequisites
    Object = AirF_AmericaBarracks
    Object = AirF_AmericaStrategyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = PilotVoiceSelect
  VoiceMove = PilotVoiceMove
  VoiceAttack = PilotVoiceMove
  VoiceGarrison = PilotVoiceMove 
  VoiceFear = PilotVoiceFear
  UnitSpecificSounds
    VoiceCreate       = PilotVoiceSelect
    VoiceEnter        = PilotVoiceEnter
    VoiceEnterHostile = PilotVoiceEnter
    VoiceGetHealed    = PilotVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE IGNORES_SELECT_ALL CAN_BE_REPULSED

  Behavior = VeterancyGainCreate ModuleTag_02
    StartingLevel = ELITE
  End

  Behavior = VeterancyCrateCollide       ModuleTag_03
    RequiredKindOf = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ForbiddenKindOf = DOZER       ; but not to TRANSPORTs or DOZERs!
    EffectRange = 0               ; 0=="affect only the thing you collide with"
    AddsOwnerVeterancy = Yes      ; we add our own veterancy to the target (rather than just +1 level)
    IsPilot = Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba 
    ScanRate = 1000
    ScanRange = 300
    MinHealth = 0.5
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor
  Locomotor = SET_NORMAL_UPGRADED FastHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 24.0
  End

  Behavior = LocomotorSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = SquishCollide ModuleTag_11
  End

  ; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_PilotDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;===================================================
Object AmericaInfantryPilotHero

  ; *** ART Parameters ***
  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIRPlt_SKN
      IdleAnimation = AIRPlt_SKL.AIRPlt_STA 0 20
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDA 
      IdleAnimation = AIRPlt_SKL.AIRPlt_IDB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState = FREEFALL
      Animation = AIRPlt_SKL.AIRPLT_PFL
      AnimationMode = ONCE
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIRPlt_SKL.AIRPlt_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
      WaitForStateToFinishIfPossible = TRANS_Falling
    End
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = AIRPlt_SKL.AIRPlt_RNA 
      AnimationMode = LOOP
      TransitionKey = TRANS_Stand
      ParticleSysBone     = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = AIRPlt_SKL.AIRPlt_DTA 
      Animation = AIRPlt_SKL.AIRPlt_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIRPlt_SKL.AIRPlt_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIRPlt_SKL.AIRPlt_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIRPlt_SKL.AIRPlt_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AIRPLT_SKL.AIRPLT_CHA
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_PTD
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Pilot
  Side = AmericaAirForceGeneral
  EditorSorting = INFANTRY
  BuildCost  = 900
  BuildTime  = 9.0
  TransportSlotCount = 1
  ExperienceValue    = 0 0 0 0
  ExperienceRequired = 0 1 2 3
  IsTrainable = Yes
  CommandSet = StopOnlyGenericCommandSet
  VisionRange = 150
  ShroudClearingRange = 200
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  Prerequisites
    Object = AirF_AmericaBarracks
    Object = AirF_AmericaStrategyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = PilotVoiceSelect
  VoiceMove = PilotVoiceMove
  VoiceAttack = PilotVoiceMove
  VoiceGarrison = PilotVoiceMove 
  VoiceFear = PilotVoiceFear
  UnitSpecificSounds
    VoiceCreate       = PilotVoiceSelect
    VoiceEnter        = PilotVoiceEnter
    VoiceEnterHostile = PilotVoiceEnter
    VoiceGetHealed    = PilotVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE IGNORES_SELECT_ALL CAN_BE_REPULSED

  Behavior = VeterancyGainCreate ModuleTag_02
    StartingLevel = HEROIC
  End

  Behavior = VeterancyCrateCollide       ModuleTag_03
    RequiredKindOf = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ForbiddenKindOf = DOZER       ; but not to TRANSPORTs or DOZERs!
    EffectRange = 0               ; 0=="affect only the thing you collide with"
    AddsOwnerVeterancy = Yes      ; we add our own veterancy to the target (rather than just +1 level)
    IsPilot = Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba 
    ScanRate = 1000
    ScanRange = 300
    MinHealth = 0.5
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor
  Locomotor = SET_NORMAL_UPGRADED FastHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 24.0
  End

  Behavior = LocomotorSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = SquishCollide ModuleTag_11
  End

  ; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_PilotDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------
Object AirF_AmericaJetSpectreGunship1

  ; *** ART Parameters ***
  Draw = W3DOverlordAircraftDraw ModuleTag_01

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
    End

    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING

   OkToChangeModelColor = Yes

   ParticlesAttachedToAnimatedBones = Yes 
 End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0 
  ShroudClearingRange = 300

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY  SpectreHowitzerGun
  End

  ExperienceValue = 50 50 50 50
  IsTrainable = No

  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1200.0
    InitialHealth   = 1200.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 200   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 10000 ;LEVEL1 (less than normal)!!!!

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End

  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Scale = 0.9
  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
End

;--------------------------------
Object AirF_AmericaJetSpectreGunship2

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01 ; Works with the dependencyModelDraw of the upgrade portable structures

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
    End

    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End


    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING

    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes 
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0 
  ShroudClearingRange = 300

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 50 100 150 400
  IsTrainable = No

  ; *** AUDIO Parameters ***
  VoiceSelect         = SpectreGunshipVoiceSelect
  VoiceAttack         = SpectreGunshipVoiceAttack
  VoiceMove         = SpectreGunshipVoiceMove
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = SpectreHowitzerWeapon
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes ; this AIUpdate will only do command if from script or AI, not player
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7   ; steepness of orbit entry
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300   ; how long between each attempted shot of howitzer
    HowitzerFollowLag       = 200   ; how long after gattling acquires target can howitzer shoot same
    StrafingIncrement       = 20    ; how far apart is each shot of the gattling as it strafes
    AttackAreaRadius        = 200
    OrbitTime               = 15000 ;LEVEL2 (normal)

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End

  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Scale = 0.9
  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
End

;--------------------------------
Object AirF_AmericaJetSpectreGunship3

  ; *** ART Parameters ***

  Draw = W3DOverlordAircraftDraw ModuleTag_01

    ;----NORMAL-------------
    DefaultConditionState
      Model           = AVSGunship
      WeaponFireFXBone    = PRIMARY MUZZLE
      WeaponFireFXBone    = SECONDARY MUZZLE
      WeaponMuzzleFlash   = PRIMARY MUZZLEFX
      WeaponMuzzleFlash   = SECONDARY MUZZLEFX
    End

    ConditionState    = DOOR_1_OPENING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
    End

    ConditionState    = DOOR_1_CLOSING
      Model           = AVSGunship                 
      Animation       = AVSGunship.AVSGunship    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
    End


    ;----DAMAGED-------------
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End

    ;----REALLY DAMAGED-------------
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES START_FRAME_FIRST
      ParticleSysBone = WingTip01 SpectreContrail
      ParticleSysBone = WingTip02 SpectreContrail
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVSGunship_D                 
      Animation       = AVSGunship_D.AVSGunship_D    
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = Engine01 SpectreAfterburnerTrail
      ParticleSysBone = Engine02 SpectreAfterburnerTrail
      ParticleSysBone = Engine01 SpectreEngineFlare
      ParticleSysBone = Engine02 SpectreEngineFlare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke02 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 SpectreSmokeLarge
    End

    ConditionState = RUBBLE
      Model           = AVSGunship_D1
      ParticleSysBone = Smoke01 SpectreGunshipFireLarge
      ParticleSysBone = Smoke05 SpectreGunshipFireLarge
      ParticleSysBone = Smoke03 SpectreGunshipFireLarge
      ParticleSysBone = Smoke04 SpectreGunshipFireLarge
      ParticleSysBone = Smoke01 SpectreSmokeLarge
      ParticleSysBone = Smoke03 SpectreSmokeLarge
      ParticleSysBone = Smoke02 SpectreSmokeLarge
      ParticleSysBone = Smoke05 SpectreSmokeLarge
    End
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED RUBBLE DOOR_1_OPENING
   OkToChangeModelColor = Yes
   ParticlesAttachedToAnimatedBones = Yes 
 End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SpectreGunship
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0 
  ShroudClearingRange = 300

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   SpectreHowitzerGun
  End

  ExperienceValue = 50 100 150 400
  IsTrainable = No

  ; *** AUDIO Parameters ***
  SoundAmbient = SpectreGunshipAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    Afterburner    = SpectreGunshipAfterburnerLoop
    HowitzerFire   = CrusaderTankWeapon
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK VEHICLE AIRCRAFT SCORE SELECTABLE EMP_HARDENED

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 600.0
    InitialHealth   = 600.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior                          = JetSlowDeathBehavior ModuleTag_04
    DestructionDelay                = 99999999  ; destruction will happen when we
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_SpectreGunshipExplosionLight
    OCLInitialDeath                 = None
    DelaySecondaryFromInitialDeath  = 500       ; in milliseconds
    FXSecondary                     = FX_spectreDeathExplosion
    OCLSecondary                    = None
    FXHitGround                     = FX_spectreGunshipDeathExplosion
    OCLHitGround                    = OCL_A10DeathHitGround
    DelayFinalBlowUpFromHitGround   = 200       ; in milliseconds
  ; FXFinalBlowUp                   = FX_spectreGunshipDeathExplosion
    OCLFinalBlowUp                  = OCL_SpectreDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = AIUpdateInterface ModuleTag_07
    ForbidPlayerCommands = Yes
  End
  Locomotor = SET_PANIC SpectreGunshipTransitLocomotor
  Locomotor = SET_NORMAL SpectreGunshipOrbitLocomotor

  Behavior = SpecialAbility ModuleTag_32 
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior = SpectreGunshipUpdate ModuleTag_10
    GattlingStrafeFXParticleSystem  = SpectreGattlingArmsSmoke
    SpecialPowerTemplate            = AirF_SuperweaponSpectreGunship
    HowitzerWeaponTemplate          = SpectreHowitzerGun
    GattlingTemplateName            = SpectreGunshipGattlingCannon 
    RandomOffsetForHowitzer = 20     
    TargetingReticleRadius  = 25
    OrbitInsertionSlope     = 0.7
    GunshipOrbitRadius      = 250
    HowitzerFiringRate      = 300
    HowitzerFollowLag       = 200
    StrafingIncrement       = 20
    AttackAreaRadius        = 200
    OrbitTime               = 20000 ;LEVEL3 (more than normal)!!!!

    AttackAreaDecal
      Texture           = SCCSpecTarg
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 25%
      OpacityMax        = 50%
      OpacityThrobTime  = 1500
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
    TargetingReticleDecal
      Texture           = SCCSpecRet
      Style             = SHADOW_ALPHA_DECAL
      OpacityMin        = 50%
      OpacityMax        = 100%
      OpacityThrobTime  = 300
      Color             = R:127 G:177 B:222 A:255 
      OnlyVisibleToOwningPlayer = Yes
    End
  End

  Behavior = HelixContain ModuleTag_09
    Slots                     = 1
    DamagePercentToUnits      = 100%
    AllowInsideKindOf         = PORTABLE_STRUCTURE
    PassengersAllowedToFire   = Yes
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_11
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Scale = 0.9
  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetAurora

  ; *** ART Parameters ***
  SelectPortrait         = SAFulArAurora_L
  ButtonImage            = SAFulArAurora

  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo2 = Upgrade_AmericaCountermeasures
  
  Draw = W3DModelDraw ModuleTag_Draw01

    DefaultConditionState
      Model               = AVAuroraAG
      HideSubObject       = BurnerFX03 BurnerFX04
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVAuroraAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = RUBBLE
      Model               = AVAurora_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVAurora_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw ModuleTag_Draw02
    DefaultConditionState  
      Model = NONE
    End   
    ConditionState = JETEXHAUST JETAFTERBURNER 
      Model = NONE 
    End 
    ConditionState = JETEXHAUST JETAFTERBURNER ATTACKING 
      Model = NONE
    End 
    ConditionState = JETEXHAUST 
      Model = NONE  
    End   
    ConditionState = JETEXHAUST ATTACKING  
      Model = AVAurora_V
      ParticleSysBone  = ENGINE WarheadTrail02
    End  
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupW_Aurora
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 180.0 
  ShroudClearingRange = 400
  BuildCost  = 2000
  BuildTime  = 20.0 

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_Rank5
  End

  WeaponSet
    Conditions = None 
    Weapon           = PRIMARY AuroraAlphaBombWeapon
    PreferredAgainst = PRIMARY VEHICLE STRUCTURE
  End

  ArmorSet
    Conditions    = None
    Armor         = AuroraAirplaneArmor
    DamageFX      = None
  End
  ArmorSet
    Conditions    = PLAYER_UPGRADE
    Armor         = CountermeasuresAuroraAirplaneArmor
    DamageFX      = None
  End

  ExperienceValue    = 140 203 297 426
  ExperienceRequired = 0 421 610 892
  IsTrainable = Yes
  CrusherLevel      = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel    = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet        = AirF_AmericaGenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = FuelAirAuroraVoiceSelect
  VoiceMove = AuroraBomberVoiceMove
  VoiceGuard = AuroraBomberVoiceMove
  VoiceAttack = FuelAirAuroraVoiceAttack
  SoundAmbient = AuroraBomberAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate          = FuelAirAuroraVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = AuroraBomberVoiceLowFuel
    VoiceGarrison        = AuroraBomberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 90.0
    InitialHealth   = 90.0
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_AuroraDeathFinalBlowUp
    DestructionDelay                = 99999999
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 125.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_AuroraDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_06
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = JetAIUpdate ModuleTag_07
    OutOfAmmoDamagePerSecond    = 0%
    TakeoffDistForMaxLift       = 0%
    TakeoffPause                = 500
    MinHeight                   = 5
    SneakyOffsetWhenAttacking   = -50.0
    AttackLocomotorType         = SET_SUPERSONIC
    AttackLocomotorPersistTime  = 100
    AttackersMissPersistTime    = 2000
    ReturnForAmmoLocomotorType  = SET_SLUGGISH
    ReturnToBaseIdleTime        = 10000
  End
  Locomotor = SET_NORMAL      AuroraJetLocomotor
  Locomotor = SET_SUPERSONIC  AuroraJetSupersonicLocomotor
  Locomotor = SET_SLUGGISH    AuroraJetSluggishLocomotor
  Locomotor = SET_TAXIING     BasicJetTaxiLocomotor

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = VeterancyGainCreate ModuleTag_23
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_AuroraMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetF16XL

  ; *** ART Parameters ***
  SelectPortrait         = SAF16XL_L
  ButtonImage            = SAF16XL
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_AmericaBunkerBusters
  UpgradeCameo5 = Upgrade_ImpulseEngines

  Draw = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model            = AVF16XL
      HideSubObject    = BurnerFX01
      WeaponLaunchBone = PRIMARY MISSILE
    End
    AliasConditionState = USER_1
    
    ConditionState     = JETEXHAUST
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState     = JETEXHAUST JETAFTERBURNER
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject    = BurnerFX03 BurnerFX04
      ParticleSysBone  = Engine01 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF16XL_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState = REALLYDAMAGED USER_1

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF16XL_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF16XL_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AVF16XL_E
      HideSubObject       = None 
      ShowSubObject       = None
    End
    AliasConditionState = RUBBLE USER_1

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF16XL_E
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER USER_1

    ConditionState        = JETEXHAUST USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST USER_1
      Model               = AVF16XL_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER USER_1
      Model               = AVF16XL_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:F16XL
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 200.0 
  ShroudClearingRange = 400.0
  BuildCost           = 900
  BuildTime           = 9
  ExperienceValue     = 55 79 116 166
  ExperienceRequired  = 0 164 238 347
  IsTrainable         = Yes
  CrusherLevel        = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaGenericCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AirF_StealthJetMissileWeapon
  End

  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions       = PLAYER_UPGRADE
    Armor            = CountermeasuresAirplaneArmor
    DamageFX         = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = The16thVoiceSelect
  VoiceMove       = The16thVoiceMove
  VoiceAttack     = The16thVoiceAttack
  VoiceAttackAir  = The16thVoiceAttack
  VoiceGuard      = The16thVoiceMove
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate   = The16thVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceGarrison = The16thVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 175.0
    InitialHealth = 175.0
    SubdualDamageCap = 350
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond = 0%
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Locomotor = SET_NORMAL_UPGRADED RaptorJetLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_77
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Behavior = ModelConditionUpgrade ModuleTag_Engines02
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_F16XLDeathFinalBlowUp
    DestructionDelay                = 99999999
    RollRate                        = 0.2
    RollRateDelta                   = 100%
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%
    FXInitialDeath                  = FX_StealthFighterDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_F16XLDeathFinalBlowUp
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_F16XLMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 7.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleComanche

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_ComancheRocketPods
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaCountermeasures
  UpgradeCameo5 = Upgrade_StealthCovering

  Draw = W3DOverlordAircraftDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model             = AVComancheAG
      Turret            = CHASSIS
      HideSubObject     = MissileUpgrade TurretFX01
      Animation         = AVComancheAG.AVComancheAG
      AnimationMode     = LOOP
      WeaponFireFXBone  = PRIMARY WeaponB
      WeaponLaunchBone  = PRIMARY WeaponB
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComancheAG_d
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComancheAG.AVComancheAG
      AnimationMode                   = LOOP
      WeaponFireFXBone  = SECONDARY WeaponB
      WeaponLaunchBone  = SECONDARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVComancheAG_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = SECONDARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVComancheAG_d
      Animation                       = AVComancheAG_d.AVComancheAG_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComancheAG_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 200.0 
  ShroudClearingRange = 400
  BuildCost           = 1100
  BuildTime           = 11
  ExperienceValue     = 57 83 121 174
  ExperienceRequired  = 0 171 249 364
  IsTrainable         = Yes
  CommandSet          = AirF_AmericaVehicleComancheCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY  ComancheAntiTankMissileWeapon
    Weapon              = TERTIARY ComancheLaunchDroneWeapon
    AutoChooseSources   = TERTIARY  NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    Weapon              = PRIMARY   ComancheAntiTankMissileWeapon
    Weapon              = SECONDARY ComancheRocketPodWeapon
    Weapon              = TERTIARY  ComancheLaunchDroneWeapon
    AutoChooseSources   = SECONDARY  NONE
    AutoChooseSources   = TERTIARY  NONE
  End

  ArmorSet
    Conditions        = None
    Armor             = ComancheArmor
    DamageFX          = None
  End
  ArmorSet 
    Conditions        = PLAYER_UPGRADE
    Armor             = CountermeasuresComancheArmor
    DamageFX          = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect        = ComancheVoiceSelect
  VoiceMove          = ComancheVoiceMove
  VoiceGuard         = ComancheVoiceMove
  VoiceAttack        = ComancheVoiceAttack
  SoundAmbient       = ComancheAmbientLoop
  SoundAmbientRubble = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff

  UnitSpecificSounds
    VoiceCreate         = ComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 200.0
    InitialHealth   = 200.0
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    Turret
      TurretTurnRate = 180
      TurretPitchRate = 0
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      RecenterTime    = 100
    End
  End
  Locomotor = SET_NORMAL  ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay               = 99999999
    SpiralOrbitTurnRate            = 140.0
    SpiralOrbitForwardSpeed        = 350.0
    SpiralOrbitForwardSpeedDamping = .9999
    MaxBraking                     = 190
    SoundDeathLoop                 = ComancheDamagedLoop
    MinSelfSpin                    = 100
    MaxSelfSpin                    = 300
    SelfSpinUpdateDelay            = 100
    SelfSpinUpdateAmount           = 10
    FallHowFast                    = 12.0%
    MinBladeFlyOffDelay            = 1500
    MaxBladeFlyOffDelay            = 1500
    AttachParticle                 = SootySmokeTrail
    AttachParticleBone             = Propeller02
    BladeObjectName                = ComancheBlades
    BladeBoneName                  = Propeller01    
    FXBlade                        = FX_HelicopterBladeExplosion
    OCLBlade                       = OCL_HelicopterBladeExplosion
    FXHitGround                    = FX_HelicopterHitGround
    OCLHitGround                   = OCL_HelicopterHitGround
    FXFinalBlowUp                  = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                 = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath    = 1500
    FinalRubbleObject              = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior      = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = StealthUpdate ModuleTag_Stealth1
    StealthDelay                         = 1000
    StealthForbiddenConditions           = FIRING_PRIMARY ATTACKING USING_ABILITY RIDERS_ATTACKING
    FriendlyOpacityMin                   = 50.0%
    FriendlyOpacityMax                   = 100.0%
    InnateStealth                        = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Behavior = StealthUpgrade ModuleTag_Stealth2
    TriggeredBy = Upgrade_StealthCovering
  End

  Behavior = OverlordContain ModuleTag_Turret
    Slots                   = 1
    DamagePercentToUnits    = 100%
    AllowInsideKindOf       = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AmericaComancheTurret
    PassengersInTurret      = Yes
    ExperienceSinkForRider  = Yes
  End

  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryColonelBurton

  ; *** ART Parameters ***
  SelectPortrait         = SABurton_L
  ButtonImage            = SABurton
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = AIHERO_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponFireFXBone    = TERTIARY Muzzle
      WeaponLaunchBone    = TERTIARY Muzzle
      WeaponMuzzleFlash   = TERTIARY MuzzleFX
      WeaponMuzzleFlash   = SECONDARY NONE
      HideSubObject     = MUZZLEFX01
    End
     
    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End
 
    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 26
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = MOVING FIRING_C
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C
    AliasConditionState = MOVING RELOADING_C

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_WalkingInjured
      ParticleSysBone  = None InfantryDustTrails
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED
    AliasConditionState = MOVING FIRING_C REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_C REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.2 0.2
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.3 0.4
      TransitionKey     = TRANS_FiringAInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B 
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
      HideSubObject     = MUZZLEFX01
    End

    ConditionState      = RELOADING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED 
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
      HideSubObject     = MUZZLEFX01
    End

    ConditionState      = RELOADING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
      Flags             = START_FRAME_FIRST
      HideSubObject     = MUZZLEFX01
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    ; Firing animation
    ConditionState      = FIRING_C
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.6 0.6
      TransitionKey     = TRANS_FiringC
    End

    ConditionState      = PREATTACK_C
      TransitionKey     = TRANS_PAC
      Animation         = AIHERO_SKL.AIHERO_ATA 15
      AnimationMode     = ONCE
      Flags = RANDOMSTART
      AnimationSpeedFactorRange = 0.6 0.6
      WaitForStateToFinishIfPossible = TRANS_BFSC
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_C
      TransitionKey     = TRANS_BFSC
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = MANUAL
      AnimationSpeedFactorRange = 0.6 0.6
      WaitForStateToFinishIfPossible = TRANS_FiringC
    End
    AliasConditionState = RELOADING_C

    ; Injured Firing animation
    ConditionState      = FIRING_C REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.6 0.6
      TransitionKey     = TRANS_FiringCI
    End

    ConditionState      = PREATTACK_C REALLYDAMAGED
      TransitionKey     = TRANS_PACI
      Animation         = AIHERO_SKL.AIHERO_IATA 15
      AnimationMode     = ONCE
      Flags = RANDOMSTART
      AnimationSpeedFactorRange = 0.6 0.6
      WaitForStateToFinishIfPossible = TRANS_BFSCI
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_C REALLYDAMAGED
      TransitionKey     = TRANS_BFSCI
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = MANUAL
      AnimationSpeedFactorRange = 0.6 0.6
      WaitForStateToFinishIfPossible = TRANS_FiringCI
    End
    AliasConditionState = RELOADING_C REALLYDAMAGED

    TransitionState     = TRANS_FiringC TRANS_FiringCInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ColonelBurton
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1
  VisionRange         = 150
  ShroudClearingRange = 300
  BuildCost           = 2000
  BuildTime           = 20.0
  ExperienceValue     = 52 69 92 122
  ExperienceRequired  = 0 155 206 275
  IsTrainable         = Yes
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaInfantryColonelBurtonCommandSet
  MaxSimultaneousOfType = 1

  WeaponSet
    Conditions  = None 
    Weapon      = PRIMARY   ColonelBurtonSniperRifleWeapon
    Weapon      = SECONDARY ColonelBurtonKnifeWeapon
    Weapon      = TERTIARY    BurtonA10CallWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  Prerequisites
    Object = AirF_AmericaBarracks
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_AIRF SCIENCE_CYBR SCIENCE_LAZR SCIENCE_SUPW
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed        = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE HERO CANNOT_RETALIATE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 24.0
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY FIRING_TERTIARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 1
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500          ;NOTE: Modifying this value will require modifying the delay for ColonelBurtonPlantCharge
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
    PreTriggerUnstealthTime   = 5000 ; in milliseconds
  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.1     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
    Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = LockWeaponCreate ModuleTag_21Lock
    SlotToLock = PRIMARY
  End

  Behavior = StealthDetectorUpdate ModuleTag_MineDetector ;+
    DetectionRate   = 250
    ExtraForbiddenKindOf     = VEHICLE INFANTRY STRUCTURE AIRCRAFT
  End

  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryRanger

  ; *** ART Parameters ***
  SelectPortrait         = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_InfantryCaptureBuilding

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRNGRN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Grenade Launcher)
    ConditionState      = PREATTACK_B 
      Animation         = AIRngr_SKL.AIRngr_ATBA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringB
      WaitForStateToFinishIfPossible = TRANS_FiringB
    End
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATBST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATBST2
      AnimationMode     = ONCE
    End

    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2A
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringBInjured
      WaitForStateToFinishIfPossible = TRANS_FiringBInjured
    End
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions
    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
      ParticleSysBone   = None BloodPoolGrowing00
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture
    ConditionState      = UNPACKING
      Model             = AIRNGRN_F
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = REALLYDAMAGED UNPACKING

    ConditionState      = RAISING_FLAG
      Model             = AIRNGRN_F
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = REALLYDAMAGED RAISING_FLAG

    ConditionState      = PACKING
      Model             = AIRNGRN_F
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = REALLYDAMAGED PACKING

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRNGRN_F
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ranger
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1
  VisionRange         = 150
  ShroudClearingRange = 200
  BuildCost           = 300
  BuildTime           = 3.0
  ExperienceValue     = 8 12 17 24
  ExperienceRequired  = 0 24 35 51
  IsTrainable         = Yes
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryRangerCommandSet
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RangerAdvancedCombatRifle
  End

  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  Prerequisites
    Object = AirF_AmericaBarracks
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = RangerVoiceModeFlashBang
  End

  UnitSpecificFX
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE CAN_RAPPEL

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 150.0
    InitialHealth   = 150.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 24.0
  End

  Behavior = ProductionUpdate ModuleTag_08
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End
  
  ; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 5000
    SinkRate            = 0.1
    DestructionDelay    = 20000
    FX                  = INITIAL FX_RangerDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 5000
    SinkRate            = 0.1
    DestructionDelay    = 20000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End

  ; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
 
  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityInfantryCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityInfantryCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000
    PreparationTime       = 20000
    PackTime              = 2000
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 8
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityInfantryCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY
  End
  
   Behavior = StealthUpdate ModuleStealth_USA
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY TAKING_DAMAGE
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End  

  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object AirF_AmericaInfantryMissileDefender

  ; *** ART Parameters ***
  SelectPortrait         = SAMissleDefender_L
  ButtonImage            = SAMissleDefender
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = AISRAW
      IdleAnimation     = NITHNT_SKL.NITHNT_STA 0 30
      IdleAnimation     = NITHNT_SKL.NITHNT_IDA
      IdleAnimation     = NITHNT_SKL.NITHNT_IDB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 0.8 1.2
      TransitionKey     = TRANS_Stand
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponLaunchBone  = PRIMARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle

    End
    AliasConditionState = REALLYDAMAGED

    ConditionState      = MOVING
      Animation         = NITHNT_SKL.NITHNT_RNA 20
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ;--------------------------------------------------- Firing weapon
    ConditionState      = FIRING_A 
      Animation         = NITHNT_SKL.NITHNT_ATA 
      AnimationMode     = ONCE
      TransitionKey     = TRANS_START_FIRING
    End
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = FIRING_B
    AliasConditionState = FIRING_B REALLYDAMAGED

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = NITHNT_SKL.NITHNT_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = RELOADING_A
      Animation         = NITHNT_SKL.NITHNT_ATA 10
      AnimationMode     = ONCE
      ;WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = RELOADING_B
    AliasConditionState = MOVING RELOADING_B
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ;---- Dying
    ConditionState      = DYING
      Animation         = NITHNT_SKL.NITHNT_DTA
      Animation         = NITHNT_SKL.NITHNT_DTB
      AnimationSpeedFactorRange = 0.9 1.25
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = NITHNT_SKL.NITHNT_ADTA1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = NITHNT_SKL.NITHNT_ADTA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
      ParticleSysBone   = NONE BloodTrailBig
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = NITHNT_SKL.NITHNT_ADTA3
      AnimationMode     = ONCE
      TransitionKey     = None
      ParticleSysBone   = None BloodPoolGrowing00
    End

    ;PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = NITHNT_SKL.NITHNT_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = NITHNT_SKL.NITHNT_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = NITHNT_SKL.NITHNT_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = NITHNT_SKL.NITHNT_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MissileTeam
  Side                = AmericaAirForceGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1
  VisionRange         = 190
  ShroudClearingRange = 200
  BuildCost = 400
  BuildTime = 4.0
  ExperienceValue = 11 17 24 35
  ExperienceRequired = 0 34 50 73
  IsTrainable = Yes
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaInfantryMissileDefenderCommandSet
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY  MissileDefenderMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  Prerequisites
    Object = AirF_AmericaBarracks
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = MissileDefenderVoiceSelect
  VoiceMove = MissileDefenderVoiceMove
  VoiceGuard = MissileDefenderVoiceMove
  VoiceAttack = MissileDefenderVoiceAttack
  VoiceAttackAir = MissileDefenderVoiceAttack
  VoiceFear = MissileDefenderVoiceFear
  
  UnitSpecificSounds
  VoiceGarrison = MissileDefenderVoiceGarrison
    VoiceCreate          = MissileDefenderVoiceCreate
    VoiceEnter = MissileDefenderVoiceMove
    VoiceGetHealed      = MissileDefenderVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE PARACHUTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0
  End

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate ModuleTag_05
    ScanRate = 1000
    ScanRange = 300
    NeverHeal = 0.85
    AlwaysHeal = 0.25
  End

  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 24.0
  End

  Behavior = SquishCollide ModuleTag_10
  End

  Behavior = CommandButtonHuntUpdate ModuleTag_CBHunt
  End

  ; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_8 -EXTRA_5 -EXTRA_6 -EXTRA_7 -EXTRA_2 -EXTRA_3 -EXTRA_4
    SinkDelay           = 3000
    SinkRate            = 0.1
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MissileDefenderDie
    OCL                 = INITIAL OCL_BloodPool
  End
  Behavior = SlowDeathBehavior ModuleTag_DeathGib
    DeathTypes          = NONE +EXTRA_8 +EXTRA_5
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryGibExplode
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.1
    DestructionDelay    = 1
    FX                  = INITIAL FX_GIDieCrushed
    OCL                 = INITIAL OCL_InfantryGibCrush
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.1
    DestructionDelay    = 8000
    FX                  = INITIAL FX_MissileDefenderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantryUSA
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
  Behavior = SlowDeathBehavior ModuleTag_Death08
    DeathTypes          = NONE +EXTRA_6
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_RadiationInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death09
    DeathTypes          = NONE +EXTRA_7
    DestructionDelay    = 1
    FX                  = INITIAL FX_InfantryDieGib
    OCL                 = INITIAL OCL_InfantryMineExplode
    FX                  = FINAL FX_MissileDefenderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death15
    DeathTypes          = NONE +EXTRA_2
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrightening
  End
    Behavior = SlowDeathBehavior ModuleTag_Death16
    DeathTypes          = NONE +EXTRA_3
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningBeta
  End
  Behavior = SlowDeathBehavior ModuleTag_Death17
    DeathTypes          = NONE +EXTRA_4
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryFrighteningGamma
  End
  ; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100
    PoisonDuration = 3000
  End
  
  Behavior = WeaponBonusUpgrade ModuleTag_Upg
    TriggeredBy = Upgrade_AmericaLaserMissiles
  End
 
  Scale = 0.95
  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleHumvee

  ; *** ART Parameters ***
  SelectPortrait         = SAHummer_L
  ButtonImage            = SAHummer
  
  UpgradeCameo1 = Upgrade_AmericaTOWMissile
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  
  Draw = W3DTruckDraw ModuleTag_Draw01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVHUMMER
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01 DOOR01 DOOR02
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = REALLYDAMAGED
      Model = AVHUMMER_d
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01 DOOR01 DOOR02
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01 DOOR01 DOOR02
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponLaunchBone = PRIMARY MuzzleUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER_d
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01 DOOR01 DOOR02
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponLaunchBone = PRIMARY MuzzleUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    ConditionState = SNOW
      Model = AVHUMMER
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01 DOOR01 DOOR02 Tire03 Tire04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = SNOW REALLYDAMAGED
      Model = AVHUMMER_d
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01 DOOR01 DOOR02 Tire03 Tire04
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = SNOW WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01 DOOR01 DOOR02 Tire03 Tire04
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponLaunchBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = SNOW REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER_d
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01 DOOR01 DOOR02 Tire03 Tire04
      ShowSubObject = TurretUp01 Housecolor03
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.
  End

  Draw = W3DTruckDraw ModuleTag_Draw02
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AvHumvee_R
    End
    ConditionState = REALLYDAMAGED
      Model = AvHumvee_RD
    End
    AliasConditionState = RUBBLE

    ConditionState = DOOR_1_OPENING
      Model           = AvHumvee_R
      Animation       = AvHumvee_R.AvHumvee_R
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOOR_1_CLOSING
      Model           = AvHumvee_R
      Animation       = AvHumvee_R.AvHumvee_R
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model           = AvHumvee_RD
      Animation       = AvHumvee_RD.AvHumvee_RD
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AvHumvee_RD
      Animation       = AvHumvee_RD.AvHumvee_RD
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End

  Draw = W3DModelDraw ModuleTag_Draw03
    ConditionState = NONE
      Model = NONE
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE

    ConditionState = SNOW
      Model = avhummer_t
    End
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW REALLYDAMAGED
    AliasConditionState = SNOW RUBBLE

    ConditionState = AFLAME
      Model = NONE
      ParticleSysBone = NONE TankFireContinious
      
    End
    AliasConditionState = DAMAGED AFLAME
    AliasConditionState = REALLYDAMAGED AFLAME
    AliasConditionState = RUBBLE AFLAME

    ConditionState = SNOW AFLAME
      Model = avhummer_t
      
      ParticleSysBone = NONE TankFireContinious
    End
    AliasConditionState = SNOW DAMAGED AFLAME
    AliasConditionState = SNOW REALLYDAMAGED AFLAME
    AliasConditionState = SNOW RUBBLE AFLAME
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Humvee
  Side                  = AmericaAirForceGeneral
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3
  BuildCost       = 700
  BuildTime       = 7.0
  VisionRange     = 150
  ShroudClearingRange = 400

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY HumveeGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HumveeGun
    Weapon = SECONDARY HumveeMissileWeapon
  End
  ArmorSet
    Conditions    = None
    Armor         = AntiAirVehicle
    DamageFX      = TruckDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue    = 22 32 47 67
  ExperienceRequired = 0 67 96 141
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel   = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet     = AirF_AmericaVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT PARACHUTABLE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 280.0
    InitialHealth   = 280.0
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL HumveeLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots        = 5
    DamagePercentToUnits = 100%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    DoorOpenTime = 1300
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_Drone06
    MaxQueueEntries = 1
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaTOWMissile
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End
  Behavior = SlowDeathBehavior ModuleTag_Poisoned
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    DestructionDelay = 0
    OCL = FINAL OCL_InitialHumveeDebris
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleDozer

  ; *** ART Parameters ***
  SelectPortrait         = SACDozer_L
  ButtonImage            = SACDozer

  UpgradeCameo1 = Upgrade_AmericaTurbodiesel
  
  Draw = W3DTruckDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = AVCONSTDOZ_A
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeLight
      WaitForStateToFinishIfPossible = TRANS_DIGGING
    End

    ConditionState = PREATTACK_A 
      Animation         = AVCONSTDOZ_A.AVCONSTDOZ_A
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      ParticleSysBone   = DIRTFX01 DozerDirtFall ;gush of dirt
      TransitionKey     = TRANS_DIGGING
    End

    ConditionState = MOVING
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING
    End

    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED
    End

    ConditionState = PREATTACK_A REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      Animation         = AVCONSTDOZ_AD.AVCONSTDOZ_AD
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      TransitionKey     = TRANS_DIGGING_DAMAGED
    End

    ConditionState      = MOVING REALLYDAMAGED RUBBLE
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED
    End

    ConditionState = AFLAME
      Model             = AVCONSTDOZ_A
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeLight
      WaitForStateToFinishIfPossible = TRANS_DIGGING_AFLAME
      
      ParticleSysBone = CHASSIS TankFireContinious
    End

    ConditionState = PREATTACK_A AFLAME
      Animation         = AVCONSTDOZ_A.AVCONSTDOZ_A
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      ParticleSysBone   = DIRTFX01 DozerDirtFall ;gush of dirt
      TransitionKey     = TRANS_DIGGING_AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End

    ConditionState = MOVING AFLAME
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End

    ConditionState      = REALLYDAMAGED RUBBLE AFLAME
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED_AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End

    ConditionState = PREATTACK_A REALLYDAMAGED RUBBLE AFLAME
      Model             = AVCONSTDOZ_AD
      Animation         = AVCONSTDOZ_AD.AVCONSTDOZ_AD
      AnimationMode     = ONCE
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      TransitionKey     = TRANS_DIGGING_DAMAGED_AFLAME
      ParticleSysBone   = CHASSIS TankFireContinious
      
    End

    ConditionState      = MOVING REALLYDAMAGED RUBBLE AFLAME
      Model             = AVCONSTDOZ_AD
      ParticleSysBone   = EXHAUSTFX01 DozerSmokeHeavy
      WaitForStateToFinishIfPossible = TRANS_DIGGING_DAMAGED_AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End

    TrackMarks            = EXTireTrack2.tga
    Dust                  = RocketBuggyDust
    DirtSpray             = RocketBuggyDirtSpray
    LeftFrontTireBone     = TIRE01
    RightFrontTireBone    = TIRE02
    LeftRearTireBone      = TIRE03
    RightRearTireBone     = TIRE04
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.
    ParticlesAttachedToAnimatedBones = Yes 
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Dozer
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3
  BuildCost           = 1000
  BuildTime           = 10.0
  VisionRange         = 200
  ShroudClearingRange = 200

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End

  ArmorSet
    Conditions        = None
    Armor             = DozerArmor
    DamageFX          = TankDamageFX
  End
  ExperienceValue     = 0 0 0 0 ;Experience point value at each level
  CrusherLevel        = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaDozerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect         = DozerUSAVoiceSelect
  VoiceMove           = DozerUSAVoiceMove
  VoiceGuard          = DozerUSAVoiceMove
  VoiceTaskComplete   = DozerUSAVoiceBuildComplete
  SoundMoveStart      = DozerUSAMoveStart
  SoundMoveStartDamaged = DozerUSAMoveStart
  UnitSpecificSounds
    VoiceCreate           = DozerUSAVoiceCreate
    VoiceNoBuild          = DozerUSAVoiceBuildNot
    VoiceCrush            = DozerUSAVoiceCrush
    VoiceRepair           = DozerUSAVoiceRepair
    VoiceDisarm           = DozerUSAVoiceClearMine
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceEnter            = DozerUSAVoiceMove
    VoiceBuildResponse    = DozerUSAVoiceBuild
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = UNIT
  KindOf              = PRELOAD VEHICLE SCORE SELECTABLE CAN_CAST_REFLECTIONS DOZER
 
  Body                = ActiveBody ModuleTag_02
    MaxHealth         = 250.0
    InitialHealth     = 250.0
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DozerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond = 2%    ; % of max health to repair each second
    BoredTime                    = 5000  ; in milliseconds
    BoredRange                   = 150   ; when bored, we look this far away to do something
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle   = Yes
  End

  Locomotor = SET_NORMAL AmericaVehicleDozerLocomotor
  Locomotor = SET_NORMAL_UPGRADED AmericaVehicleDozerLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_07Speed
    TriggeredBy = Upgrade_AmericaTurbodiesel
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass   = 75.0
  End

  Behavior = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 1500
    DestructionDelayVariance = 600
    FX  = INITIAL FX_CrusaderCatchFire
    OCL = FINAL   OCL_AmericaDozerExplode  
    FX  = FINAL   FX_BattleMasterExplosionOneFinal
  End   

  Behavior = SlowDeathBehavior ModuleTag_Poisoned
    DeathTypes = NONE +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    DestructionDelay = 100
    OCL = FINAL OCL_AmericaDozerExplodePoisoned
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End
  
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX    = FX_CarCrush
  End

  Behavior = DestroyDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Geometry            = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight      = 15.0     
  GeometryIsSmall     = Yes
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45    
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSentryDrone

  ; *** ART Parameters ***
  SelectPortrait         = SAsentry_L
  ButtonImage            = SAsentry
  
  UpgradeCameo1 = Upgrade_APBullets

  Draw = W3DTankDraw ModuleTag_01
    
    InitialRecoilSpeed   = 10
    MaxRecoilDistance    = 1.5
    RecoilSettleSpeed    = 3

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model                           = AVSENTRY
      Animation                       = AVSENTRY.AVSENTRY
      AnimationMode                   = LOOP
      Turret                          = TURRET01
      HideSubObject                   = TURRETUP09
      WeaponFireFXBone  = PRIMARY   TurretFX
      WeaponLaunchBone  = PRIMARY   TurretFX
      WeaponMuzzleFlash = PRIMARY   TurretFX
      WeaponRecoilBone  = PRIMARY   TurretUp
    End
    ConditionState                    = REALLYDAMAGED
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      HideSubObject                   = TURRETUP09
    End
    ConditionState                    = RUBBLE
      Model                           = AVSENTRY_D1
      HideSubObject                   = TURRETUP09
    End
    AliasConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE 
    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model                           = AVSENTRY
      Animation                       = AVSENTRY.AVSENTRY
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
    End

    ConditionState = AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End
    ConditionState                    = REALLYDAMAGED AFLAME
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      HideSubObject                   = TURRETUP09
      ParticleSysBone = CHASSIS TankFireContinious
      
    End
    ConditionState                    = RUBBLE AFLAME
      Model                           = AVSENTRY_D1
      HideSubObject                   = TURRETUP09
      ParticleSysBone = CHASSIS TankFireContinious
      
    End
    AliasConditionState = RUBBLE WEAPONSET_PLAYER_UPGRADE AFLAME
    ConditionState = WEAPONSET_PLAYER_UPGRADE AFLAME
      Model                           = AVSENTRY
      Animation                       = AVSENTRY.AVSENTRY
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
      ParticleSysBone = CHASSIS TankFireContinious
      
    End
    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED AFLAME
      Model                           = AVSENTRY_D
      Animation                       = AVSENTRY_D.AVSENTRY_D
      AnimationMode                   = LOOP
      ShowSubObject                   = TURRETUP09
      ParticleSysBone = CHASSIS TankFireContinious
      
    End

    TrackMarks              = EXTnkTrack.tga
    TreadDebrisLeft         = SentryDroneTrackDebrisDirtLeft
    TreadDebrisRight        = SentryDroneTrackDebrisDirtRight
    TreadAnimationRate      = 4.0  ; amount of tread texture to move per second
  End

  ; ***DESIGN parameters ***
  DisplayName        = OBJECT:SentryDrone
  Side               = AmericaAirForceGeneral
  EditorSorting      = VEHICLE
  TransportSlotCount = 1
  BuildCost          = 600
  BuildTime          = 6.0
  VisionRange         = 200
  ShroudClearingRange = 400

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions        = PLAYER_UPGRADE
    Weapon            = PRIMARY SentryDroneGun
    Weapon            = SECONDARY DummyWeapon
    AutoChooseSources = PRIMARY   FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End

  Behavior = LockWeaponCreate ModuleTag_Lock
    SlotToLock = PRIMARY
  End

  Behavior = CommandSetUpgrade ModuleTag_ComSet01
    CommandSet = WeaponControlCommandSet
    TriggeredBy = Upgrade_APBullets
  End

  ArmorSet
    Conditions      = None
    Armor           = CyberDroneArmorWithRadar
    DamageFX        = TruckDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue = 23 34 49 71
  IsTrainable = No
  CrusherLevel   = 0  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet     = StopOnlyGenericCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = SentryDroneVoiceSelect
  VoiceMove             = SentryDroneVoiceMove
  VoiceGuard            = SentryDroneVoiceMove
  VoiceAttack           = SentryDroneVoiceMove
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate         = NoSound
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceEnter          = NoSound
    Deploy              = NoSound
    Undeploy            = NoSound
  End

  Behavior = WeaponSetUpgrade ModuleTag_03
    TriggeredBy = Upgrade_APBullets
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ATTACK_NEEDS_LINE_OF_SIGHT DRONE SALVAGER IGNORES_SELECT_ALL
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = DeployStyleAIUpdate ModuleTag_04
    Turret
      TurretTurnRate        = 180
      TurretPitchRate       = 180
      FirePitch             = 0            ; Instead of aiming pitchwise at the target, it will aim here
      AllowsPitch           = No
      RecenterTime          = 1000         ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY
      NaturalTurretAngle    = 0
      InitiallyDisabled     = No
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = No
    PackTime = 1000
    UnpackTime = 1000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
  End

  Locomotor = SET_NORMAL SentryLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End
  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY MOVING
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_AmericaVehicleSentryDroneDie
    FX =  FINAL FX_AmericaVehicleTomahawkDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
  End

  Behavior = MaxHealthUpgrade ModuleTag_Armor01
    TriggeredBy   = Upgrade_AmericaDroneArmor
    AddMaxHealth  = 90.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_11
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = StealthDetectorUpdate ModuleTag_Detector ;+
    DetectionRate   = 500
    DetectionRange  = 300
    ExtraForbiddenKindOf = AIRCRAFT
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = Cybr_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = Cybr_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = Cybr_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry = BOX
  GeometryMajorRadius = 9.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object AirF_AmericaTankAvenger

  ; *** ART Parameters ***
  SelectPortrait         = SARocketAvenger_L
  ButtonImage            = SARocketAvenger
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    DefaultConditionState
      Model            = AVAVNGER
      Turret           = HOUSECOLOR02
      WeaponLaunchBone = PRIMARY TurretFX03
      WeaponFireFXBone = PRIMARY TurretFX03
    End
    ConditionState     = REALLYDAMAGED
      Model            = AVAVNGER_D
    End
    ConditionState     = RUBBLE
      Model            = AVAVNGER_D1
    End

    ConditionState = AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
    End
    ConditionState     = REALLYDAMAGED AFLAME
      Model            = AVAVNGER_D
      ParticleSysBone = CHASSIS TankFireContinious
    End
    ConditionState     = RUBBLE AFLAME
      Model            = AVAVNGER_D1
      ParticleSysBone = CHASSIS TankFireContinious
    End
    
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0.0   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Avenger
  Side            = AmericaAirForceGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3
  BuildCost       = 900
  BuildTime       = 9.0
  VisionRange     = 175
  ShroudClearingRange = 300

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY HumveeGun
    Weapon = SECONDARY AvengerAirLaserDummy
  End

  ArmorSet
    Conditions = None
    Armor      = AntiAirVehicle
    DamageFX   = TankDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue        = 49 71 103 148
  ExperienceRequired     = 0 146 212 309
  IsTrainable     = Yes
  CrusherLevel    = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel  = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaGenericDronesCommandSet
    
  ; *** AUDIO Parameters ***
  VoiceSelect = AvengerVoiceSelect
  VoiceMove = AvengerVoiceMove
  VoiceGuard = AvengerVoiceMove
  VoiceAttack = AvengerVoicePaint
  VoiceAttackAir = AvengerVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart

  UnitSpecificSounds
    VoiceCreate     = AvengerVoiceCreate
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = AvengerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 275.0
    InitialHealth   = 275.0
    SubdualDamageCap = 1000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate        = 270
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL AvengerLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AmericaTankAvengerRailgunTurret
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End
  
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    CreationList = OCL_AvengerTankDeathEffectSimple
  End
  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
  End
  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = StealthDetectorUpdate ModuleTag_AircraftDetector ;+
    DetectionRate     = 500
    ExtraRequiredKindOf = AIRCRAFT
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object AirF_AmericaCommandCenter

  ; *** ART Parameters ***
  SelectPortrait         = SAComCentr_L
  ButtonImage            = SAComCentr

  UpgradeCameo1 = Upgrade_USABuildingDefense
  
  ; ----------------- Main Building ------------------------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ******************************************
    ConditionState       = NONE
      Model              = ABBtCmdHQA
      Animation          = ABBtCmdHQA.ABBtCmdHQA
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED
      Model              = ABBtCmdHQA_D
      Animation          = ABBtCmdHQA_D.ABBtCmdHQA_D
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABBtCmdHQA_E
      Animation          = ABBtCmdHQA_E.ABBtCmdHQA_E
      AnimationMode      = LOOP
    End

    ; night ****************************************
    ConditionState       = NIGHT
      Model              = ABBtCmdHQA_N
      Animation          = ABBtCmdHQA_N.ABBtCmdHQA_N
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED NIGHT
      Model              = ABBtCmdHQA_DN
      Animation          = ABBtCmdHQA_DN.ABBtCmdHQA_DN
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABBtCmdHQA_EN
      Animation          = ABBtCmdHQA_EN.ABBtCmdHQA_EN
      AnimationMode      = LOOP
     End    

    
    ; Snow
    ConditionState       = SNOW
      Model              = ABBtCmdHQA_S
      Animation          = ABBtCmdHQA_S.ABBtCmdHQA_S
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED SNOW
      Model              = ABBtCmdHQA_DS
      Animation          = ABBtCmdHQA_DS.ABBtCmdHQA_DS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABBtCmdHQA_ES
      Animation          = ABBtCmdHQA_ES.ABBtCmdHQA_ES
      AnimationMode      = LOOP
     End    
    
    ; night snow ****************************************
    ConditionState       = NIGHT SNOW
      Model              = ABBtCmdHQA_NS
      Animation          = ABBtCmdHQA_NS.ABBtCmdHQA_NS
      AnimationMode      = LOOP
    End  
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABBtCmdHQA_DNS
      Animation          = ABBtCmdHQA_DNS.ABBtCmdHQA_DNS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABBtCmdHQA_ENS
      Animation          = ABBtCmdHQA_ENS.ABBtCmdHQA_ENS
      AnimationMode      = LOOP
     End 

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQA
      Animation          = ABBtCmdHQA.ABBtCmdHQA
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQA_D
      Animation          = ABBtCmdHQA_D.ABBtCmdHQA_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQA_E
      Animation          = ABBtCmdHQA_E.ABBtCmdHQA_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABBtCmdHQA_N
      Animation          = ABBtCmdHQA_N.ABBtCmdHQA_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABBtCmdHQA_DN
      Animation          = ABBtCmdHQA_DN.ABBtCmdHQA_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABBtCmdHQA_EN
      Animation          = ABBtCmdHQA_EN.ABBtCmdHQA_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABBtCmdHQA_S
      Animation          = ABBtCmdHQA_S.ABBtCmdHQA_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABBtCmdHQA_DS
      Animation          = ABBtCmdHQA_DS.ABBtCmdHQA_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABBtCmdHQA_ES
      Animation          = ABBtCmdHQA_ES.ABBtCmdHQA_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABBtCmdHQA_NS
      Animation          = ABBtCmdHQA_NS.ABBtCmdHQA_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABBtCmdHQA_DNS
      Animation          = ABBtCmdHQA_DNS.ABBtCmdHQA_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABBtCmdHQA_ENS
      Animation          = ABBtCmdHQA_ENS.ABBtCmdHQA_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
   End

   ; ----------------- the factory door -------------------
   Draw                = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_A7D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT DAMAGED
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_A7E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW NIGHT
    
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED

    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
        
    ConditionState    = DOOR_1_OPENING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState    = DOOR_1_CLOSING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
        
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
  End
  
  PlacementViewAngle  = -135

  ; ------------ Radar Extending -----------------
  Draw                = W3DModelDraw ModuleTag_03
    ConditionState    = None
      Model           = ABBtCmdHQ_AC
      Animation       = ABBtCmdHQ_AC.ABBtCmdHQ_AC
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = NIGHT SNOW
    
    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_ACD
      Animation       = ABBtCmdHQ_ACD.ABBtCmdHQ_ACD
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_ACE
      Animation       = ABBtCmdHQ_ACE.ABBtCmdHQ_ACE
      AnimationMode   = LOOP
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_AC
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_ACD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_ACE
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ----------------- The Door ------------------------
  Draw = W3DModelDraw ModuleTag_04
  
    DefaultConditionState
      Model           = ABBtCmdHQ_A7

      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW 
    AliasConditionState = NIGHT SNOW
       
    ConditionState    = DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End  
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING DAMAGED
     
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABBtCmdHQ_A7
      Animation       = ABBtCmdHQ_A7.ABBtCmdHQ_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABBtCmdHQ_A7D
      Animation       = ABBtCmdHQ_A7D.ABBtCmdHQ_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN DAMAGED
    
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABBtCmdHQ_A7E
      Animation       = ABBtCmdHQ_A7E.ABBtCmdHQ_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End  
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    

    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBtCmdHQ_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBtCmdHQ_A7D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBtCmdHQ_A7E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED


  End    

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4
      Animation       = ABBtCmdHQ_A4.ABBtCmdHQ_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4N
      Animation       = ABBtCmdHQ_A4N.ABBtCmdHQ_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4S
      Animation       = ABBtCmdHQ_A4S.ABBtCmdHQ_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A4SN
      Animation       = ABBtCmdHQ_A4SN.ABBtCmdHQ_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6
      Animation       = ABBtCmdHQ_A6.ABBtCmdHQ_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6N
      Animation       = ABBtCmdHQ_A6N.ABBtCmdHQ_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6S
      Animation       = ABBtCmdHQ_A6S.ABBtCmdHQ_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A6SN
      Animation       = ABBtCmdHQ_A6SN.ABBtCmdHQ_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5
      Animation       = ABBtCmdHQ_A5.ABBtCmdHQ_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5N
      Animation       = ABBtCmdHQ_A5N.ABBtCmdHQ_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5S
      Animation       = ABBtCmdHQ_A5S.ABBtCmdHQ_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBtCmdHQ_A5SN
      Animation       = ABBtCmdHQ_A5SN.ABBtCmdHQ_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBtCmdHQ_A3
      Animation       = ABBtCmdHQ_A3.ABBtCmdHQ_A3
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBtCmdHQ_A3N
      Animation       = ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBtCmdHQ_A3S
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBtCmdHQ_A3SN
      Animation       = ABBtCmdHQ_A3SN.ABBtCmdHQ_A3SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3
      Animation       = ABBtCmdHQ_A3.ABBtCmdHQ_A3
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3N
      Animation       = ABBtCmdHQ_A3N.ABBtCmdHQ_A3N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3S
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBtCmdHQ_A3S
      Animation       = ABBtCmdHQ_A3S.ABBtCmdHQ_A3S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle  = -135

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:CommandCenter 
  Side                  = AmericaAirForceGeneral
  EditorSorting         = STRUCTURE
  BuildCost             = 2500
  BuildTime             = 50.0
  EnergyProduction      = 0
  CommandSet            = AirF_AmericaCommandCenterCommandSet
  VisionRange           = 300.0
  ShroudClearingRange   = 300
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction

  Prerequisites
    Science = SCIENCE_AIRF
  End
  
  WeaponSet
    Conditions = None
    Weapon = TERTIARY CCSelfdestructWeapon
    AutoChooseSources = TERTIARY NONE
  End

  Behavior = AIUpdateInterface ModuleTag_AI
  End 

  ArmorSet
    Conditions = None
    Armor      = StructureArmorTough
    DamageFX   = StructureDamageFXNoShake
  End
  ExperienceValue = 160 160 160 160

  ; *** AUDIO Parameters ***
  VoiceSelect          = CommandCenterUSASelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority     = STRUCTURE
  KindOf            = PRELOAD STRUCTURE SELECTABLE IMMOBILE COMMANDCENTER SCORE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY IMMUNE_TO_CAPTURE

  Body               = StructureBody ModuleTag_08
    MaxHealth        = 5000.0
    InitialHealth    = 5000.0
    SubdualDamageCap = 5000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = GrantUpgradeCreate ModuleTag_09
    UpgradeToGrant    = Upgrade_Radar
    ExemptStatus      = UNDER_CONSTRUCTION
  End

  Behavior = ProductionUpdate ModuleTag_11
    NumDoorAnimations            = 1
    DoorOpeningTime              = 1500  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 1500  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End
  Behavior = RadarUpdate ModuleTag_12
    RadarExtendTime   = 4000     ;in mSeconds
  End
  Behavior = DefaultProductionExitUpdate ModuleTag_13
    UnitCreatePoint   = X:-18.0  Y:  35.0   Z:0.0
    NaturalRallyPoint = X: 60.0  Y:  35.0   Z:0.0
  End
  Behavior = BaseRegenerateUpdate ModuleTag_14
  End

  Behavior             = DestroyDie ModuleTag_15
  End

  Behavior             = CreateObjectDie ModuleTag_16
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = CreateObjectDie ModuleTag_17
    CreationList  = AirF_OCL_AmericanRangerDebris10
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior             = FXListDie ModuleTag_18
    DeathFX       = FX_StructureMediumDeath
  End
  Behavior         = RadarUpgrade ModuleTag_19
    TriggeredBy   = Upgrade_Radar
  End
  Behavior           = OCLSpecialPower ModuleTag_20
    SpecialPowerTemplate = SuperweaponShockwaveBomb
    UpgradeOCL           = SCIENCE_MOAB SUPERWEAPON_MOAB
    OCL                  = SUPERWEAPON_ShockwaveBomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_21
    SpecialPowerTemplate = SpecialPowerSpyDrone
    OCL                  = SUPERWEAPON_SpyDrone
    CreateLocation       = CREATE_ABOVE_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_22
    SpecialPowerTemplate = SuperweaponRaptorReinforcement
    UpgradeOCL           = AirF_SCIENCE_Reinforcement3 AirF_SUPERWEAPON_Paradrop3
    UpgradeOCL           = AirF_SCIENCE_Reinforcement2 AirF_SUPERWEAPON_Paradrop2
    OCL                  = AirF_SUPERWEAPON_Paradrop1
    CreateLocation       = CREATE_ABOVE_LOCATION
  End 
  Behavior           = OCLSpecialPower ModuleTag_24
    SpecialPowerTemplate = SpecialPowerSpySatellite
    OCL                  = SUPERWEAPON_SpySatellite
    CreateLocation       = CREATE_AT_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_26
    SpecialPowerTemplate = SuperweaponA10ThunderboltMissileStrike
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike3 SUPERWEAPON_A10ThunderboltMissileStrike3
    UpgradeOCL           = SCIENCE_A10ThunderboltMissileStrike2 SUPERWEAPON_A10ThunderboltMissileStrike2
    OCL                  = SUPERWEAPON_A10ThunderboltMissileStrike1
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior = OCLSpecialPower ModuleTag_SpecialPower27
    SpecialPowerTemplate = SuperweaponEarlyEmergencyRepair
    UpgradeOCL = SCIENCE_EmergencyRepairUpgrade3 SUPERWEAPON_RepairEverything3
    UpgradeOCL = SCIENCE_EmergencyRepairUpgrade2 SUPERWEAPON_RepairEverything2
    OCL   = SUPERWEAPON_RepairEverything1
    CreateLocation  = CREATE_AT_LOCATION
  End
  Behavior           = OCLSpecialPower ModuleTag_28
    SpecialPowerTemplate = SuperweaponCarpetBomb
    UpgradeOCL           = SCIENCE_ImprovedCarpetBomb SUPERWEAPON_ImprovedCarpetBomb
    OCL                  = SUPERWEAPON_CarpetBomb
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End 
  Behavior           = OCLSpecialPower ModuleTag_SpecialPower15
    SpecialPowerTemplate = SpecialPowerClearMines
    OCL                  = SUPERWEAPON_ClearMines
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = OCLSpecialPower ModuleTag_SpecialPower16
    SpecialPowerTemplate = SuperweaponPilotTraining
    OCL                  = SUPERWEAPON_PilotTraining
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = FlammableUpdate ModuleTag_30
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = SpecialAbility ModuleTag_32
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    UpdateModuleStartsAttack = Yes
  End

  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_3
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship3
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship3
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_2
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship2
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship2
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End
  Behavior           = SpectreGunshipDeploymentUpdate ModuleSpectre_1
    SpecialPowerTemplate = AirF_SuperweaponSpectreGunship
    RequiredScience      = SCIENCE_SpectreGunship1
    GunshipTemplateName  = AirF_AmericaJetSpectreGunship1
    AttackAreaRadius     = 200
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior           = OCLSpecialPower ModuleTag_34
    SpecialPowerTemplate = SuperweaponIllusion
    OCL                  = SUPERWEAPON_Illusion
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science01
    GrantScience = SCIENCE_MOAB
    TriggeredBy = Upgrade_AmericaMOAB
  End

  Behavior = GrantScienceUpgrade ModuleTag_Science02
    GrantScience = SCIENCE_ImprovedCarpetBomb
    TriggeredBy = Upgrade_ImprovedCarpetBomb
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunComCenter
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 70.0
  GeometryHeight      = 49.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow              = SHADOW_VOLUME
  BuildCompletion     = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaPowerPlant

  ; *** ART Parameters ***
  SelectPortrait         = SAPowerPlant_L
  ButtonImage            = SAPowerPlant

  UpgradeCameo1 = Upgrade_USABuildingDefense

  ; ---- the building itself ------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState       = NONE;
      Model              = ABPWRPLANT
      Animation          = ABPWRPLANT.ABPWRPLANT
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED
      Model              = ABPWRPLANT_D
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABPWRPLANT_E
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke 
      ParticleSysBone    = Smoke05 SmolderingSmoke 
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge 
      ParticleSysBone    = Fire02 SmolderingFireLarge
      ParticleSysBone    = Fire03 SmolderingFireLarge
      ParticleSysBone    = Spark01 LiveWireSparks
    End

    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED ;
      Model = ABPWRPLANT
      Animation     = ABPWRPLANT.ABPWRPLANT
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_D
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_E
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End

    ; night 
    ConditionState = NIGHT;
      Model = ABPWRPLANT_N
      Animation     = ABPWRPLANT_N.ABPWRPLANT_N
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABPWRPLANT_DN
      Animation          = ABPWRPLANT_DN.ABPWRPLANT_DN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
      ParticleSysBone    = Sparks03 LiveWireSparks02
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT;
      Model = ABPWRPLANT_EN
      Animation     = ABPWRPLANT_EN.ABPWRPLANT_EN
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks01 LiveWireSparks
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_N
      Animation     = ABPWRPLANT_N.ABPWRPLANT_N
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED
      Model              = ABPWRPLANT_DN
      Animation          = ABPWRPLANT_DN.ABPWRPLANT_DN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED
      Model = ABPWRPLANT_EN
      Animation     = ABPWRPLANT_EN.ABPWRPLANT_EN
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
        
    ; day ********************************************
    ConditionState       = SNOW
      Model              = ABPWRPLANT_S
      Animation          = ABPWRPLANT_S.ABPWRPLANT_S
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABPWRPLANT_DS
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABPWRPLANT_ES
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke 
      ParticleSysBone    = Smoke05 SmolderingSmoke 
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge 
      ParticleSysBone    = Fire02 SmolderingFireLarge
      ParticleSysBone    = Fire03 SmolderingFireLarge
      ParticleSysBone    = Spark01 LiveWireSparks
    End

    ; day upgrade
    ConditionState = POWER_PLANT_UPGRADED SNOW;
      Model = ABPWRPLANT_S
      Animation     = ABPWRPLANT_S.ABPWRPLANT_S
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_DS
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_ES
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Spark01 LiveWireSparks
      ParticleSysBone = Spark02 LiveWireSparks02
      ParticleSysBone = Spark03 LiveWireSparks02 
      ParticleSysBone = Spark04 LiveWireSparks
      ParticleSysBone = Spark05 LiveWireSparks02
      ParticleSysBone = Spark06 LiveWireSparks 
    End

    ; night 
    ConditionState = NIGHT SNOW;
      Model = ABPWRPLANT_NS
      Animation     = ABPWRPLANT_NS.ABPWRPLANT_NS
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABPWRPLANT_DNS
      Animation          = ABPWRPLANT_DNS.ABPWRPLANT_DNS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone    = Sparks01 LiveWireSparks
      ParticleSysBone    = Sparks02 LiveWireSparks
      ParticleSysBone    = Sparks03 LiveWireSparks02
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW;
      Model = ABPWRPLANT_ENS
      Animation     = ABPWRPLANT_ENS.ABPWRPLANT_ENS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks01 LiveWireSparks
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
    End

    ; night upgraded
    ConditionState = NIGHT POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_NS
      Animation     = ABPWRPLANT_NS.ABPWRPLANT_NS
      AnimationMode = LOOP
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState       = DAMAGED NIGHT POWER_PLANT_UPGRADED SNOW
      Model              = ABPWRPLANT_DNS
      Animation          = ABPWRPLANT_DNS.ABPWRPLANT_DNS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke 
      ParticleSysBone    = Smoke02 SteamVent
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT POWER_PLANT_UPGRADED SNOW
      Model = ABPWRPLANT_ENS
      Animation     = ABPWRPLANT_ENS.ABPWRPLANT_ENS
      AnimationMode = LOOP
      ParticleSysBone = Smoke01 SmolderingSmoke 
      ParticleSysBone = Smoke02 SteamVent
      ParticleSysBone = Smoke03 SmolderingSmoke
      ParticleSysBone = Smoke04 SmolderingSmoke 
      ParticleSysBone = Smoke05 SmolderingSmoke 
      ParticleSysBone = Smoke06 SmolderingSmoke
      ParticleSysBone = Fire01 SmolderingFireLarge 
      ParticleSysBone = Fire02 SmolderingFireLarge
      ParticleSysBone = Fire03 SmolderingFireLarge
      ParticleSysBone = Sparks02 LiveWireSparks02
      ParticleSysBone = Sparks03 LiveWireSparks02 
      ParticleSysBone = Sparks04 LiveWireSparks
      ParticleSysBone = Sparks05 LiveWireSparks02
      ParticleSysBone = Sparks07 LiveWireSparks 
      ParticleSysBone = Sparks08 LiveWireSparks02
      ParticleSysBone = Sparks09 LiveWireSparks 
      ParticleSysBone = Sparks10 LiveWireSparks02
      ParticleSysBone = Sparks11 LiveWireSparks 
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPWRPLANT
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPWRPLANT_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPWRPLANT_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABPWRPLANT_N
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABPWRPLANT_DN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABPWRPLANT_EN
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPWRPLANT_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABPWRPLANT_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABPWRPLANT_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABPWRPLANT_NS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABPWRPLANT_DNS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABPWRPLANT_ENS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPwrPlant_A4SN
      Animation       = ABPwrPlant_A4SN.ABPwrPlant_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlant_A4
      Animation       = ABPwrPlant_A4.ABPwrPlant_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A4N
      Animation       = ABPwrPlant_A4N.ABPwrPlant_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlant_A4S
      Animation       = ABPwrPlant_A4S.ABPwrPlant_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A4SN
      Animation       = ABPwrPlant_A4SN.ABPwrPlant_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 BuildUpBlueSpark
      ParticleSysBone = SparksS02 BuildUpBlueSpark
      ParticleSysBone = SparksS03 SparksSmall
      ParticleSysBone = SparksS06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = ONCE

      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPwrPlant_A6
      Animation       = ABPwrPlant_A6.ABPwrPlant_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A6N
      Animation       = ABPwrPlant_A6N.ABPwrPlant_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPwrPlant_A6S
      Animation       = ABPwrPlant_A6S.ABPwrPlant_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPwrPlant_A6SN
      Animation       = ABPwrPlant_A6SN.ABPwrPlant_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5
      Animation       = ABPwrPlant_A5.ABPwrPlant_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5N
      Animation       = ABPwrPlant_A5N.ABPwrPlant_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5S
      Animation       = ABPwrPlant_A5S.ABPwrPlant_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPwrPlant_A5SN
      Animation       = ABPwrPlant_A5SN.ABPwrPlant_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABPwrPlant_AB
      Animation       = ABPwrPlant_AB.ABPwrPlant_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABPwrPlant_ABN
      Animation       = ABPwrPlant_ABN.ABPwrPlant_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABPwrPlant_ABS
      Animation       = ABPwrPlant_ABS.ABPwrPlant_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABPwrPlant_ABSN
      Animation       = ABPwrPlant_ABSN.ABPwrPlant_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABPwrPlant_AB
      Animation       = ABPwrPlant_AB.ABPwrPlant_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABPwrPlant_ABN
      Animation       = ABPwrPlant_ABN.ABPwrPlant_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABPwrPlant_ABS
      Animation       = ABPwrPlant_ABS.ABPwrPlant_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABPwrPlant_ABSN
      Animation       = ABPwrPlant_ABSN.ABPwrPlant_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End
 
; ---- the control rods -----
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes

    ; no upgrade
    ConditionState = NONE
      Model ABPWRPLANT_A1
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT

    ConditionState = DAMAGED
      Model ABPWRPLANT_A1D
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE
      Model ABPWRPLANT_A1E
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPWRPLANT_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPWRPLANT_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = DAMAGED AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABPWRPLANT_A1E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ; first to upgrade
    ConditionState = POWER_PLANT_UPGRADING
      Model ABPWRPLANT_A1
      Animation     = ABPWRPLANT_A1.ABPWRPLANT_A1
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = POWER_PLANT_UPGRADING SNOW
    AliasConditionState = POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADING
      Model ABPWRPLANT_A1D
      Animation     = ABPWRPLANT_A1D.ABPWRPLANT_A1D
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING
      Model ABPWRPLANT_A1E
      Animation     = ABPWRPLANT_A1E.ABPWRPLANT_A1E
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW NIGHT

    ; already upgraded
    ConditionState = POWER_PLANT_UPGRADED
      Model ABPWRPLANT_A1
      Animation     = ABPWRPLANT_A1.ABPWRPLANT_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = POWER_PLANT_UPGRADED SNOW
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = DAMAGED POWER_PLANT_UPGRADED
      Model ABPWRPLANT_A1D
      Animation     = ABPWRPLANT_A1D.ABPWRPLANT_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW NIGHT

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED
      Model ABPWRPLANT_A1E
      Animation     = ABPWRPLANT_A1E.ABPWRPLANT_A1E
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
      HideSubObject = TURRETUP01  
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW NIGHT
 
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED POWER_PLANT_UPGRADED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED POWER_PLANT_UPGRADED

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End
    AliasConditionState = SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = DAMAGED WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1D
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End
    AliasConditionState = DAMAGED SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = REALLYDAMAGED RUBBLE WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1E
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ; first to upgrade
    ConditionState = POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1.ABPWRPLANT_A1
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = POWER_PLANT_UPGRADING SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = POWER_PLANT_UPGRADING NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = POWER_PLANT_UPGRADING SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = DAMAGED POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1D
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1D.ABPWRPLANT_A1D
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADING SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1E
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1E.ABPWRPLANT_A1E
      AnimationMode = ONCE
      Flags         = START_FRAME_FIRST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADING SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ; already upgraded
    ConditionState = POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1.ABPWRPLANT_A1
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = POWER_PLANT_UPGRADED SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = POWER_PLANT_UPGRADED NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = POWER_PLANT_UPGRADED SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = DAMAGED POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1D
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1D.ABPWRPLANT_A1D
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = DAMAGED POWER_PLANT_UPGRADED SNOW NIGHT WEAPONSET_PLAYER_UPGRADE

    ConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED WEAPONSET_PLAYER_UPGRADE
      Model ABPWRPLANT_A1E
      ShowSubObject = TURRETUP01  
      Turret = TurretUp01
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponLaunchBone = PRIMARY MuzzleUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
      Animation     = ABPWRPLANT_A1E.ABPWRPLANT_A1E
      AnimationMode = MANUAL
      Flags         = START_FRAME_LAST
    End
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED NIGHT WEAPONSET_PLAYER_UPGRADE
    AliasConditionState = REALLYDAMAGED RUBBLE POWER_PLANT_UPGRADED SNOW NIGHT WEAPONSET_PLAYER_UPGRADE
  End
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ColdFusionReactor
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  BuildCost        = 800
  BuildTime        = 16.0
  EnergyProduction = 8
  EnergyBonus      = 4
  VisionRange      = 200.0
  ShroudClearingRange = 200

  ArmorSet
    Conditions     = None
    Armor          = StructureArmor
    DamageFX       = StructureDamageFXNoShake
  End

  WeaponSet
    Conditions = None
    Weapon     = TERTIARY SlowSelfdestructWeapon
  End

  Behavior = AIUpdateInterface ModuleTag_AI
  End

  CommandSet      = AmericaPowerPlantCommandSet
  ExperienceValue = 67 67 67 67

  ; *** AUDIO Parameters ***
  VoiceSelect = ColdFusionReactorSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_POWER MP_COUNT_FOR_VICTORY

  Body            = StructureBody ModuleTag_06
    MaxHealth       = 1600.0
    InitialHealth   = 1600.0
    SubdualDamageCap = 1600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = PowerPlantUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaAdvancedControlRods
  End

  Behavior = BaseRegenerateUpdate ModuleTag_08
  End

  Behavior = PowerPlantUpdate ModuleTag_09
    RodsExtendTime = 600
  End

  Behavior = DestroyDie ModuleTag_10
  End

  Behavior        = CreateObjectDie ModuleTag_Die1
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = CreateObjectDie ModuleTag_Die2
    CreationList  = AirF_OCL_AmericanRangerDebris02
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = CreateObjectDie ModuleTag_Die3
    CreationList  = OCL_PowerPlantDeathLightning
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = FXListDie ModuleTag_Die4
    DeathFX       = FX_PowerPlantDeathLightning
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = FXListDie ModuleTag_13
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = ProductionUpdate ModuleTag_14
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunPowerPlant
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 30.0
  GeometryHeight      = 46.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaStrategyCenter

  ; *** ART Parameters ***
  SelectPortrait         = SAStrategyCenter_L
  ButtonImage            = SAStrategyCenter

  UpgradeCameo1 = Upgrade_USABuildingDefense

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day ******
    ConditionState = NONE
      Model              = ABStrategy
      Animation          = ABStrategy.ABStrategy
      AnimationMode      = LOOP
    End
    ConditionState = DAMAGED
      Model              = ABStrategy_D
      Animation          = ABStrategy_D.ABStrategy_D
      AnimationMode      = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model              = ABStrategy_E
      Animation          = ABStrategy_E.ABStrategy_E
      AnimationMode      = LOOP
    End
       
    ; SNOW ******
    ConditionState = SNOW
      Model              = ABStrategy_S
      Animation          = ABStrategy_S.ABStrategy_S
      AnimationMode      = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model              = ABStrategy_DS
      Animation          = ABStrategy_DS.ABStrategy_DS
      AnimationMode      = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model              = ABStrategy_ES
      Animation          = ABStrategy_ES.ABStrategy_ES
      AnimationMode      = LOOP
    End
    
    ; night *****
    ConditionState = NIGHT
      Model              = ABStrategy_N
      Animation          = ABStrategy_N.ABStrategy_N
      AnimationMode      = ONCE_BACKWARDS
      Flags              = START_FRAME_FIRST
    End
    ConditionState = NIGHT DAMAGED
      Model              = ABStrategy_DN
      Animation          = ABStrategy_DN.ABStrategy_DN
      AnimationMode      = LOOP
    End
    ConditionState = NIGHT REALLYDAMAGED RUBBLE
      Model              = ABStrategy_EN
      Animation          = ABStrategy_EN.ABStrategy_EN
      AnimationMode      = LOOP
    End
    
    ; night Snow*****
    ConditionState = NIGHT SNOW
      Model              = ABStrategy_NS
      Animation          = ABStrategy_NS.ABStrategy_NS
      AnimationMode      = ONCE_BACKWARDS
      Flags              = START_FRAME_FIRST
    End
    ConditionState = NIGHT DAMAGED SNOW
      Model              = ABStrategy_DNS
      Animation          = ABStrategy_DNS.ABStrategy_DNS
      AnimationMode      = LOOP
    End
    ConditionState = NIGHT REALLYDAMAGED RUBBLE SNOW
      Model              = ABStrategy_ENS
      Animation          = ABStrategy_ENS.ABStrategy_ENS
      AnimationMode      = LOOP
    End

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy
      Animation          = ABStrategy.ABStrategy
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABStrategy_D
      Animation          = ABStrategy_D.ABStrategy_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABStrategy_E
      Animation          = ABStrategy_E.ABStrategy_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABStrategy_N
      Animation          = ABStrategy_N.ABStrategy_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABStrategy_DN
      Animation          = ABStrategy_DN.ABStrategy_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABStrategy_EN
      Animation          = ABStrategy_EN.ABStrategy_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABStrategy_S
      Animation          = ABStrategy_S.ABStrategy_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABStrategy_DS
      Animation          = ABStrategy_DS.ABStrategy_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABStrategy_ES
      Animation          = ABStrategy_ES.ABStrategy_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABStrategy_NS
      Animation          = ABStrategy_NS.ABStrategy_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABStrategy_DNS
      Animation          = ABStrategy_DNS.ABStrategy_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABStrategy_ENS
      Animation          = ABStrategy_ENS.ABStrategy_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABStrategy_A4
      Animation       = ABStrategy_A4.ABStrategy_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABStrategy_A4N
      Animation       = ABStrategy_A4N.ABStrategy_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABStrategy_A4S
      Animation       = ABStrategy_A4S.ABStrategy_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End

    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABStrategy_A4SN
      Animation       = ABStrategy_A4SN.ABStrategy_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABStrategy_A6
      Animation       = ABStrategy_A6.ABStrategy_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABStrategy_A6N
      Animation       = ABStrategy_A6N.ABStrategy_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABStrategy_A6S
      Animation       = ABStrategy_A6S.ABStrategy_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABStrategy_A6SN
      Animation       = ABStrategy_A6SN.ABStrategy_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT

      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5
      Animation       = ABStrategy_A5.ABStrategy_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5N
      Animation       = ABStrategy_A5N.ABStrategy_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End

    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5S
      Animation       = ABStrategy_A5S.ABStrategy_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABStrategy_A5SN
      Animation       = ABStrategy_A5SN.ABStrategy_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABStrategy_AB
      Animation       = ABStrategy_AB.ABStrategy_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABStrategy_ABN
      Animation       = ABStrategy_ABN.ABStrategy_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABStrategy_ABS
      Animation       = ABStrategy_ABS.ABStrategy_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABStrategy_ABSN
      Animation       = ABStrategy_ABSN.ABStrategy_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABStrategy_AB
      Animation       = ABStrategy_AB.ABStrategy_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABStrategy_ABN
      Animation       = ABStrategy_ABN.ABStrategy_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABStrategy_ABS
      Animation       = ABStrategy_ABS.ABStrategy_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABStrategy_ABSN
      Animation       = ABStrategy_ABSN.ABStrategy_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ BOMBARDMENT BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_05
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_1_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_1_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_OPENING
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABStrategy_A1
      Animation       = ABStrategy_A1.ABStrategy_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_1_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_1_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_CLOSING
    
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = NONE
    End
    AliasConditionState = DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE

    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A1
      Animation          = ABStrategy_A1.ABStrategy_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
    AliasConditionState  =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
  End
  
  Draw = W3DModelDraw ModuleTag_06
    ;***This is the bombardment cannon object that only shows up when ready to fire***
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A8
      WeaponLaunchBone                = PRIMARY Muzzle
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponMuzzleFlash               = PRIMARY MuzzleFX
      WeaponRecoilBone                = PRIMARY Barrel
      Turret                          = Turret01
      TurretPitch                     = TurretEL
      HideSubObject   = Chassis
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_TO_CLOSE
      Model           = ABStrategy_A8
      ShowSubObject   = Chassis
    End
    AliasConditionState = DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_1_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABStrategy_A8
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_1_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_1_WAITING_TO_CLOSE
  End

  ; ------------ HOLD THE LINE BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_07
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_2_OPENING
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_2_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DOOR_2_OPENING
    AliasConditionState = SNOW DOOR_2_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_2_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_OPENING
    
    ConditionState    = DOOR_2_CLOSING
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_2_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_2_CLOSING
    AliasConditionState = SNOW DOOR_2_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_2_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_CLOSING
    
    ConditionState    = DOOR_2_WAITING_TO_CLOSE
      Model           = ABStrategy_A7
      Animation       = ABStrategy_A7.ABStrategy_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_2_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A7
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
        
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_2_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_2_WAITING_TO_CLOSE
 
  End

  ; ------------ SEARCH AND DESTROY BATTLE PLAN -----------------
  Draw = W3DModelDraw ModuleTag_08
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_3_OPENING
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE
    End
    AliasConditionState = DAMAGED DOOR_3_OPENING
    AliasConditionState = REALLYDAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DOOR_3_OPENING
    AliasConditionState = SNOW DOOR_3_OPENING
    AliasConditionState = NIGHT DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = SNOW DAMAGED DOOR_3_OPENING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_OPENING
    
    ConditionState    = DOOR_3_CLOSING
      Model           = ABStrategy_A2
      Animation       = ABStrategy_A2.ABStrategy_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
    AliasConditionState = DAMAGED DOOR_3_CLOSING
    AliasConditionState = REALLYDAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DOOR_3_CLOSING
    AliasConditionState = SNOW DOOR_3_CLOSING
    AliasConditionState = NIGHT DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = SNOW DAMAGED DOOR_3_CLOSING
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_CLOSING
    
    ConditionState    = DOOR_3_WAITING_TO_CLOSE
      Model           = NONE
    End
    AliasConditionState = DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABStrategy_A2
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
        
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
  End

  Draw = W3DModelDraw ModuleTag_09
    ;***This is the radar array that only shows up when plan is active***
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = NONE
    End
    AliasConditionState = DAMAGED
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = NIGHT
    AliasConditionState = NIGHT SNOW
    AliasConditionState = SNOW
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = NIGHT SNOW DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_3_WAITING_TO_CLOSE
      Model           = ABStrategy_A3
      Animation       = ABStrategy_A3.ABStrategy_A3
      AnimationMode   = LOOP
    End
    AliasConditionState = DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = NIGHT SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE DOOR_3_WAITING_TO_CLOSE
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED DOOR_3_WAITING_TO_CLOSE
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED DOOR_3_WAITING_TO_CLOSE
  End
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:StrategyCenter
  Side                  = AmericaAirForceGeneral
  EditorSorting         = STRUCTURE
  CommandSet            = AirF_AmericaStrategyCenterCommandSet
  BuildCost             = 2500
  BuildTime             = 50.0
  EnergyProduction      = -2
  VisionRange           = 400.0
  ExperienceValue       = 84 84 84 84
  MaxSimultaneousOfType = 1
  ShroudClearingRange   = 400

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield AirF_AmericaWarFactory
    Science = SCIENCE_Rank3
  End

  WeaponSet
    Conditions           = None 
    Weapon               = PRIMARY StrategyCenterGun
    AutoChooseSources    = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = StrategyCenterSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound ;These aren't playing properly, will revisit. (mp) StrategyCenter_TurretMoveLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_STRATEGY_CENTER FS_ADVANCED_TECH IMMUNE_TO_CAPTURE

  Body            = StructureBody ModuleTag_10
    MaxHealth       = 2500.0
    InitialHealth   = 2500.0
    SubdualDamageCap = 2500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_11
  End
  Behavior = BaseRegenerateUpdate ModuleTag_12
  End 

  Behavior = SpecialAbility ModuleTag_13
    SpecialPowerTemplate = SpecialAbilityChangeBattlePlans
    UpdateModuleStartsAttack = Yes
  End
  Behavior = BattlePlanUpdate ModuleTag_14
    SpecialPowerTemplate              = SpecialAbilityChangeBattlePlans

    ;Transition Timings
    BombardmentPlanAnimationTime      = 7000
    HoldTheLinePlanAnimationTime      = 7000
    SearchAndDestroyPlanAnimationTime = 7000
    TransitionIdleTime                = 0

    ;Messages
    BombardmentMessageLabel      = MESSAGE:BattlePlanBombardmentInitiated
    HoldTheLineMessageLabel      = MESSAGE:BattlePlanHoldTheLineInitiated
    SearchAndDestroyMessageLabel = MESSAGE:BattlePlanSearchAndDestroyInitiated

    ;Audio hooks
    BombardmentPlanUnpackSoundName        = StrategyCenter_BombardmentPlanUnpackSound
    BombardmentPlanPackSoundName          = StrategyCenter_BombardmentPlanPackSound
    BombardmentAnnouncementName           = StrategyCenter_BombardmentPlanAnnouncement
    SearchAndDestroyPlanUnpackSoundName   = StrategyCenter_SearchAndDestroyPlanUnpack
    SearchAndDestroyPlanIdleLoopSoundName = StrategyCenter_SearchAndDestroyPlanIdleLoop
    SearchAndDestroyPlanPackSoundName     = StrategyCenter_SearchAndDestroyPlanPack
    SearchAndDestroyAnnouncementName      = StrategyCenter_SearchAndDestroyAnnouncement
    HoldTheLinePlanUnpackSoundName        = StrategyCenter_HoldTheLinePlanUnpack
    HoldTheLinePlanPackSoundName          = StrategyCenter_HoldTheLinePlanPack
    HoldTheLineAnnouncementName           = StrategyCenter_HoldTheLineAnnouncement

    ;Army bonuses granted by different battle plans
    ValidMemberKindOf                   = INFANTRY CAN_ATTACK VEHICLE AIRCRAFT ;Battle plans affect any kind of these...
    InvalidMemberKindOf                 = DOZER STRUCTURE DRONE   ;...but make sure they don't have any of these
    BattlePlanChangeParalyzeTime          = 10 ;Subjected to paralyzation whenever a battle plan is changed.
    HoldTheLinePlanArmorDamageScalar      = 0.85 ;Armor damage bonus scalar -- LESS is better!
    SearchAndDestroyPlanSightRangeScalar  = 1.1 ;Sight range bonus -- more is better!
    ;***NOTE*** WEAPON bonuses for army are specified in GameData.ini file!

    ;Building bonuses granted based on battle plan mode.
    StrategyCenterSearchAndDestroySightRangeScalar = 2.0
    StrategyCenterSearchAndDestroyDetectsStealth   = Yes
    StrategyCenterHoldTheLineMaxHealthScalar       = 2.0
    StrategyCenterHoldTheLineMaxHealthChangeType   = PRESERVE_RATIO
  End

  Behavior = AIUpdateInterface ModuleTag_15
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 60
      TurretPitchRate     = 60
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretPitch  = 45 ; this keeps it aimed half way between land and sky
                               ; since you never know from whence cometh danger
      NaturalTurretAngle = -90  ; this turret points backwards normally

      FirePitch           = 45       ; Instead of aiming pitchwise at the target, it will aim here
      MinIdleScanInterval = 500    ; in milliseconds
      MaxIdleScanInterval = 1000   ; in milliseconds
      MinIdleScanAngle    = 0      ; in degrees off the natural turret angle
      MaxIdleScanAngle    = 60     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetector ;+
    DetectionRate       = 500
    InitiallyDisabled   = Yes
    DetectionRange     =  500
    CanDetectWhileGarrisoned  = No
    CanDetectWhileContained   = No
    ExtraForbiddenKindOf     = AIRCRAFT MINE DEMOTRAP
  End

  Behavior                   = SpyVisionSpecialPower SpyTag_1
    SpecialPowerTemplate     = SuperweaponCIAIntelligence   
    BaseDuration             =  30000 ;in milliseconds
    BonusDurationPerCaptured =  10000 ;in milliseconds
    MaxDuration              = 240000 ;in milliseconds    
  End
  Behavior                   = SpyVisionUpdate SpyTag_2
  End

  Behavior = DestroyDie ModuleTag_17
  End

  Behavior        = CreateObjectDie ModuleTag_18
    CreationList  = OCL_ABPowerPlantExplode
  End

  Behavior             = CreateObjectDie ModuleTag_19
    CreationList  = AirF_OCL_AmericanRangerDebris04
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = FXListDie ModuleTag_20
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_23
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunStrategy
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 62.0
  GeometryMinorRadius = 44.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaAirfield

  ; *** ART Parameters ***
  SelectPortrait         = SAAirfieldAFG_L
  ButtonImage            = SAAirfieldAFG

  UpgradeCameo1 = Upgrade_USABuildingDefense

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway2Parking1
    ExtraPublicBone = Runway3Parking1
    ExtraPublicBone = Runway4Parking1
    ExtraPublicBone = Runway5Parking1
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway3Park1Han
    ExtraPublicBone = Runway4Park1Han
    ExtraPublicBone = Runway5Park1Han
    ExtraPublicBone = Runway1Prep1
    ExtraPublicBone = Runway2Prep1
    ExtraPublicBone = Runway3Prep1
    ExtraPublicBone = Runway4Prep1
    ExtraPublicBone = Runway5Prep1
    ExtraPublicBone = RunwayStart1
    ExtraPublicBone = RunwayStart2
    ExtraPublicBone = RunwayStart3
    ExtraPublicBone = RunwayStart4
    ExtraPublicBone = RunwayStart5
    ExtraPublicBone = RunwayEnd1
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = RunwayEnd3
    ExtraPublicBone = RunwayEnd4
    ExtraPublicBone = RunwayEnd5
    ExtraPublicBone = HeliPark01

    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState = NONE
      Model              = ABLevPad
      Animation          = ABLevPad.ABLevPad
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState = NIGHT
      Model              = ABLevPad_N
      Animation          = ABLevPad_N.ABLevPad_N
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End

    ConditionState       = DAMAGED
      Model              = ABLevPad_D
      Animation          = ABLevPad_D.ABLevPad_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABLevPad_ND
      Animation          = ABLevPad_ND.ABLevPad_ND
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End


    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABLevPad_E
      Animation          = ABLevPad_E.ABLevPad_E
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABLevPad_EN
      Animation          = ABLevPad_EN.ABLevPad_EN
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End

    ConditionState       = SNOW
      Model              = ABLevPad_S
      Animation          = ABLevPad_S.ABLevPad_S
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState       = NIGHT SNOW
      Model              = ABLevPad_NS
      Animation          = ABLevPad_NS.ABLevPad_NS
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End


    ConditionState       = DAMAGED SNOW
      Model              = ABLevPad_DS
      Animation          = ABLevPad_DS.ABLevPad_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABLevPad_NDS
      Animation          = ABLevPad_NDS.ABLevPad_NDS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End


    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABLevPad_ES
      Animation          = ABLevPad_ES.ABLevPad_ES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABLevPad_NES
      Animation          = ABLevPad_NES.ABLevPad_NES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABLevPad
      Animation          = ABLevPad.ABLevPad
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABLevPad_N
      Animation          = ABLevPad_N.ABLevPad_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABLevPad_D
      Animation          = ABLevPad_D.ABLevPad_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABLevPad_ND
      Animation          = ABLevPad_ND.ABLevPad_ND
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End


    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABLevPad_E
      Animation          = ABLevPad_E.ABLevPad_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABLevPad_EN
      Animation          = ABLevPad_EN.ABLevPad_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End


    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABLevPad_S
      Animation          = ABLevPad_S.ABLevPad_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABLevPad_NS
      Animation          = ABLevPad_NS.ABLevPad_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABLevPad_DS
      Animation          = ABLevPad_DS.ABLevPad_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       =  AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABLevPad_NDS
      Animation          = ABLevPad_NDS.ABLevPad_NDS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABLevPad_ES
      Animation          = ABLevPad_ES.ABLevPad_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABLevPad_NES
      Animation          = ABLevPad_NES.ABLevPad_NES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABLevPad_A4
      Animation       = ABLevPad_A4.ABLevPad_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABLevPad_A4S
      Animation       = ABLevPad_A4S.ABLevPad_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABLevPad_A6
      Animation       = ABLevPad_A6.ABLevPad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABLevPad_A6
      Animation       = ABLevPad_A6.ABLevPad_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABLevPad_A6
      Animation       = ABLevPad_A6.ABLevPad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABLevPad_A6
      Animation       = ABLevPad_A6.ABLevPad_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABLevPad_A6
      Animation       = ABLevPad_A6.ABLevPad_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABLevPad_A6N
      Animation       = ABLevPad_A6N.ABLevPad_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABLevPad_A6S
      Animation       = ABLevPad_A6S.ABLevPad_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5
      Animation       = ABBarracks_A5.ABBarracks_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5N
      Animation       = ABBarracks_A5N.ABBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5S
      Animation       = ABBarracks_A5S.ABBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5SN
      Animation       = ABBarracks_A5SN.ABBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End
   TransitionState    = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:LevPad
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 2000
  BuildTime           = 40.0
  EnergyProduction    = -1
  CommandSet          = AirF_AmericaAirfieldCommandSet
  VisionRange         = 200.0
  ShroudClearingRange = 200
  ExperienceValue     = 84 84 84 84

  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End

  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect          = AirfieldUSASelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority      = STRUCTURE
  KindOf             = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT

  Body               = StructureBody ModuleTag_10
    MaxHealth        = 3750.0
    InitialHealth    = 3750.0
    SubdualDamageCap = 6000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond = 10
    NumRows             = 1
    NumCols             = 5
    HasRunways          = Yes
    ApproachHeight      = 10
  End

  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 5
    DoorOpeningTime              = 200  ;in mSeconds
    DoorWaitOpenTime             = 300  ;in mSeconds
    DoorCloseTime                = 200  ;in mSeconds
    ConstructionCompleteDuration = 100  ;in mSeconds
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
  End 

  Behavior = DestroyDie ModuleTag_14
  End

  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = CreateObjectDie ModuleTag_16
    CreationList = AirF_OCL_AmericanRangerDebris04
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_17
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunLargeAirfield
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 92.0
  GeometryMinorRadius = 65.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaSupplyCenter

  ; *** ART Parameters ***
  SelectPortrait         = SASupplyCntr_L
  ButtonImage            = SASupplyCntr

  UpgradeCameo1 = Upgrade_USABuildingDefense

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; day **************************************
    ConditionState       = NONE
      Model              = ABSupplyCT
      Animation          = ABSupplyCT.ABSupplyCT
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED
      Model              = ABSupplyCT_D
      Animation          = ABSupplyCT_D.ABSupplyCT_D
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
    End
     ConditionState      = REALLYDAMAGED RUBBLE
      Model              = ABSupplyCT_E
      Animation          = ABSupplyCT_E.ABSupplyCT_E
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
    End

    ; day Snow **************************************
    ConditionState       = SNOW
      Model              = ABSupplyCT_S
      Animation          = ABSupplyCT_S.ABSupplyCT_S
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABSupplyCT_DS
      Animation          = ABSupplyCT_DS.ABSupplyCT_DS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
    End
     ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupplyCT_ES
      Animation          = ABSupplyCT_ES.ABSupplyCT_ES
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmolderingSmoke
      ParticleSysBone    = Smoke06 SmolderingSmoke
      ParticleSysBone    = Smoke01 SmolderingFire
      ParticleSysBone    = Smoke02 SmolderingFire
      ParticleSysBone    = Smoke03 SmolderingFire
      ParticleSysBone    = Smoke04 SmolderingFire
      ParticleSysBone    = Smoke05 SmolderingFire
      ParticleSysBone    = Smoke06 SmolderingFire
    End

    ; Night *************************************
      ConditionState     = NIGHT
      Model              = ABSupplyCT_N
      Animation          = ABSupplyCT_N.ABSupplyCT_N
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = DAMAGED NIGHT
      Model              = ABSupplyCT_DN
      Animation          = ABSupplyCT_DN.ABSupplyCT_DN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupplyCT_EN
      Animation          = ABSupplyCT_EN.ABSupplyCT_EN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    
    ; Night Snow*************************************
    ConditionState     = NIGHT SNOW
      Model              = ABSupplyCT_NS
      Animation          = ABSupplyCT_NS.ABSupplyCT_NS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = DAMAGED NIGHT SNOW
      Model              = ABSupplyCT_DNS
      Animation          = ABSupplyCT_DNS.ABSupplyCT_DNS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End 
      ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupplyCT_ENS
      Animation          = ABSupplyCT_ENS.ABSupplyCT_ENS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupplyCT
      Animation          = ABSupplyCT.ABSupplyCT
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSupplyCT_D
      Animation          = ABSupplyCT_D.ABSupplyCT_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSupplyCT_E
      Animation          = ABSupplyCT_E.ABSupplyCT_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSupplyCT_N
      Animation          = ABSupplyCT_N.ABSupplyCT_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSupplyCT_DN
      Animation          = ABSupplyCT_DN.ABSupplyCT_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSupplyCT_EN
      Animation          = ABSupplyCT_EN.ABSupplyCT_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSupplyCT_S
      Animation          = ABSupplyCT_S.ABSupplyCT_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSupplyCT_DS
      Animation          = ABSupplyCT_DS.ABSupplyCT_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSupplyCT_ES
      Animation          = ABSupplyCT_ES.ABSupplyCT_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSupplyCT_NS
      Animation          = ABSupplyCT_NS.ABSupplyCT_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSupplyCT_DNS
      Animation          = ABSupplyCT_DNS.ABSupplyCT_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSupplyCT_ENS
      Animation          = ABSupplyCT_ENS.ABSupplyCT_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupplyCT_A4
      Animation       = ABSupplyCT_A4.ABSupplyCT_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A4N
      Animation       = ABSupplyCT_A4N.ABSupplyCT_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupplyCT_A4S
      Animation       = ABSupplyCT_A4S.ABSupplyCT_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A4SN
      Animation       = ABSupplyCT_A4SN.ABSupplyCT_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupplyCT_A6
      Animation       = ABSupplyCT_A6.ABSupplyCT_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A6N
      Animation       = ABSupplyCT_A6N.ABSupplyCT_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupplyCT_A6S
      Animation       = ABSupplyCT_A6S.ABSupplyCT_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupplyCT_A6SN
      Animation       = ABSupplyCT_A6SN.ABSupplyCT_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5
      Animation       = ABSupplyCT_A5.ABSupplyCT_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5N
      Animation       = ABSupplyCT_A5N.ABSupplyCT_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5S
      Animation       = ABSupplyCT_A5S.ABSupplyCT_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupplyCT_A5SN
      Animation       = ABSupplyCT_A5SN.ABSupplyCT_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABSupplyCT_AB
      Animation       = ABSupplyCT_AB.ABSupplyCT_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABSupplyCT_ABN
      Animation       = ABSupplyCT_ABN.ABSupplyCT_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABSupplyCT_ABS
      Animation       = ABSupplyCT_ABS.ABSupplyCT_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABSupplyCT_ABSN
      Animation       = ABSupplyCT_ABSN.ABSupplyCT_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABSupplyCT_AB
      Animation       = ABSupplyCT_AB.ABSupplyCT_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABSupplyCT_ABN
      Animation       = ABSupplyCT_ABN.ABSupplyCT_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABSupplyCT_ABS
      Animation       = ABSupplyCT_ABS.ABSupplyCT_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABSupplyCT_ABSN
      Animation       = ABSupplyCT_ABSN.ABSupplyCT_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End
 
  ; ------------ Grabbing box crane arm -----------------
  Draw = W3DModelDraw ModuleTag_19
    OkToChangeModelColor = Yes   
    ConditionState    = NONE
      Model           = ABSupplyCT_A8
      Animation       = ABSupplyCT_A8.ABSupplyCT_A8
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
      WaitForStateToFinishIfPossible = TRANS_Playing
    End
    AliasConditionState  =  NIGHT
    AliasConditionState  =  SNOW
    AliasConditionState  =  NIGHT SNOW
    AliasConditionState  =  DAMAGED
    AliasConditionState  =  NIGHT DAMAGED
    AliasConditionState  =  SNOW DAMAGED
    AliasConditionState  =  NIGHT SNOW DAMAGED
    AliasConditionState  =  REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState    = DOCKING_ACTIVE
      Model           = ABSupplyCT_A7
      Animation       = ABSupplyCT_A7.ABSupplyCT_A7
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
      TransitionKey   = TRANS_Playing
    End
    AliasConditionState  =  NIGHT DOCKING_ACTIVE
    AliasConditionState  =  SNOW DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW DOCKING_ACTIVE
    AliasConditionState  =  DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  NIGHT DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  SNOW DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW DAMAGED DOCKING_ACTIVE
    AliasConditionState  =  REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE DOCKING_ACTIVE
  End
  
  ; ------------ Spinny Belt -----------------
  Draw = W3DModelDraw ModuleTag_SpinnyBelt
    OkToChangeModelColor = Yes   
    ConditionState    = NONE
      Model           = ABSupplyCT_A9
      Animation       = ABSupplyCT_A9.ABSupplyCT_A9
      AnimationMode   = LOOP
    End
    AliasConditionState  =  NIGHT
    AliasConditionState  =  SNOW
    AliasConditionState  =  NIGHT SNOW
    AliasConditionState  =  DAMAGED
    AliasConditionState  =  NIGHT DAMAGED
    AliasConditionState  =  SNOW DAMAGED
    AliasConditionState  =  NIGHT SNOW DAMAGED
    AliasConditionState  =  REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  =  SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  =  NIGHT SNOW REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupplyCT_A9
      Animation          = ABSupplyCT_A9.ABSupplyCT_A9
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SupplyCenter
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  BuildCost        = 1600
  RefundValue      = 400
  BuildTime        = 28.0
  EnergyProduction = -1
  CommandSet       = AirF_AmericaSupplyCenterCommandSet
  VisionRange      = 200.0
  ShroudClearingRange = 200
  ExperienceValue  = 67 67 67 67

  Prerequisites
    Object = AirF_AmericaPowerPlant
  End

  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  WeaponSet
    Conditions = None
    Weapon     = TERTIARY SlowSelfdestructWeapon
  End

  Behavior = AIUpdateInterface ModuleTag_AI
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyCenterUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction   = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = STRUCTURE
  KindOf        = PRELOAD STRUCTURE SELECTABLE IMMOBILE CASH_GENERATOR SCORE CAPTURABLE FS_POWER AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY CANNOT_BUILD_NEAR_SUPPLIES FS_SUPPLY_CENTER

  Body = StructureBody ModuleTag_05
    MaxHealth       = 1500.0
    InitialHealth   = 1500.0
    SubdualDamageCap = 2000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = SupplyCenterCreate ModuleTag_06
  End

  Behavior = DestroyDie ModuleTag_07
  End

  Behavior = CreateObjectDie ModuleTag_08
    CreationList  = AirF_OCL_AmericanRangerDebris02
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = ProductionUpdate ModuleTag_09
  End

  Behavior = SupplyCenterProductionExitUpdate ModuleTag_10
    UnitCreatePoint   = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint = X: 44.0  Y:  0.0   Z:0.0;NaturalRallyPointX must always match GeometryMajorRadius! -ML
  End

  Behavior = BaseRegenerateUpdate ModuleTag_11
  End 

  Behavior            = SpawnBehavior ModuleTag_12
    SpawnNumber       = 1
    SpawnReplaceDelay = 9999
    SpawnTemplateName = AFG_AmericaVehicleChinook
    OneShot           = Yes
    CanReclaimOrphans = No
    SlavesHaveFreeWill = Yes
  End

  Behavior = SupplyCenterDockUpdate ModuleTag_13
    NumberApproachPositions = 9 ; There are 9 approach bones in the art
  End

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  
  Behavior             = CreateObjectDie ModuleTag_16
    CreationList  = OCL_LargeStructureDebris
  End
  Behavior             = FXListDie ModuleTag_17
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunSupply
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 44.0
  GeometryMinorRadius = 45.0
  GeometryHeight      = 24.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaSupplyDropZone

  ; *** ART Parameters ***
  SelectPortrait         = SADropZone_L
  ButtonImage            = SADropZone

  UpgradeCameo1 = Upgrade_AmericaSupplyLines  

  Draw                 = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes   
    ConditionState       = NONE
      Model              = ABSupDrop
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED
      Model              = ABSupDrop_D
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE
      Model              = ABSupDrop_E
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
    End
    
    ConditionState       = NIGHT
      Model              = ABSupDrop_N
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT
      Model              = ABSupDrop_DN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSupDrop_EN
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
    End
    
    ;----------- SNOW
    
    ConditionState       = SNOW
      Model              = ABSupDrop_S
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED SNOW
      Model              = ABSupDrop_DS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DS.ABSupDrop_DS

      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSupDrop_ES
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
    End
    
    ;---------- SNOW NIGHT
    
    ConditionState       = NIGHT SNOW
      Model              = ABSupDrop_NS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
    End
    
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABSupDrop_DNS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
    End
   
    ConditionState     = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSupDrop_ENS
      ParticleSysBone    = Flare01 LandingZoneSmoke
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
    End
    

    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSupDrop
      Animation          = ABSupDrop.ABSupDrop
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSupDrop_D
      Animation          = ABSupDrop_D.ABSupDrop_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSupDrop_E
      Animation          = ABSupDrop_E.ABSupDrop_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSupDrop_N
      Animation          = ABSupDrop_N.ABSupDrop_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSupDrop_DN
      Animation          = ABSupDrop_DN.ABSupDrop_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSupDrop_EN
      Animation          = ABSupDrop_EN.ABSupDrop_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSupDrop_S
      Animation          = ABSupDrop_S.ABSupDrop_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSupDrop_DS
      Animation          = ABSupDrop_DS.ABSupDrop_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSupDrop_ES
      Animation          = ABSupDrop_ES.ABSupDrop_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSupDrop_NS
      Animation          = ABSupDrop_NS.ABSupDrop_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSupDrop_DNS
      Animation          = ABSupDrop_DNS.ABSupDrop_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSupDrop_ENS
      Animation          = ABSupDrop_ENS.ABSupDrop_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    
    
 

  End
 
  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AmericaSupplyDropZone
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 2500
  BuildTime           = 50.0
  EnergyProduction    = -1
  ShroudClearingRange = 100
  ExperienceValue     = 67 67 67 67

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Object = AirF_AmericaWarFactory
  End

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = SupplyDropZoneSelect

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***  
  KindOf              = STRUCTURE SELECTABLE IMMOBILE SCORE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY FS_SUPPLY_DROPZONE
  RadarPriority       = STRUCTURE
  
  Body                = ActiveBody ModuleTag_04
    MaxHealth         = 1250.0
    InitialHealth     = 1250.0
    SubdualDamageCap  = 2500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior       = OCLUpdate ModuleTag_05 ; Context window is a reaction to this, no CommandSet
    OCL          = OCL_AmericaSupplyDropZoneCrateDrop
    MinDelay     = 120000
    MaxDelay     = 120000
    CreateAtEdge = Yes
  End

  Behavior  = DestroyDie ModuleTag_06
  End
  
  Behavior = CreateObjectDie ModuleTag_07
    CreationList  = AirF_OCL_AmericanRangerDebris02
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  
  Behavior = CreateObjectDie ModuleTag_08
    CreationList = OCL_LargeStructureDebris
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  
  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = BaseRegenerateUpdate ModuleTag_11
  End 

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR SMALL SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionSmallSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionSmallExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionSmallShockwave
  End

  Geometry            = BOX
  GeometryMajorRadius = 27.0
  GeometryMinorRadius = 27.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No
  Shadow              = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object AirF_AmericaBarracks
 
  ; *** ART Parameters ***
  SelectPortrait         = SABarracks_L
  ButtonImage            = SABarracks
  PlacementViewAngle     = -45

  UpgradeCameo1 = Upgrade_USABuildingDefense
    
  ;Main barracks model
  Draw                   = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    ;DAY *******************************
    ConditionState       = NONE
      Model              = ABBARRACKS
      Animation          = ABBarracks.ABBarracks
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED
      Model              = ABBarracks_D
      Animation          = ABBarracks_D.ABBarracks_D
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABBarracks_E
      Animation          = ABBarracks_E.ABBarracks_E
      AnimationMode      = LOOP
    End
    
    ;NIGHT *****************************
    ConditionState       = NIGHT
      Model              = ABBARRACKS_N
      Animation          = ABBarracks_N.ABBarracks_N
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABBarracks_DN
      Animation          = ABBarracks_DN.ABBarracks_DN
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABBarracks_EN
      Animation          = ABBarracks_EN.ABBarracks_EN
      AnimationMode      = LOOP
    End


    ;SNOW ******************************
    ConditionState       = SNOW
      Model              = ABBARRACKS_S
      Animation          = ABBarracks_S.ABBarracks_S
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABBarracks_DS
      Animation          = ABBarracks_DS.ABBarracks_DS
      AnimationMode      = LOOP
    End
     ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model              = ABBarracks_ES
      Animation          = ABBarracks_ES.ABBarracks_ES
      AnimationMode      = LOOP
    End


    ;SNOW AND NIGHT ********************
    ConditionState       = SNOW NIGHT
      Model              = ABBARRACKS_NS
      Animation          = ABBarracks_NS.ABBarracks_NS
      AnimationMode      = LOOP
    End
    ConditionState       = DAMAGED SNOW NIGHT
      Model              = ABBarracks_DNS
      Animation          = ABBarracks_DNS.ABBarracks_DNS
      AnimationMode      = LOOP
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW NIGHT
      Model              = ABBarracks_ENS
      Animation          = ABBarracks_ENS.ABBarracks_ENS
      AnimationMode      = LOOP
    End
    
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABBarracks
      Animation          = ABBarracks.ABBarracks
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABBarracks_D
      Animation          = ABBarracks_D.ABBarracks_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABBarracks_E
      Animation          = ABBarracks_E.ABBarracks_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABBarracks_N
      Animation          = ABBarracks_N.ABBarracks_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABBarracks_DN
      Animation          = ABBarracks_DN.ABBarracks_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABBarracks_EN
      Animation          = ABBarracks_EN.ABBarracks_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABBarracks_S
      Animation          = ABBarracks_S.ABBarracks_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABBarracks_DS
      Animation          = ABBarracks_DS.ABBarracks_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABBarracks_ES
      Animation          = ABBarracks_ES.ABBarracks_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABBarracks_NS
      Animation          = ABBarracks_NS.ABBarracks_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABBarracks_DNS
      Animation          = ABBarracks_DNS.ABBarracks_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABBarracks_ENS
      Animation          = ABBarracks_ENS.ABBarracks_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
    End

    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_A4
      Animation       = ABBarracks_A4.ABBarracks_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_A4N
      Animation       = ABBarracks_A4N.ABBarracks_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_A4S
      Animation       = ABBarracks_A4S.ABBarracks_A4S
      AnimationMode   = ONCE_BACKWARDS    
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End  
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_A4SN
      Animation       = ABBarracks_A4SN.ABBarracks_A4SN
      AnimationMode   = ONCE_BACKWARDS    
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End 
   End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End 
   TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_A6
      Animation       = ABBarracks_A6.ABBarracks_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_A6N
      Animation       = ABBarracks_A6N.ABBarracks_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_A6S
      Animation       = ABBarracks_A6S.ABBarracks_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_A6SN
      Animation       = ABBarracks_A6SN.ABBarracks_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5
      Animation       = ABBarracks_A5.ABBarracks_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5N
      Animation       = ABBarracks_A5N.ABBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5S
      Animation       = ABBarracks_A5S.ABBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5SN
      Animation       = ABBarracks_A5SN.ABBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End 
   TransitionState    = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Barracks
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 800
  BuildTime           = 16.0
  EnergyProduction    = 0
  CommandSet          = AirF_AmericaBarracksCommandSet
  VisionRange         = 200.0
  ShroudClearingRange = 200
  ExperienceValue  = 67 67 67 67

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End
 
  ; *** AUDIO Parameters ***
  VoiceSelect = BarracksUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority        = STRUCTURE
  KindOf               = PRELOAD STRUCTURE SELECTABLE IMMOBILE HEAL_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_BARRACKS

  Body                 = StructureBody ModuleTag_05
    MaxHealth          = 1600.0
    InitialHealth      = 1600.0
    SubdualDamageCap = 1600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = HealContain ModuleTag_06
    ContainMax          = 10 ;way bigger than the # of objects we can have  
    TimeForFullHeal     = 2000   ;(in milliseconds)
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
  End

  Behavior = DestroyDie ModuleTag_07
  End

  Behavior                  = CreateObjectDie ModuleTag_08
    CreationList       = OCL_LargeStructureDebris
  End

  Behavior                  = CreateObjectDie ModuleTag_09
    CreationList       = AirF_OCL_AmericanRangerDebris02
    ExemptStatus       = UNDER_CONSTRUCTION
  End

  Behavior                  = FXListDie ModuleTag_10
    DeathFX            = FX_StructureMediumDeath
  End

  Behavior = ProductionUpdate ModuleTag_11
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_12
    UnitCreatePoint    = X:  0.0  Y:  0.0   Z:0.0
    NaturalRallyPoint  = X: 55.0  Y:  0.0   Z:0.0
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
  End 

  Behavior = FlammableUpdate ModuleTag_15
    AflameDuration = 8000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 1       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransitionDamageFX ModuleTag_16
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunBarracks
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry             = BOX
  GeometryMajorRadius  = 55.0
  GeometryMinorRadius  = 45.0
  GeometryHeight       = 20.0
  GeometryIsSmall      = No
  FactoryExitWidth    = 25     ; How much space to leave for units exiting.
  Shadow               = SHADOW_VOLUME
  BuildCompletion      = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaWarFactory

  ; *** ART Parameters ***
  SelectPortrait = SACWeaponsfact_L
  ButtonImage            = SACWeaponsfact

  UpgradeCameo1 = Upgrade_USABuildingDefense
  
  ; ------------ the main factory itself -----------------
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes  
    ; day *****
    DefaultConditionState
      Model           = ABWarFact
      Animation       = ABWarFact.ABWarFact
      AnimationMode   = LOOP
      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent     
    End    
    ConditionState = DAMAGED
      Model           = ABWarFact_D
      Animation       = ABWarFact_D.ABWarFact_D
      AnimationMode   = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_E
      Animation       = ABWarFact_E.ABWarFact_E
      AnimationMode   = LOOP 
    End

    ; night ****
    ConditionState = NIGHT
      Model           = ABWarFact_N
      Animation       = ABWarFact_N.ABWarFact_N
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED NIGHT
      Model           = ABWarFact_DN
      Animation       = ABWarFact_DN.ABWarFact_DN
      AnimationMode   = LOOP  
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT
      Model           = ABWarFact_EN
      Animation       = ABWarFact_EN.ABWarFact_EN
      AnimationMode   = LOOP 
    End
    
    ; snow ****
    ConditionState = SNOW
      Model           = ABWarFact_S
      Animation       = ABWarFact_S.ABWarFact_S
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED SNOW
      Model           = ABWarFact_DS
      Animation       = ABWarFact_DS.ABWarFact_DS
      AnimationMode   = LOOP
    End
    ConditionState = REALLYDAMAGED RUBBLE SNOW
      Model           = ABWarFact_ES
      Animation       = ABWarFact_ES.ABWarFact_ES
      AnimationMode   = LOOP 
    End

    ; night snow ****
    ConditionState = NIGHT SNOW
      Model           = ABWarFact_NS
      Animation       = ABWarFact_NS.ABWarFact_NS
      AnimationMode   = LOOP
    End
    ConditionState = DAMAGED NIGHT SNOW
      Model           = ABWarFact_DNS
      Animation       = ABWarFact_DNS.ABWarFact_DNS
      AnimationMode   = LOOP  
    End
    ConditionState = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model           = ABWarFact_ENS
      Animation       = ABWarFact_ENS.ABWarFact_ENS
      AnimationMode   = LOOP 
    End

    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABWarFact
      Animation          = ABWarFact.ABWarFact
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABWarFact_D
      Animation          = ABWarFact_D.ABWarFact_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABWarFact_E
      Animation          = ABWarFact_E.ABWarFact_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABWarFact_N
      Animation          = ABWarFact_N.ABWarFact_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABWarFact_DN
      Animation          = ABWarFact_DN.ABWarFact_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABWarFact_EN
      Animation          = ABWarFact_EN.ABWarFact_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABWarFact_S
      Animation          = ABWarFact_S.ABWarFact_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABWarFact_DS
      Animation          = ABWarFact_DS.ABWarFact_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABWarFact_ES
      Animation          = ABWarFact_ES.ABWarFact_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABWarFact_NS
      Animation          = ABWarFact_NS.ABWarFact_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABWarFact_DNS
      Animation          = ABWarFact_DNS.ABWarFact_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABWarFact_ENS
      Animation          = ABWarFact_ENS.ABWarFact_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ----------------- the factory door -------------------
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT 
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT
    
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A8
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState    = DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_OPENING
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING
    AliasConditionState = SNOW DOOR_1_OPENING
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING
    
    ConditionState    = DOOR_1_OPENING DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End   
    AliasConditionState = NIGHT DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW DOOR_1_OPENING DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING DAMAGED
    
    ConditionState    = DOOR_1_OPENING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_OPENING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_OPENING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_CLOSING
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING
    AliasConditionState = SNOW DOOR_1_CLOSING
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING

    
    ConditionState    = DOOR_1_CLOSING DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW DOOR_1_CLOSING DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING DAMAGED
    
    ConditionState    = DOOR_1_CLOSING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_CLOSING REALLYDAMAGED RUBBLE
    
    ConditionState    = DOOR_1_WAITING_OPEN
      Model           = ABWarFact_A8
      Animation       = ABWarFact_A8.ABWarFact_A8
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN
    
    ConditionState    = DOOR_1_WAITING_OPEN DAMAGED
      Model           = ABWarFact_A8D
      Animation       = ABWarFact_A8D.ABWarFact_A8D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN DAMAGED
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN DAMAGED
    
    ConditionState    = DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A8E
      Animation       = ABWarFact_A8E.ABWarFact_A8E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
    End   
    AliasConditionState = NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT DOOR_1_WAITING_OPEN REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------------ the construction crane ------------
  Draw = W3DModelDraw ModuleTag_03
    ; -----------------------------------------------------------
    OkToChangeModelColor = Yes
    ; -----------------------------------------------------------
    DefaultConditionState
      Model           = ABWarFact_A1
      Animation       = ABWarFact_A1.ABWarFact_A1
      AnimationMode   = LOOP
      TransitionKey   = TRANS_Idle
    End
    ConditionState    = DAMAGED
      Model           = ABWarFact_A1D
      Animation       = ABWarFact_A1D.ABWarFact_A1D
      AnimationMode   = LOOP
      TransitionKey   = TRANS_IdleDamaged
    End
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A1E
      Animation       = ABWarFact_A1E.ABWarFact_A1E
      AnimationMode   = LOOP
      TransitionKey   = TRANS_IdleReallyDamaged
    End

    ; -----------------------------------------------------------
    TransitionState   = TRANS_Constructing TRANS_Idle
      Model           = ABWarFact_A3
      Animation       = ABWarFact_A3.ABWarFact_A3
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End
    TransitionState   = TRANS_ConstructingDamaged TRANS_IdleDamaged
      Model           = ABWarFact_A3D
      Animation       = ABWarFact_A3D.ABWarFact_A3D
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End
    TransitionState   = TRANS_ConstructingReallyDamaged TRANS_IdleReallyDamaged
      Model           = ABWarFact_A3E
      Animation       = ABWarFact_A3E.ABWarFact_A3E
      AnimationMode   = ONCE
      Flags           = MAINTAIN_FRAME_ACROSS_STATES
    End

    ; -----------------------------------------------------------
    ConditionState    = ACTIVELY_CONSTRUCTING
      Model           = ABWarFact_A3
      Animation       = ABWarFact_A3.ABWarFact_A3
      AnimationMode   = ONCE
      TransitionKey   = TRANS_Constructing
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      Model           = ABWarFact_A3D
      Animation       = ABWarFact_A3D.ABWarFact_A3D
      AnimationMode   = ONCE
      TransitionKey   = TRANS_ConstructingDamaged
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A3E
      Animation       = ABWarFact_A3E.ABWarFact_A3E
      AnimationMode   = ONCE
      TransitionKey   = TRANS_ConstructingReallyDamaged
      Flags           = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
    End
    ; -----------------------------------------------------------
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SOLD
      Model           = ABWarFact_A1
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState    = SOLD
      Model           = NONE
    End    
  End

  ; ------------------ the construction conveyor belt ------------
  Draw = W3DModelDraw ModuleTag_04
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model           = ABWarFact_A7
      Animation       = ABWarFact_A7.ABWarFact_A7
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT
    
    ConditionState    = SOLD
      Model           = NONE
    End 
    AliasConditionState = SNOW SOLD
    AliasConditionState = NIGHT SOLD
    AliasConditionState = SNOW NIGHT SOLD 


    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED 
      Model           = ABWarFact_A7
      Flags           = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState    = DAMAGED
      Model           = ABWarFact_A7D
      Animation       = ABWarFact_A7D.ABWarFact_A7D
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW DAMAGED
    AliasConditionState = NIGHT DAMAGED
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState    = REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A7E
      Animation       = ABWarFact_A7E.ABWarFact_A7E
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
    
    ConditionState    = ACTIVELY_CONSTRUCTING
      Model           = ABWarFact_A7
      Animation       = ABWarFact_A7.ABWarFact_A7
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING
    
    ConditionState    = ACTIVELY_CONSTRUCTING DAMAGED
      Model           = ABWarFact_A7D
      Animation       = ABWarFact_A7D.ABWarFact_A7D
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING DAMAGED
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING DAMAGED
    
    ConditionState    = ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
      Model           = ABWarFact_A7E
      Animation       = ABWarFact_A7E.ABWarFact_A7E
      AnimationMode   = LOOP
    End
    AliasConditionState = SNOW ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT ACTIVELY_CONSTRUCTING REALLYDAMAGED RUBBLE
    
  End

  ; ------------ construction done flashing lights ----------
  Draw = W3DModelDraw ModuleTag_05
    DefaultConditionState
      Model           = None
    End
    ConditionState    = SOLD
      Model           = NONE
    End    
    ConditionState    = SOLD SNOW
       Model          = NONE
    End   
    ConditionState    = SOLD NIGHT
       Model          = NONE
    End    
    ConditionState    = SOLD NIGHT SNOW
       Model          = NONE
    End   
    ConditionState    = CONSTRUCTION_COMPLETE
      Model           = ABWarFact_A2
      Animation       = ABWarFact_A2.ABWarFact_A2
      AnimationMode   = LOOP
      Flags           = START_FRAME_FIRST
    End  
  End
    
  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABWarFact_A4
      Animation       = ABWarFact_A4.ABWarFact_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABWarFact_A4N
      Animation       = ABWarFact_A4N.ABWarFact_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABWarFact_A4S
      Animation       = ABWarFact_A4S.ABWarFact_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABWarFact_A4SN
      Animation       = ABWarFact_A4SN.ABWarFact_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABWarFact_A6
      Animation       = ABWarFact_A6.ABWarFact_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABWarFact_A6N
      Animation       = ABWarFact_A6N.ABWarFact_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABWarFact_A6S
      Animation       = ABWarFact_A6S.ABWarFact_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABWarFact_A6SN
      Animation       = ABWarFact_A6SN.ABWarFact_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5
      Animation       = ABWarFact_A5.ABWarFact_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5N
      Animation       = ABWarFact_A5N.ABWarFact_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5S
      Animation       = ABWarFact_A5S.ABWarFact_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABWarFact_A5SN
      Animation       = ABWarFact_A5SN.ABWarFact_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABWarFact_AB
      Animation       = ABWarFact_AB.ABWarFact_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABWarFact_ABN
      Animation       = ABWarFact_ABN.ABWarFact_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABWarFact_ABS
      Animation       = ABWarFact_ABS.ABWarFact_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABWarFact_ABSN
      Animation       = ABWarFact_ABSN.ABWarFact_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End 
   TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABWarFact_AB
      Animation       = ABWarFact_AB.ABWarFact_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABWarFact_ABN
      Animation       = ABWarFact_ABN.ABWarFact_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABWarFact_ABS
      Animation       = ABWarFact_ABS.ABWarFact_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABWarFact_ABSN
      Animation       = ABWarFact_ABSN.ABWarFact_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -135

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:WarFactory
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  BuildCost        = 2000
  BuildTime        = 40.0
  EnergyProduction = -1
  CommandSet       = AirF_AmericaWarFactoryCommandSet
  VisionRange     = 200.0
  ShroudClearingRange = 200
  ExperienceValue  = 80 80 80 80

  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = StructureArmor
    DamageFX        = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect = WarFactoryUSASelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE REPAIR_PAD SCORE CAPTURABLE FS_FACTORY AUTO_RALLYPOINT MP_COUNT_FOR_VICTORY FS_WARFACTORY

  Body            = StructureBody ModuleTag_09
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0
    SubdualDamageCap = 4000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ProductionUpdate ModuleTag_10
    NumDoorAnimations            = 1
    DoorOpeningTime              = 3250  ;in mSeconds
    DoorWaitOpenTime             = 3000  ;in mSeconds
    DoorCloseTime                = 4000  ;in mSeconds
    ConstructionCompleteDuration = 1500  ;in mSeconds
  End

  Behavior = DefaultProductionExitUpdate ModuleTag_11
    UnitCreatePoint   = X: -10.0  Y:-30.0   Z:0.0
    NaturalRallyPoint = X: 53.0  Y:-30.0   Z:0.0
  End

  Behavior = RepairDockUpdate ModuleTag_12
    TimeForFullHeal   = 5000   ;(in milliseconds)     
    NumberApproachPositions = 5
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
  End 
  
  Behavior = TransitionDamageFX ModuleTag_15
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = CreateObjectDie ModuleTag_16
    CreationList = AirF_OCL_AmericanRangerDebris05
    ExemptStatus = UNDER_CONSTRUCTION
  End

  Behavior = FlammableUpdate ModuleTag_18
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End
  
  Behavior = CreateObjectDie ModuleTag_20
    CreationList = OCL_LargeStructureDebris
  End
  
  Behavior = FXListDie ModuleTag_21
    DeathFX = FX_StructureMediumDeath
  End
  
  Behavior = DestroyDie ModuleTag_22
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunWarFact
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 53.0
  GeometryMinorRadius = 60.0
  GeometryHeight      = 40.0
  GeometryIsSmall     = No
  FactoryExitWidth    = 25
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaPatriotBattery

  ; *** ART Parameters ***
  SelectPortrait         = SAPatriot_L
  ButtonImage            = SAPatriot

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model             = ABPatriot
      Turret            = TURRET01
      TurretPitch       = TURRETEL
      WeaponLaunchBone  = PRIMARY   WeaponA
      WeaponLaunchBone  = SECONDARY WeaponA
      WeaponLaunchBone  = TERTIARY  WeaponA
      WeaponFireFXBone  = PRIMARY   WeaponA
      WeaponFireFXBone  = SECONDARY WeaponA
      WeaponFireFXBone  = TERTIARY  WeaponA
    End
    AliasConditionState = NIGHT
    
    ConditionState      = DAMAGED
      Model             = ABPatriot_D
    End
    AliasConditionState = DAMAGED NIGHT
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABPatriot_E
    End
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    
    
    ConditionState      = SNOW
      Model             = ABPatriot_S
    End
    AliasConditionState = SNOW NIGHT
    
    ConditionState      = DAMAGED SNOW
      Model             = ABPatriot_DS
    End
    AliasConditionState = SNOW NIGHT DAMAGED
    
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABPatriot_ES
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE
   
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABPatriot
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABPatriot_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABPatriot_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABPatriot_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABPatriot_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = ABPatriot_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_02
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A4
      Animation       = ABPatriot_A4.ABPatriot_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4N
      Animation       = ABPatriot_A4N.ABPatriot_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A4S
      Animation       = ABPatriot_A4S.ABPatriot_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A4SN
      Animation       = ABPatriot_A4SN.ABPatriot_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_03
    AnimationsRequirePower = No ; Do not pause the construction anims when low power disabled
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABPatriot_A6
      Animation       = ABPatriot_A6.ABPatriot_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6N
      Animation       = ABPatriot_A6N.ABPatriot_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABPatriot_A6S
      Animation       = ABPatriot_A6S.ABPatriot_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABPatriot_A6SN
      Animation       = ABPatriot_A6SN.ABPatriot_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName       = OBJECT:PatriotBattery
  Side              = AmericaAirForceGeneral
  EditorSorting     = STRUCTURE
  BuildCost         = 1000
  BuildTime         = 20.0
  EnergyProduction  = -3

  Prerequisites
    Object = AirF_AmericaPowerPlant
  End

  WeaponSet
    Conditions         = None 
    Weapon             = PRIMARY    PatriotMissileWeapon
    Weapon             = SECONDARY  PatriotMissileAssistWeapon
    Weapon             = TERTIARY   PatriotMissileWeaponAir
    AutoChooseSources  = PRIMARY    FROM_PLAYER FROM_AI FROM_SCRIPT
    AutoChooseSources  = SECONDARY  NONE
    AutoChooseSources  = TERTIARY   FROM_PLAYER FROM_AI FROM_SCRIPT  
    PreferredAgainst   = PRIMARY    VEHICLE INFANTRY
    PreferredAgainst   = SECONDARY  BALLISTIC_MISSILE AIRCRAFT
    PreferredAgainst   = TERTIARY   BALLISTIC_MISSILE AIRCRAFT
    ShareWeaponReloadTime = Yes
  End

  VisionRange    = 350.0
  ShroudClearingRange = 350

  ArmorSet
    Conditions = None
    Armor      = BaseDefenseArmor
    DamageFX   = StructureDamageFXNoShake
  End
  CommandSet      = AirF_AmericaPatriotBatteryCommandSet
  ExperienceValue = 74 111 166 241

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT IMMOBILE SCORE FS_TECHNOLOGY POWERED FS_BASE_DEFENSE IMMUNE_TO_CAPTURE

  Body            = StructureBody ModuleTag_04
    MaxHealth     = 900.0
    InitialHealth = 900.0
    SubdualDamageCap = 1500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
 
  Behavior = StealthDetectorUpdate ModuleTag_AircraftDetector ;+
    DetectionRate     = 500
    ExtraRequiredKindOf = AIRCRAFT
  End

  Behavior = BaseRegenerateUpdate ModuleTag_05
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 270
      TurretPitchRate       = 270
      AllowsPitch           = Yes
      NaturalTurretPitch    = 45   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 250    ; in milliseconds
      MaxIdleScanInterval   = 250    ; in milliseconds
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle
    End
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = AssistedTargetingUpdate ModuleTag_07
    AssistingClipSize = 4                       ; How many shots to make when asked by someone of my kind who has a RequestAssistRange weapon
    AssistingWeaponSlot = SECONDARY             ; And the weapon to use.  Should have huge range and no natural clip.
    LaserFromAssisted = PatriotBinaryDataStream ; Stream to draw from the requestor to me
    LaserToTarget = PatriotBinaryDataStream     ; Stream to draw from me to the target
  End

  Behavior = DestroyDie ModuleTag_08
  End

  Behavior   = CreateObjectDie ModuleTag_09
    CreationList  = AirF_OCL_AmericanRangerDebris02
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior             = FXListDie ModuleTag_10
    DeathFX       = FX_StructureTinyDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_14
    ;-------------DESIGNED FOR TINY SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBuildingBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanBuildingScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanBuildingHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanBuildingStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanBuildingMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_Drone06
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Geometry = CYLINDER
  Scale = 1.15
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 16.0
  GeometryHeight      = 14.0
  GeometryIsSmall     = No
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaFireBase

  ; *** ART Parameters ***
  SelectPortrait         = SADsgBase_L
  ButtonImage            = SADsgBase
  Draw = W3DModelDraw ModuleTag_01

    IgnoreConditionStates = NIGHT

    OkToChangeModelColor = Yes

    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02
    ExtraPublicBone = STATION03
    ExtraPublicBone = STATION04

    DefaultConditionState
      Model             = ABFIREBASE
      HideSubObject     = TURRET01
    End
    
    ConditionState      = DAMAGED
      Model             = ABFIREBASE_D
    End
    
    ConditionState      = REALLYDAMAGED RUBBLE
      Model             = ABFIREBASE_E
    End
    
    ConditionState      = SNOW
      Model             = ABFIREBASE_S
    End
    
    ConditionState      = DAMAGED SNOW
      Model             = ABFIREBASE_SD
    End
    
    ConditionState      = REALLYDAMAGED RUBBLE SNOW
      Model             = ABFIREBASE_SE
    End
  
    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABFIREBASE
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABFIREBASE_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABFIREBASE_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = ABFIREBASE_SD
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
  End

  ; ------------ construction-zone fence -----------------
  Draw                = W3DModelDraw ModuleTag_02
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A4
      Animation       = ABSupDrop_A4.ABSupDrop_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4N
      Animation       = ABSupDrop_A4N.ABSupDrop_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A4S
      Animation       = ABSupDrop_A4S.ABSupDrop_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A4SN
      Animation       = ABSupDrop_A4SN.ABSupDrop_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw                = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    MinLODRequired    = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSupDrop_A6
      Animation       = ABSupDrop_A6.ABSupDrop_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6N
      Animation       = ABSupDrop_A6N.ABSupDrop_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSupDrop_A6S
      Animation       = ABSupDrop_A6S.ABSupDrop_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSupDrop_A6SN
      Animation       = ABSupDrop_A6SN.ABSupDrop_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ;----------------------------------------------------------------------
  Draw = W3DModelDraw ModuleTag_Draw04

    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY SECONDARY TERTIARY

    ConditionState = NONE
      Model         = ABDsgBase
      Animation     = ABDsgBase.ABDsgBase
      AnimationMode = LOOP
      Turret        = TURRETX
    End
    AliasConditionState = NIGHT
    AliasConditionState = SNOW
    AliasConditionState = SNOW NIGHT

    ConditionState  = DAMAGED
      Model         = ABDsgBase_D
      Animation     = ABDsgBase_D.ABDsgBase_D
      AnimationMode = LOOP
    End
    AliasConditionState = DAMAGED NIGHT
    AliasConditionState = DAMAGED SNOW
    AliasConditionState = DAMAGED SNOW NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE
    AliasConditionState = REALLYDAMAGED RUBBLE NIGHT
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW
    AliasConditionState = REALLYDAMAGED RUBBLE SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABDsgBase
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABDsgBase
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:DesignatorBase
  Side             = AmericaAirForceGeneral
  EditorSorting    = STRUCTURE
  BuildCost        = 2400
  BuildTime        = 48.0
  EnergyProduction = -2
  VisionRange         = 300
  ShroudClearingRange = 250

  Prerequisites
    Object = AirF_AmericaPowerPlant
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Object = AirF_AmericaStrategyCenter
  End

  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY   AirStrikeDesignatorGun
    Weapon            = SECONDARY DummyWeapon
    AutoChooseSources = PRIMARY   FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End

  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY
  End

  ArmorSet
    Conditions    = None
    Armor         = FireBaseArmor
    DamageFX      = StructureDamageFXNoShake
  End
  CommandSet      = AirF_AmericaFireBaseCommandSet
  ExperienceValue = 142 210 311 449

  ; *** AUDIO Parameters ***
  VoiceSelect = PatriotBatterySelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE CAN_ATTACK IMMOBILE SPAWNS_ARE_THE_WEAPONS SCORE FS_TECHNOLOGY FS_BASE_DEFENSE IMMUNE_TO_CAPTURE GARRISONABLE_UNTIL_DESTROYED POWERED

  Body               = HiveStructureBody ModuleTag_04;
    MaxHealth        = 750.0
    InitialHealth    = 750.0
    SubdualDamageCap = 1500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
    PropagateDamageTypesToSlavesWhenExisting = NONE +SNIPER +SMALL_ARMS +POISON +RADIATION +SURRENDER
  End
 
  Behavior = BaseRegenerateUpdate ModuleTag_05
  End 
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 60
      TurretPitchRate       = 60
      AllowsPitch           = Yes
      NaturalTurretPitch    = 1   
      GroundUnitPitch       = 40
      MinPhysicalPitch      = -20
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanInterval   = 550    ; in milliseconds
      MaxIdleScanInterval   = 950    ; in milliseconds
      MinIdleScanAngle      = 0      ; in degrees off the natural turret angle
      MaxIdleScanAngle      = 360    ; in degrees off the natural turret angle
    End

    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon
    MoodAttackCheckRate        = 250
  End

  Behavior = GarrisonContain ModuleTag_07
    ContainMax                    = 4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 100%
    IsEnclosingContainer          = No
  End

  Behavior = DestroyDie ModuleTag_08
  End

  Behavior = FXListDie ModuleTag_10
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_12
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = CreateObjectDie ModuleTag_13
    CreationList = OCL_LargeStructureDebris
  End

  Behavior   = CreateObjectDie ModuleTag_Rng
    CreationList  = AirF_OCL_AmericanRangerDebris02
    ExemptStatus  = UNDER_CONSTRUCTION
  End

  Behavior = TransitionDamageFX ModuleTag_14
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionTinySmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionTinyExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionTinyShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBuildingBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanBuildingScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanBuildingHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanBuildingStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanBuildingMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_Drone06
    MaxQueueEntries = 1
  End

  Behavior = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilityShowRadius
    OCL                  = OCL_LongRangeDecalObject
    CreateLocation       = CREATE_AT_LOCATION
  End

  Geometry            = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 26.0
  GeometryHeight      = 15.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AFG_AmericaVehicleChinook  ;; normal Chinook

  ; *** ART Parameters ***
  SelectPortrait         = SAChinook_L
  ButtonImage            = SAChinook

  UpgradeCameo1 = Upgrade_AmericaSupplyLines  
  
  Draw = W3DModelDraw   ModuleTag_01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinook
      Animation = AVChinook.AVChinook
      AnimationMode = LOOP
    End

    ConditionState = MOVING
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
      ParticleSysBone = EXHAUST01 HeliExhaustHeat
      ParticleSysBone = EXHAUST02 HeliExhaustHeat
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED MOVING
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
      ParticleSysBone = EXHAUST01 HeliExhaustHeat
      ParticleSysBone = EXHAUST02 HeliExhaustHeat
    End

    ConditionState = RUBBLE
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinook_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw    ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Chinook
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  BuildCost           = 1000
  BuildTime           = 12.0
  ExperienceValue     = 0 0 0 0
  IsTrainable         = No  
  CommandSet          = AmericaVehicleChinookCommandSet

  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = ChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = ChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = ChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 500.0
    InitialHealth   = 500.0
    SubdualDamageCap = 1200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 8
    SupplyCenterActionDelay = 3000    ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1100 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40    ; if dropping into a tall bldg, go at least this far above it
    UpgradedSupplyBoost     = 60    ; increase in value of the crates when supply lines has been upgraded
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_08
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleChinook ;;Combat chinook

  ; *** ART Parameters ***
  SelectPortrait         = SAComChinok_L
  ButtonImage            = SAComChinok

  UpgradeCameo1 = Upgrade_AmericaSupplyLines  
  
  Draw = W3DModelDraw      ModuleTag_Draw01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinook
      Animation = AVChinook.AVChinook
      AnimationMode = LOOP
    End

    ConditionState = MOVING
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
      ParticleSysBone = EXHAUST01 HeliExhaustHeat
      ParticleSysBone = EXHAUST02 HeliExhaustHeat
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED MOVING
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
      ParticleSysBone = EXHAUST01 HelixExhaust
      ParticleSysBone = EXHAUST02 HelixExhaust
      ParticleSysBone = EXHAUST01 HeliExhaustHeat
      ParticleSysBone = EXHAUST02 HeliExhaustHeat
    End

    ConditionState = RUBBLE
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinook_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw     ModuleTag_Draw02 ; Cargo net 
    ConditionState = NONE
      Model = None
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  Draw = W3DModelDraw      ModuleTag_Draw00 ; Bunker

    DefaultConditionState
      Model = AVChinookAG
      Turret = TURRET
      WeaponLaunchBone  = PRIMARY Launch
      WeaponFireFXBone  = PRIMARY Launch
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinookAG_d
    End

    ConditionState = RUBBLE
      Model = AVChinookAG_d
    End
    AliasConditionState = RUBBLE SPECIAL_DAMAGED
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:AirF_Chinook
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 250 
  ShroudClearingRange = 300
  BuildCost           = 1300
  BuildTime           = 13.0
  ExperienceValue     = 98 136 198 284
  IsTrainable         = No
  CommandSet          = AirF_AmericaVehicleCombatChinookCommandSet

  Prerequisites
    Object = AirF_AmericaWarFactory AirF_AmericaAirfield
  End

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY ChinookAutomaticGrenadeLauncherWeapon 
    PreferredAgainst = PRIMARY INFANTRY
  End

  ArmorSet
    Conditions = None
    Armor      = ChinookArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = CombatChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = CombatChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = CombatChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD CAN_ATTACK

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 800.0
    InitialHealth   = 800.0
    SubdualDamageCap = 1600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_HelicopterStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 8
    SupplyCenterActionDelay = 3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1100  ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700  ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10
    RappelSpeed             = 30
    MinDropHeight           = 40
    UpgradedSupplyBoost     = 60
    Turret
      TurretTurnRate = 180
      TurretPitchRate = 0
      ControlledWeaponSlots = PRIMARY
      RecenterTime    = 100
    End
    MoodAttackCheckRate = 500
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL    ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor
  
  Behavior = TransportContain ModuleTag_08
    PassengersAllowedToFire = Yes
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT
    ExitDelay             = 100
    NumberOfExitPaths     = 1
    GoAggressiveOnExit    = Yes
  End

  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetRaptor

  ; *** ART Parameters ***
  SelectPortrait         = SAKingRap_L
  ButtonImage            = SAKingRap
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ImpulseEngines
  
  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model               = AVRaptorAG
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = USER_1

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState = REALLYDAMAGED USER_1
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptorAG_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End
    AliasConditionState = RUBBLE USER_1

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER USER_1

    ConditionState        = JETEXHAUST USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST USER_1
      Model               = AVRaptorAG_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER USER_1
      Model               = AVRaptorAG_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:KingRaptor
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 400.0 
  ShroudClearingRange = 400
  BuildCost           = 1300
  BuildTime           = 13
  ExperienceValue     = 98 130 173 231
  ExperienceRequired  = 0 293 389 518
  IsTrainable         = Yes
  CrusherLevel        = 1
  CrushableLevel      = 2
  CommandSet          = AirF_AmericaJetRaptorCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Object = AirF_AmericaStrategyCenter
  End

  WeaponSet
    Conditions       = None 
    Weapon           = PRIMARY AirF_RaptorJetMissileWeapon
    PreferredAgainst = PRIMARY AIRCRAFT
  End

  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect            = KingRaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff

  UnitSpecificSounds
    VoiceCreate          = KingRaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority      = UNIT
  KindOf             = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body               = ActiveBody ModuleTag_02
    MaxHealth        = 220.0
    InitialHealth    = 220.0
    SubdualDamageCap = 440
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
  End

  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Locomotor = SET_NORMAL_UPGRADED RaptorJetLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_77
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                          = 1000
    StealthForbiddenConditions            = ATTACKING
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = StealthDetectorUpdate ModuleTag_Detector ;+
    DetectionRate         = 500
    DetectionRange        = 400
    ExtraRequiredKindOf   = AIRCRAFT
  End

  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Behavior = ModelConditionUpgrade ModuleTag_Engines02
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_F22MoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetF35

  SelectPortrait = SAJSF_L
  ButtonImage    = SAJSF

  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ImpulseEngines

  Draw = W3DModelDraw ModuleTag_01 

    ConditionState = NONE
      Model = AVF35A
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = USER_1

    ConditionState = JETEXHAUST
      Model = AVF35A
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
      ParticleSysBone  = Engine01 JetExhaustHeat
      ParticleSysBone  = Engine02 JetExhaustHeat
    End

    ConditionState = JETEXHAUST USER_1
      Model = AVF35A
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Wingtip01 JetContrailUpgraded
      ParticleSysBone = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState = JETEXHAUST JETAFTERBURNER
      Model = AVF35A
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject = BurnerFX01
      ParticleSysBone = Engine01 JetLenzflare
    End

    ConditionState = JETEXHAUST JETAFTERBURNER USER_1
      Model = AVF35A
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Wingtip01 JetContrailUpgraded
      ParticleSysBone = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject = BurnerFX01
      ParticleSysBone = Engine01 JetLenzflare
    End

    ConditionState = REALLYDAMAGED
      Model = AVF35A_D
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
    End    
    AliasConditionState = REALLYDAMAGED USER_1

    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = AVF35A_D
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState = REALLYDAMAGED JETEXHAUST USER_1
      Model = AVF35A_D
      HideSubObject = BurnerFX01
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ParticleSysBone = Wingtip01 JetContrailUpgraded
      ParticleSysBone = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model = AVF35A_D
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ShowSubObject = BurnerFX01
      ParticleSysBone = Engine01 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER USER_1
      Model = AVF35A_D
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Smoke01 JetSmoke
      ParticleSysBone = Engine01 JetEngineDamagedSmoke
      ShowSubObject = BurnerFX01
      ParticleSysBone = Engine01 JetLenzflare
      ParticleSysBone = Wingtip01 JetContrailUpgraded
      ParticleSysBone = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState = RUBBLE
      Model = AVF35A_D1
      WeaponLaunchBone = PRIMARY WeaponA
    End
    AliasConditionState = RUBBLE USER_1

    ConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
      Model = AVF35A_D1
      WeaponLaunchBone = PRIMARY WeaponA
      ParticleSysBone = Engine01 JetExhaust
      ParticleSysBone = Engine02 JetExhaust
      ParticleSysBone = Wingtip01 JetContrail
      ParticleSysBone = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER USER_1

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:JSF
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 200
  ShroudClearingRange = 400
  BuildCost           = 1600
  BuildTime           = 16
  ExperienceValue     = 87 116 155 207
  ExperienceRequired  = 0 262 349 464
  IsTrainable         = Yes
  CrusherLevel        = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaGenericCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Object = AirF_AmericaStrategyCenter
  End

  WeaponSet
    Conditions     = None 
    Weapon         = PRIMARY AirF_F35JetBombWeapon ;; was AirF_F35JetMissileWeapon
  End

  ArmorSet
    Conditions  = None
    Armor       = AirplaneArmor
    DamageFX    = None
  End
  ArmorSet
    Conditions       = PLAYER_UPGRADE
    Armor            = CountermeasuresAirplaneArmor
    DamageFX         = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = IDVoiceSelect
  VoiceMove       = IDVoiceMove
  VoiceAttack     = IDVoiceAttack
  VoiceAttackAir  = IDVoiceAttack
  VoiceGuard      = IDVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate   = IDVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = IDVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body               = ActiveBody ModuleTag_02
    MaxHealth        = 220.0
    InitialHealth    = 220.0
    SubdualDamageCap = 440
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_F35DeathFinalBlowUp
    DestructionDelay                = 99999999
    RollRate                        = 0.2
    RollRateDelta                   = 100%
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_F35DeathFinalBlowUp
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Locomotor = SET_NORMAL_UPGRADED RaptorJetLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_77
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                          = 1000
    StealthForbiddenConditions            = ATTACKING
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Behavior = ModelConditionUpgrade ModuleTag_Engines02
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_F35MoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetF18

  ; *** ART Parameters ***
  SelectPortrait         = SAF18_L
  ButtonImage            = SAF18
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  UpgradeCameo4 = Upgrade_ImpulseEngines
  UpgradeCameo5 = Upgrade_StealthCovering
  
  Draw                   = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model            = AVF18
      HideSubObject    = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY Missile
    End
    AliasConditionState = USER_1

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVF18_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState = REALLYDAMAGED USER_1
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVF18_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVF18_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = RUBBLE
      Model               = AVF18_E
      HideSubObject       = None 
      ShowSubObject       = None
    End
    AliasConditionState = RUBBLE USER_1

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVF18_E
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER USER_1

    ;-----------------------------------------
    ConditionState        = JETEXHAUST USER_1
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER USER_1
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST USER_1
      Model               = AVF18_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER USER_1
      Model               = AVF18_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:F18
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 15
  VisionRange         = 200.0
  ShroudClearingRange = 400
  BuildCost           = 900
  BuildTime           = 9
  ExperienceValue     = 55 80 117 168
  ExperienceRequired  = 0 166 241 352
  IsTrainable         = Yes
  CrusherLevel        = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaGenericCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY AirF_F18MissileWeapon
  End

  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End

  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect            = The18thVoiceSelect
  VoiceMove              = The18thVoiceMove
  VoiceAttack            = The18thVoiceAttack
  VoiceAttackAir         = The18thVoiceAttack
  VoiceGuard             = The18thVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  UnitSpecificSounds
    VoiceCreate          = The18thVoiceCreate
    Afterburner          = RaptorAfterburner
    VoiceGarrison        = The18thVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 200.0
    InitialHealth = 200.0
    SubdualDamageCap = 400
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_F18DeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_F18DeathFinalBlowUp
  End

  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor
  Locomotor = SET_NORMAL_UPGRADED RaptorJetLocomotorUpgraded

  Behavior = LocomotorSetUpgrade ModuleTag_77
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Behavior = ModelConditionUpgrade ModuleTag_Engines02
    ConditionFlag = USER_1
    TriggeredBy = Upgrade_ImpulseEngines
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_F18MoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                         = 1000
    StealthForbiddenConditions           = ATTACKING
    FriendlyOpacityMin                   = 50.0%
    FriendlyOpacityMax                   = 100.0%
    InnateStealth                        = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Behavior = StealthUpgrade ModuleTag_Stealth2
    TriggeredBy = Upgrade_StealthCovering
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetDarkStar

  ; *** ART Parameters ***
  SelectPortrait         = SADarkStar_L
  ButtonImage            = SADarkStar
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  
  Draw                   = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes
    ExtraPublicBone = WEAPONA01
    ExtraPublicBone = WEAPONA02

    DefaultConditionState
      Model            = AVDS
      HideSubObject    = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY Missile
    End
    AliasConditionState = USER_1

    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVDS_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState = REALLYDAMAGED USER_1
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVDS_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVDS_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = RUBBLE
      Model               = AVDS_E
      HideSubObject       = None 
      ShowSubObject       = None
    End
    AliasConditionState = RUBBLE USER_1

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVDS_E
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER USER_1

    ConditionState        = JETEXHAUST USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER USER_1
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST USER_1
      Model               = AVDS_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER USER_1
      Model               = AVDS_D
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ParticleSysBone     = Wingtip01 JetContrailUpgraded
      ParticleSysBone     = Wingtip02 JetContrailUpgraded
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
    End
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:DarkStar
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 300
  ShroudClearingRange = 500
  BuildCost           = 700
  BuildTime           = 7.0
  ExperienceValue     = 50 50 50 50
  IsTrainable         = No
  CrusherLevel        = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AirF_AmericaDarkStarCommandSet

  Prerequisites
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
    Science = SCIENCE_Rank3
  End

  WeaponSet
    Conditions = NONE
    Weapon = PRIMARY DarkStarClearFakeUnitsWeapon
    AutoChooseSources = PRIMARY NONE
  End

  ArmorSet
    Conditions = None
    Armor      = AirplaneArmorWithRadar
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneArmorWithRadar
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect            = RoboRaptorVoiceSelect
  VoiceMove              = RoboRaptorVoiceMove
  VoiceAttack            = RoboRaptorVoiceAttack
  VoiceAttackAir         = RoboRaptorVoiceAttack
  VoiceGuard             = RoboRaptorVoiceMove
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate          = RoboRaptorVoiceCreate
    Afterburner          = RaptorAfterburner
    VoiceGarrison        = RoboRaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 160.0
    InitialHealth = 160.0
    SubdualDamageCap = 320
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_DarkStarDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_DarkStarDeathFinalBlowUp
  End

  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 60000
    KeepsParkingSpaceWhenAirborne = No
  End

  Behavior = FireWeaponUpdate ModuleTag_Jammer
    Weapon = DarkStarMissileJammer
  End
  
  Behavior = VeterancyGainCreate ModuleTag_Veteran
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_AircraftTraining
  End

  Locomotor = SET_NORMAL DarkStarJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = StealthDetectorUpdate ModuleTag_StealthDetector ;+
    DetectionRate        = 250
    CanDetectWhileGarrisoned = No
    CanDetectWhileContained  = No
    ExtraForbiddenKindOf     = INFANTRY MINE DEMOTRAP
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                          = 1000
    StealthForbiddenConditions            = TAKING_DAMAGE
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_DarkStarMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow = SHADOW_DECAL
  ShadowSizeX = 322
  ShadowSizeY = 322
  ShadowTexture = decal_ecm
End

;------------------------------------------------------------------------------
Object Airf_AmericaJetDropPlane

  ; *** ART Parameters ***
  SelectPortrait         = SADropPlane_L
  ButtonImage            = SADropPlane

  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_StealthCovering

  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model           = AVSpartan
      Animation       = AVSpartan.AVSpartan
      AnimationMode   = ONCE
      ShowSubObject   = LOPASTI1 LOPASTI2
      HideSubObject   = PROPELLER1 PROPELLER2 LIGHT01
    End

    ConditionState = MOVING
      Model           = AVSpartan
      Animation       = AVSpartan.AVSpartan
      AnimationMode   = LOOP
      HideSubObject   = LOPASTI1 LOPASTI2
      ShowSubObject   = PROPELLER1 PROPELLER2 LIGHT01
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    AliasConditionState = JETEXHAUST
    AliasConditionState = JETEXHAUST JETAFTERBURNER
    AliasConditionState = MOVING JETEXHAUST
    AliasConditionState = MOVING JETEXHAUST JETAFTERBURNER

    ConditionState = REALLYDAMAGED
      Model           = AVSpartan_D
      Animation       = AVSpartan_D.AVSpartan_D
      AnimationMode   = ONCE
      ShowSubObject   = LOPASTI1 LOPASTI2
      HideSubObject   = PROPELLER1 PROPELLER2 LIGHT01
    End

    ConditionState = REALLYDAMAGED MOVING
      Model           = AVSpartan_D
      Animation       = AVSpartan_D.AVSpartan_D
      AnimationMode   = LOOP
      HideSubObject   = LOPASTI1 LOPASTI2
      ShowSubObject   = PROPELLER1 PROPELLER2 LIGHT01
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ParticleSysBone = ENGINE01 JetBlackTrailThin
      ParticleSysBone = ENGINE02 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    AliasConditionState = REALLYDAMAGED JETEXHAUST
    AliasConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
    AliasConditionState = REALLYDAMAGED MOVING JETEXHAUST
    AliasConditionState = REALLYDAMAGED MOVING JETEXHAUST JETAFTERBURNER

    ConditionState = RUBBLE
      Model           = AVSpartan_E
      Animation       = NONE
      AnimationMode   = ONCE
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke03 JetSmokeLarge
      ParticleSysBone = Smoke04 JetSmokeLarge
      ParticleSysBone = ENGINE01 JetSmokeLarge
      ParticleSysBone = ENGINE02 JetSmokeLarge
    End
    AliasConditionState = RUBBLE MOVING
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER
    AliasConditionState = RUBBLE MOVING JETEXHAUST
    AliasConditionState = RUBBLE MOVING JETEXHAUST JETAFTERBURNER
    
    OkToChangeModelColor = Yes
    ParticlesAttachedToAnimatedBones = Yes 
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:C27Spartan
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0 
  VisionRange         = 200
  ShroudClearingRange = 400
  BuildCost           = 1300
  BuildTime           = 26
  ExperienceValue     = 102 136 180 241
  ExperienceRequired  = 0 20000 40000 60000
  IsTrainable         = Yes
  CrusherLevel        = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaDropPlaneCommandSet

  Prerequisites
    Object = AirF_AmericaBigAirfield
    Object = AirF_AmericaBarracks
  End

  WeaponSet
    Conditions  = None 
    Weapon      = PRIMARY AirF_DropPlaneWeapon
  End

  ArmorSet
    Conditions  = None
    Armor       = AirplaneArmor
    DamageFX    = None
  End
  ArmorSet
    Conditions  = PLAYER_UPGRADE
    Armor       = CountermeasuresAirplaneArmor
    DamageFX    = None
  End

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  VoiceSelect     = C27TransportVoiceSelect
  VoiceMove       = C27TransportVoiceMove
  VoiceAttack     = C27TransportVoiceMove
  VoiceGuard      = C27TransportVoiceMove
  UnitSpecificSounds
    VoiceCreate   = C27TransportVoiceCreate
    VoiceGarrison = C27TransportVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body = ActiveBody ModuleTag_03
    MaxHealth     = 400.0
    InitialHealth = 400.0
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
    ParkingOffset             = 0
  End

  Locomotor = SET_NORMAL DropPlaneLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_C27DeathFinalBlowUp
    DestructionDelay                = 99999999
    RollRate                        = 0.2
    RollRateDelta                   = 100%
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_C27DeathInitial
    DelaySecondaryFromInitialDeath  = 500
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_C27DeathFinalBlowUp
  End

  Behavior      = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_13
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_SpartanMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = StealthUpdate ModuleTag_Stealth1
    StealthDelay                         = 2000
    StealthForbiddenConditions           = FIRING_PRIMARY ATTACKING USING_ABILITY
    FriendlyOpacityMin                   = 50.0%
    FriendlyOpacityMax                   = 100.0%
    InnateStealth                        = No
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Behavior = StealthUpgrade ModuleTag_Stealth2
    TriggeredBy = Upgrade_StealthCovering
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 30.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89
End

;-----------------------------------------------------------------
Object AmericaDropPlaneCargo
  Side = AmericaAirForceGeneral
  EditorSorting = SYSTEM 
  BuildVariations =  AirF_AmericaInfantryRanger AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryRanger AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender AirF_AmericaInfantryMissileDefender
  KindOf = PRELOAD CLICK_THROUGH IGNORED_IN_GUI PARACHUTABLE INFANTRY
End 

;-----------------------------------------------------------------
Object AirF_AmericaJetSuperBomber

  ; *** ART Parameters ***
  SelectPortrait         = SAHBomber_L
  ButtonImage            = SAHBomber
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  
  Draw = W3DModelDraw ModuleTag_Draw01

    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model = AVHB3
      WeaponLaunchBone = PRIMARY WEAPONA01
      HideSubObject    = BURNERFX01 BURNERFX02
    End

    ConditionState    = JETEXHAUST
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
    End

    ConditionState    = JETEXHAUST JETAFTERBURNER
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine01 JetLenzflare
      ParticleSysBone = Engine02 JetLenzflare
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ShowSubObject   = BURNERFX01 BURNERFX02
    End

    ConditionState    = REALLYDAMAGED
      Model           = AVHB3_D
      ParticleSysBone = Engine01 JetSmoke
      ParticleSysBone = Engine02 JetSmoke
    End
   
    ConditionState    = REALLYDAMAGED JETEXHAUST
      Model           = AVHB3_D
      ParticleSysBone = Engine01 JetSmoke
      ParticleSysBone = Engine02 JetSmoke
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
    End

    ConditionState    = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model           = AVHB3_D
      ParticleSysBone = Engine01 JetSmoke
      ParticleSysBone = Engine02 JetSmoke
      ParticleSysBone = Engine01 JetLenzflare
      ParticleSysBone = Engine02 JetLenzflare
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone = WingTip03 JetContrailThin
      ParticleSysBone = WingTip04 JetContrailThin
      ParticleSysBone = Engine01 JetExhaustHeat
      ParticleSysBone = Engine02 JetExhaustHeat
      ShowSubObject   = BURNERFX01 BURNERFX02
    End

    ConditionState    = RUBBLE
      Model           = AVHB3_E
      ParticleSysBone = Smoke01 JetSmoke
    End
    AliasConditionState = RUBBLE JETEXHAUST
    AliasConditionState = RUBBLE JETEXHAUST JETAFTERBURNER

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw ModuleTag_Draw02
    DefaultConditionState  
      Model = NONE
    End   
    ConditionState = JETEXHAUST JETAFTERBURNER 
      Model = NONE 
    End 
    ConditionState = JETEXHAUST JETAFTERBURNER ATTACKING 
      Model = NONE
    End 
    ConditionState = JETEXHAUST 
      Model = NONE  
    End   
    ConditionState = JETEXHAUST ATTACKING  
      Model = AVB3bmbr_V
      ParticleSysBone  = ENGINE01 WarheadTrail02
      ParticleSysBone  = ENGINE02 WarheadTrail02
    End  
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:SuperBomber
  EditorSorting         = VEHICLE
  Side                  = AmericaAirForceGeneral
  TransportSlotCount    = 0
  VisionRange           = 200.0 
  ShroudClearingRange   = 400
  BuildCost             = 5000
  BuildTime             = 50
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction
  ExperienceValue       = 211 281 374 499
  ExperienceRequired    = 0 633 843 1121
  IsTrainable           = Yes
  CrusherLevel          = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel        = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet            = AirF_AmericaGenericCommandSet

  Prerequisites
    Object = AirF_AmericaBigAirfield
	Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_AIRF
    Science = SCIENCE_Rank5
  End

  WeaponSet
    Conditions     = None 
    Weapon         = PRIMARY SuperBomberBombWeapon
  End

  ArmorSet
    Conditions = None
    Armor      = AuroraAirplaneArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAuroraAirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = B3BomberVoiceSelect
  VoiceMove       = B3BomberVoiceMove
  VoiceAttack     = B3BomberVoiceAttack
  VoiceGuard      = B3BomberVoiceMove
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble = NoSound
  SoundStealthOn  = USStealthOn
  SoundStealthOff = USStealthOff
  UnitSpecificSounds
    VoiceCreate   = B3BomberVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceGarrison = B3BomberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT EMP_HARDENED SALVAGER

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 260.0
    InitialHealth = 260.0
    SubdualDamageCap = 1040
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_06AA
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                      = ALL -EXTRA_8
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_B3DeathFinalBlowUp
    DestructionDelay                = 99999999
    RollRate                        = 0.2
    RollRateDelta                   = 100%
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_B3DeathFinalBlowUp
  End
  
  Behavior = PhysicsBehavior ModuleTag_Phys
    Mass   = 500.0
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_AI
    OutOfAmmoDamagePerSecond    = 0%
    TakeoffDistForMaxLift       = 0%
    TakeoffPause                = 500
    MinHeight                   = 5
    SneakyOffsetWhenAttacking   = -50.0
    AttackLocomotorType         = SET_SUPERSONIC
    AttackLocomotorPersistTime  = 100
    AttackersMissPersistTime    = 2000
    ReturnForAmmoLocomotorType  = SET_SLUGGISH
    ReturnToBaseIdleTime        = 10000
  End

  Locomotor = SET_NORMAL      B3WyvernLocomotor
  Locomotor = SET_SUPERSONIC  B3WyvernHypersonicLocomotor
  Locomotor = SET_SLUGGISH    B3WyvernLocomotor
  Locomotor = SET_TAXIING     BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare
    VolleySize            = 4
    VolleyArcAngle        = 90.0
    VolleyVelocityFactor  = 2.0
    DelayBetweenVolleys   = 1000
    NumberOfVolleys       = 5
    ReloadTime            = 0
    EvasionRate           = 30%
    ReactionLaunchLatency = 100
    MissileDecoyDelay     = 200
  End

  Behavior = StealthUpdate ModuleTag_Stealth
    StealthDelay                          = 1000
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_WyvernMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 20.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaBigAirfield

  ; *** ART Parameters ***
  SelectPortrait         = SALevPad2_L
  ButtonImage            = SALevPad2

  UpgradeCameo1 = Upgrade_USABuildingDefense

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway2Parking1 
    ExtraPublicBone = Runway3Parking1
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway2Park1Han
    ExtraPublicBone = Runway3Park1Han
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = Runway2Prep1 
    ExtraPublicBone = Runway3Prep1 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayStart2 
    ExtraPublicBone = RunwayStart3 
    ExtraPublicBone = RunwayEnd1 
    ExtraPublicBone = RunwayEnd2
    ExtraPublicBone = RunwayEnd3

    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState       = NONE
      Model              = ABLevPadSp
      Animation          = ABLevPadSp.ABLevPadSp
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = NIGHT

    ConditionState       = DAMAGED
      Model              = ABLevPadSp_D
      Animation          = ABLevPadSp_D.ABLevPadSp_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = DAMAGED NIGHT

    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABLevPadSp_E
      Animation          = ABLevPadSp_E.ABLevPadSp_E
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = REALLYDAMAGED RUBBLE NIGHT
    
    ConditionState       = SNOW
      Model              = ABLevPadSp_S
      Animation          = ABLevPadSp_S.ABLevPadSp_S
      AnimationMode      = LOOP
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = NIGHT SNOW

    ConditionState       = DAMAGED SNOW
      Model              = ABLevPadSp_DS
      Animation          = ABLevPadSp_DS.ABLevPadSp_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = DAMAGED NIGHT SNOW

    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABLevPadSp_ES
      Animation          = ABLevPadSp_ES.ABLevPadSp_ES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
    End
    AliasConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW

    ;-------------------------------------------------------------------------------------------------
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABLevPadSp
      Animation          = ABLevPadSp.ABLevPadSp
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABLevPadSp_D
      Animation          = ABLevPadSp_D.ABLevPadSp_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABLevPadSp_E
      Animation          = ABLevPadSp_E.ABLevPadSp_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABLevPadSp_S
      Animation          = ABLevPadSp_S.ABLevPadSp_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABLevPadSp_DS
      Animation          = ABLevPadSp_DS.ABLevPadSp_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABLevPadSp_ES
      Animation          = ABLevPadSp_ES.ABLevPadSp_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABLevPadSp_A4
      Animation       = ABLevPadSp_A4.ABLevPadSp_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABLevPadSp_A4S
      Animation       = ABLevPadSp_A4S.ABLevPadSp_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABLevPadSp_A6
      Animation       = ABLevPadSp_A6.ABLevPadSp_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABLevPadSp_A6S
      Animation       = ABLevPadSp_A6S.ABLevPadSp_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5
      Animation       = ABBarracks_A5.ABBarracks_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5N
      Animation       = ABBarracks_A5N.ABBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5S
      Animation       = ABBarracks_A5S.ABBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5SN
      Animation       = ABBarracks_A5SN.ABBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End 
   TransitionState    = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BigAirfield
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 1200
  BuildTime           = 24.0
  EnergyProduction    = -1
  CommandSet          = AirF_AmericaBigAirfieldCommandSet
  VisionRange         = 200.0
  ShroudClearingRange = 200
  ExperienceValue     = 80 80 80 80

  Prerequisites
    Object = AirF_AmericaSupplyCenter
    Object = AirF_AmericaAirfield AirF_AmericaSeqAirfield
  End

  ArmorSet
    Conditions        = None
    Armor             = StructureArmor
    DamageFX          = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect          = BigAirfieldSelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority       = STRUCTURE
  KindOf              = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT

  Body                = StructureBody ModuleTag_10
    MaxHealth         = 3000.0
    InitialHealth     = 3000.0
    SubdualDamageCap = 6000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond     = 10
    NumRows                 = 1
    NumCols                 = 3
    HasRunways              = Yes
    ApproachHeight          = 10
  End

  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 3
    DoorOpeningTime              = 200  ;in mSeconds
    DoorWaitOpenTime             = 300  ;in mSeconds
    DoorCloseTime                = 200  ;in mSeconds
    ConstructionCompleteDuration = 100  ;in mSeconds
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
  End 

  Behavior = DestroyDie ModuleTag_14
  End

  Behavior        = CreateObjectDie ModuleTag_15
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = CreateObjectDie ModuleTag_16
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior             = FXListDie ModuleTag_17
    DeathFX       = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunLevPadSpec
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry            = BOX
  GeometryMajorRadius = 75.0
  GeometryMinorRadius = 47.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaBomberB52

  ; *** ART Parameters ***
  SelectPortrait         = SAB52_L
  ButtonImage            = SAB52
  
  UpgradeCameo1 = Upgrade_AmericaCountermeasures
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01

    ParticlesAttachedToAnimatedBones = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY  ; WeaponLaunchBone will be shown/hidden, not just used for firing offset

    DefaultConditionState
      Model = AVHB4
      WeaponLaunchBone = PRIMARY Missile
      HideSubObject = BurnerFX01 BurnerFX02 BurnerFX03
    End
    ConditionState = REALLYDAMAGED
      Model = AVHB4_D
      ParticleSysBone = Smoke01 JetFireLarge
    End
    ConditionState = RUBBLE
      Model = AVHB4_E
      ParticleSysBone = Smoke01 JetFireLarge
    End

    ConditionState = JETEXHAUST
      Model = AVHB4
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ParticleSysBone     = Engine03 JetExhaustHeat
    End
    ConditionState = REALLYDAMAGED JETEXHAUST
      Model = AVHB4_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ParticleSysBone     = Engine03 JetExhaustHeat
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = JETEXHAUST JETAFTERBURNER
      Model = AVHB4
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ParticleSysBone     = Engine03 JetExhaustHeat
      ShowSubObject = BurnerFX01 BurnerFX02 BurnerFX03 
    End
    ConditionState = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model = AVHB4_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Engine01 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone     = Engine01 JetExhaustHeat
      ParticleSysBone     = Engine02 JetExhaustHeat
      ParticleSysBone     = Engine03 JetExhaustHeat
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
      ShowSubObject = BurnerFX01 BurnerFX02 BurnerFX03 
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:B4Chimera
  EditorSorting         = VEHICLE
  Side                  = AmericaAirForceGeneral
  TransportSlotCount    = 0
  VisionRange           = 800
  ShroudClearingRange   = 400
  BuildCost             = 3000
  BuildTime             = 30
  ExperienceValue       = 177 236 314 420
  ExperienceRequired    = 0 532 708 942
  IsTrainable           = Yes
  CrusherLevel          = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel        = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet            = AirF_AmericaGenericCommandSet

  Prerequisites
    Object = AirF_AmericaBigAirfield
    Object = AirF_AmericaStrategyCenter
  End

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY B52TomahawkMissileWeapon
  End

  ArmorSet
    Conditions = None
    Armor      = AirplaneBomberArmor
    DamageFX   = None
  End
  ArmorSet
    Conditions = PLAYER_UPGRADE
    Armor      = CountermeasuresAirplaneBomberArmor
    DamageFX   = None
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_06A
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = B4BomberVoiceSelect
  VoiceMove       = B4BomberVoiceMove
  VoiceAttack     = B4BomberVoiceAttack
  VoiceGuard      = B4BomberVoiceMove
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    VoiceCreate   = B4BomberVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceGarrison = B4BomberVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT SALVAGER

  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 350.0
    InitialHealth        = 350.0
    SubdualDamageCap = 700
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior                         = JetSlowDeathBehavior ModuleTag_05
    DeathTypes                     = ALL -EXTRA_8
    FXOnGroundDeath                = FX_JetOnGroundDeath
    OCLOnGroundDeath               = OCL_B4DeathFinalBlowUp
    DestructionDelay               = 99999999; destruction will happen when we
    RollRate                       = 0.2
    RollRateDelta                  = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                      = 0.0
    FallHowFast                    = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                 = FX_RaptorDeathInitial
    OCLInitialDeath                = OCL_B4DeathInitial
    DelaySecondaryFromInitialDeath = 500  ; in milliseconds
    FXSecondary                    = FX_JetDeathSecondary
    OCLSecondary                   = OCL_RaptorDeathSecondary
    FXHitGround                    = FX_JetDeathHitGround
    OCLHitGround                   = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround  = 200 ; in milliseconds
    FXFinalBlowUp                  = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                 = OCL_B4DeathFinalBlowUp
  End
  
  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End

  Behavior = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 10000
  End

  Locomotor = SET_NORMAL AirF_B52Locomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor25
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_26
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 100   ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior           = OCLSpecialPower ModuleTag_SpecialPower01
    SpecialPowerTemplate = SpecialAbilitySuicide
    OCL                  = OCL_Selfdestruct
    CreateLocation       = CREATE_AT_LOCATION
  End

  Behavior = CreateObjectDie ModuleTag_14OD
    DeathTypes = NONE +EXTRA_8
    CreationList = OCL_ChimeraMoneyCrate
    TransferPreviousHealth = Yes
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = NONE +EXTRA_8
  End

  Behavior = FireWeaponWhenDamagedBehavior ModuleTag_DataUpload
    StartsActive = Yes
    ReactionWeaponPristine = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponDamaged = AirF_LevelUpCrateCreationWeapon
    ReactionWeaponReallyDamaged = AirF_LevelUpCrateCreationWeapon
    DamageTypes = NONE +HACK
    DamageAmount = 1
  End

  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 30.0
  GeometryMinorRadius      = 10.0
  GeometryHeight           = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaTankMCV

  ; *** ART Parameters ***
  SelectPortrait         = SAMCV_L
  ButtonImage            = SAMCV
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DTankDraw ModuleTag_01

    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model             = AVMCV
      Turret            = Turret01
      AltTurret         = Sight03
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponRecoilBone  = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone  = PRIMARY Muzzle
      TransitionKey     = TRANS_default
    End
    AliasConditionState = SNOW
    AliasConditionState = NIGHT
    AliasConditionState = SNOW NIGHT

    ConditionState  = PREATTACK_A
      TransitionKey = TRANS_firing
    End
    AliasConditionState = SNOW PREATTACK_A
    AliasConditionState = NIGHT PREATTACK_A
    AliasConditionState = SNOW NIGHT PREATTACK_A

    TransitionState = TRANS_firing TRANS_default
      ParticleSysBone = MUZZLE01 TankCannonSmokeSmall
    End

    ConditionState  = REALLYDAMAGED RUBBLE
      Model         = AVMCV_D
      TransitionKey = TRANS_default_d
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE

    ConditionState  = REALLYDAMAGED RUBBLE PREATTACK_A
      Model         = AVMCV_D
      TransitionKey = TRANS_firing_d
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE PREATTACK_A
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE PREATTACK_A
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE PREATTACK_A

    TransitionState = TRANS_firing_d TRANS_default_d
      Model         = AVMCV_D
      ParticleSysBone = MUZZLE01 TankCannonSmokeSmall
    End

    ConditionState = AFLAME
      ParticleSysBone = Turret01 TankFireContinious
      
      TransitionKey     = TRANS_default_aflame
    End
    AliasConditionState = SNOW AFLAME
    AliasConditionState = NIGHT AFLAME
    AliasConditionState = SNOW NIGHT AFLAME

    ConditionState  = PREATTACK_A AFLAME
      TransitionKey = TRANS_firing_aflame
      ParticleSysBone = Turret01 TankFireContinious
      
    End
    AliasConditionState = SNOW PREATTACK_A AFLAME
    AliasConditionState = NIGHT PREATTACK_A AFLAME
    AliasConditionState = SNOW NIGHT PREATTACK_A AFLAME

    TransitionState = TRANS_firing_aflame TRANS_default_aflame
      ParticleSysBone = MUZZLE01 TankCannonSmokeSmall
      ParticleSysBone = Turret01 TankFireContinious
      
    End

    ConditionState  = REALLYDAMAGED RUBBLE AFLAME
      Model         = AVMCV_D
      TransitionKey = TRANS_default_d_aflame
      ParticleSysBone = Turret01 TankFireContinious
      
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE AFLAME
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE AFLAME
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE AFLAME

    ConditionState  = REALLYDAMAGED RUBBLE PREATTACK_A AFLAME
      Model         = AVMCV_D
      TransitionKey = TRANS_firing_d_aflame
      ParticleSysBone = Turret01 TankFireContinious
      
    End
    AliasConditionState = SNOW REALLYDAMAGED RUBBLE PREATTACK_A AFLAME
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE PREATTACK_A AFLAME
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE PREATTACK_A AFLAME

    TransitionState = TRANS_firing_d_aflame TRANS_default_d_aflame
      Model         = AVMCV_D
      ParticleSysBone = MUZZLE01 TankCannonSmokeSmall
      ParticleSysBone = Turret01 TankFireContinious
      
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor    = Yes
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MCV
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3
  BuildCost             = 700
  BuildTime             = 7.0
  VisionRange           = 175
  ShroudClearingRange   = 300

  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY MCVTankGun
  End

  ArmorSet
    Conditions          = None
    Armor               = TankArmor
    DamageFX            = TankDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue       = 20 27 36 48
  ExperienceRequired    = 0 60 80 107
  IsTrainable           = Yes
  CrusherLevel          = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel        = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet            = AmericaGenericDronesCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter          = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf        = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300
    InitialHealth   = 300
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 270
      ControlledWeaponSlots= PRIMARY
      RecenterTime         = 2000
    End
    AltTurret
      TurretTurnRate     = 270
      RecenterTime       = 2000
      ControlledWeaponSlots= PRIMARY
    End
    TurretsLinked = Yes
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL NuclearBattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_MCVTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
  End

  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    CreationList = OCL_MCVTankDeathEffectSimple
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
   CrateData = SalvageCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object AirF_ComancheCaller

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = SYSTEM
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 0
  VisionRange         = 200.0 
  ShroudClearingRange = 400

  ; *** ENGINEERING Parameters ***
  KindOf          = PRELOAD IGNORED_IN_GUI

  ArmorSet
    Conditions      = None
    Armor           = InvulnerableAllArmor
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 250.0
    InitialHealth   = 250.0
    SubdualDamageCap = 500
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ComancheCallerLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End

  Behavior = LifetimeUpdate ModuleTag_03A
    MinLifetime = 1000   ; min lifetime in msec
    MaxLifetime = 1000   ; max lifetime in msec
  End

  Behavior = CreateObjectDie ModuleTag_06
    CreationList = AirF_SUPERWEAPON_CommancheCaller
  End

  Behavior = HeightDieUpdate ModuleTag_06A
    TargetHeight = 600.0
    TargetHeightIncludesStructures = No
    InitialDelay = 750 ; Can't explode in the first second so we don't explode on the pad
  End

  Behavior = DestroyDie ModuleTag_07A
    DeathTypes = ALL
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleSLID

  ; *** ART Parameters ***
  SelectPortrait         = SASLID_L
  ButtonImage            = SASLID
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining

  Draw = W3DOverlordTruckDraw ModuleTag_01
    OkToChangeModelColor  = Yes

    DefaultConditionState
      Model            = AVAVNGER
      Turret           = HOUSECOLOR02
      WeaponLaunchBone = PRIMARY   TurretFX03
      WeaponFireFXBone = PRIMARY   TurretFX03
    End
    
    ConditionState     = REALLYDAMAGED
      Model            = AVAVNGER_D
    End
   
    ConditionState     = RUBBLE
      Model            = AVAVNGER_D1
    End

    ConditionState =  AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
    End
    
    ConditionState     = REALLYDAMAGED AFLAME
      Model            = AVAVNGER_D
      ParticleSysBone = CHASSIS TankFireContinious
    End
   
    ConditionState     = RUBBLE AFLAME
      Model            = AVAVNGER_D1
      ParticleSysBone = CHASSIS TankFireContinious
    End
    
    TrackMarks = EXTireTrack.tga
    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2     ; this * speed = rotation.
    PowerslideRotationAddition = 0.0 ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SLID
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3
  BuildCost           = 1000
  BuildTime           = 10.0
  VisionRange         = 325
  ShroudClearingRange = 325

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AvengerLongRangeTargetDesignator
  End

  ArmorSet
    Conditions = None
    Armor      = AntiAirVehicle
    DamageFX   = TankDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue    = 49 71 103 148
  ExperienceRequired = 0 146 212 309
  IsTrainable        = Yes
  CrusherLevel       = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel     = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet         = AmericaGenericDronesCommandSet
    
  ; *** AUDIO Parameters ***
  VoiceSelect = AvengerVoiceSelect
  VoiceMove = AvengerVoiceMove
  VoiceGuard = AvengerVoiceMove
  VoiceAttack = AvengerVoicePaint
  VoiceAttackAir = AvengerVoiceAttack
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart

  UnitSpecificSounds
    VoiceCreate     = AvengerVoiceCreate
    TurretMoveLoop = NoSound
    SoundEject = PilotSoundEject
    VoiceEject = PilotVoiceEject
    VoiceCrush = NoSound
    VoiceEnter = AvengerVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE CANNOT_RETALIATE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 280.0
    InitialHealth   = 280.0
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate        = 270
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL AvengerLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End
  
  Behavior = OverlordContain ModuleTag_OverlordContain
    Slots                 = 1
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PayloadTemplateName     = AmericaTankSLIDTurret
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_10
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_11
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 500
    DestructionDelayVariance = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_AvengerTankDeathEffect
  End
  
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    CreationList = OCL_AvengerTankDeathEffectSimple
  End
  Behavior = DestroyDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
  End
  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
  End

  Behavior = FlammableUpdate ModuleTag_22
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = WeaponBonusUpdate ModuleTag_02A
    RequiredAffectKindOf = CAN_ATTACK AIRCRAFT
    BonusDuration = 250
    BonusDelay = 120
    BonusRange = 160
    BonusConditionType = DRONE_SPOTTING
  End

  Geometry = BOX
  GeometryMajorRadius = 15.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0     
  GeometryIsSmall = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45
End

;------------------------------------------------------------------------------
Object AirF_AmericaVehicleMedic

  ; *** ART Parameters ***
  SelectPortrait         = SAAmbulance_L
  ButtonImage            = SAAmbulance
  
  Draw = W3DTruckDraw ModuleTag_01

    DefaultConditionState
      Model = AVAmbulance
      Turret = Turret
      TurretPitch = TurretEL
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponLaunchBone = PRIMARY WeaponA
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVAmbulance_D
    End      
    AliasConditionState = RUBBLE

    ;-----------
    ConditionState       = AFLAME
      ParticleSysBone = CHASSIS TankFireContinious
      
    End
    ConditionState       = AFLAME REALLYDAMAGED
      Model              = AVAmbulance_D
      ParticleSysBone = CHASSIS TankFireContinious
      
    End      
    AliasConditionState  = AFLAME RUBBLE
   
    TrackMarks = EXTireTrack.tga
    OkToChangeModelColor = Yes

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Medic
  Side                = AmericaAirForceGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3
  BuildCost           = 600
  BuildTime           = 6.0
  VisionRange         = 200
  ShroudClearingRange = 200

  WeaponSet 
    Conditions        = None 
    Weapon            = PRIMARY BioHazardTechCleanHazardWeapon
    AutoChooseSources = PRIMARY NONE
  End

  ArmorSet
    Conditions = None
    Armor      = ToxinTruckArmor  
    DamageFX   = TruckDamageFX
  End

  Prerequisites
    Object = AirF_AmericaWarFactory
  End

  ExperienceValue    = 23 33 49 70
  ExperienceRequired = 0 10 15 30
  IsTrainable     = Yes
  CrusherLevel    = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel  = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AirF_AmericaVehicleAmbulanceCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect = AmbulanceVoiceSelect
  VoiceMove = AmbulanceVoiceMove
  VoiceGuard = AmbulanceVoiceMove
  VoiceAttack = AmbulanceVoiceDetox
  SoundMoveStart = MedicMoveStart
  SoundMoveStartDamaged = MedicMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    VoiceCreate          = AmbulanceVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceCrush          = AmbulanceVoiceCrush
    VoiceEnter = AmbulanceVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = CleanupHazardUpdate ModuleTag_03
    WeaponSlot = PRIMARY
    ScanRate   = 250
    ScanRange  = 300.0
  End

  Behavior = CleanupAreaPower ModuleTag_04
    SpecialPowerTemplate        = SpecialAbilityAmbulanceCleanupArea
    MaxMoveDistanceFromLocation = 300.0
    InitiateSound               = AmbulanceVoiceDetox
  End

  Behavior = TransportAIUpdate ModuleTag_05
   AutoAcquireEnemiesWhenIdle = Yes
   MoodAttackCheckRate        = 100
   Turret
      TurretTurnRate = 180
      TurretPitchRate = 180
      AllowsPitch = Yes
      MinPhysicalPitch = -20
      TurretFireAngleSweep = PRIMARY 25
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL HumveeLocomotor

  Behavior = TransportContain ModuleTag_06
    Slots               = 3
    HealthRegen%PerSec  = 25
    DamagePercentToUnits = 10%
    AllowInsideKindOf   = INFANTRY
    AllowAlliesInside   = Yes
    AllowNeutralInside  = No
    AllowEnemiesInside  = No
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED -POISONED -POISONED_BETA -POISONED_GAMMA -EXTRA_6
    DestructionDelay = 0
    FX  = FINAL FX_GenericTankDeathExplosion
    OCL = FINAL OCL_FinalAmbulanceDebris
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone02
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone03
    UpgradeObject = OCL_AmericanHellfireDrone
    TriggeredBy   = Upgrade_AmericaHellfireDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaStingerDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone04
    UpgradeObject = OCL_AmericanStingerDrone
    TriggeredBy   = Upgrade_AmericaStingerDrone
    ConflictsWith = Upgrade_AmericaBattleDrone Upgrade_AmericaScoutDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaMinigunDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_Drone05
    UpgradeObject = OCL_AmericanMinigunDrone
    TriggeredBy   = Upgrade_AmericaMinigunDrone
    ConflictsWith = Upgrade_AmericaScoutDrone Upgrade_AmericaBattleDrone Upgrade_AmericaHellfireDrone Upgrade_AmericaStingerDrone
  End

  Behavior = ProductionUpdate ModuleTag_11
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
  End
  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED +POISONED +POISONED_BETA +POISONED_GAMMA +EXTRA_6
    CreationList = OCL_FinalAmbulanceDeathEffectSimple
  End
  Behavior = FXListDie ModuleTag_15
    DeathTypes = ALL -CRUSHED -SPLATTED
    DeathFX = FX_GenericTankDeathEffect
  End

  Behavior = CreateCrateDie ModuleTag_16
    CrateData = SalvageCrateData
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_17
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = AutoHealBehavior ModuleTag_22
    HealingAmount     = 5
    HealingDelay      = 1000 ; msec
    Radius            = 100.0f
    StartsActive      = Yes
    KindOf            = INFANTRY
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 12.0  ; height set to allow clear clipping of projectile streams   
  GeometryIsSmall = Yes   
  Shadow = SHADOW_VOLUME 
End

;------------------------------------------------------------------------------
Object AirF_AmericaStrategicCommandUplink

  ; *** ART Parameters ***
  SelectPortrait         = SASCU_L
  ButtonImage            = SASCU

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model         = abgdctower
      Animation     = abgdctower.abgdctower
      AnimationMode = LOOP
    End
    AliasConditionState = NIGHT

    ConditionState = DAMAGED
      Model         = abgdctower_D
      Animation     = abgdctower_D.abgdctower_D
      AnimationMode = LOOP
    End
    AliasConditionState = NIGHT DAMAGED

    ConditionState = REALLYDAMAGED RUBBLE
      Model         = abgdctower_E
      Animation     = abgdctower_E.abgdctower_E
      AnimationMode = LOOP
    End
    AliasConditionState = NIGHT REALLYDAMAGED RUBBLE

    ConditionState = SNOW
      Model         = abgdctower_S
      Animation     = abgdctower_S.abgdctower_S
      AnimationMode = LOOP
    End
    AliasConditionState = SNOW NIGHT

    ConditionState = SNOW DAMAGED
      Model         = abgdctower_DS
      Animation     = abgdctower_DS.abgdctower_DS
      AnimationMode = LOOP
    End
    AliasConditionState = SNOW NIGHT DAMAGED

    ConditionState = SNOW REALLYDAMAGED RUBBLE
      Model         = abgdctower_ES
      Animation     = abgdctower_ES.abgdctower_ES
      AnimationMode = LOOP
    End
    AliasConditionState = SNOW NIGHT REALLYDAMAGED RUBBLE

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = abgdctower
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = abgdctower_D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = abgdctower_E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = abgdctower_S
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW
      Model              = abgdctower_DS
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED SNOW NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW
      Model              = abgdctower_ES
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED SNOW NIGHT
    
    ConditionState       = SOLD
      Model              = NONE
    End    
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD DAMAGED SNOW
    AliasConditionState  = SOLD REALLYDAMAGED SNOW
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD DAMAGED NIGHT
    AliasConditionState  = SOLD REALLYDAMAGED NIGHT
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD DAMAGED NIGHT SNOW
    AliasConditionState  = SOLD REALLYDAMAGED NIGHT SNOW
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
  
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABGDCTower_A4
      Animation       = ABGDCTower_A4.ABGDCTower_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABGDCTower_A4N
      Animation       = ABGDCTower_A4N.ABGDCTower_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABGDCTower_A4S
      Animation       = ABGDCTower_A4S.ABGDCTower_A4S
      HideSubObject = PLANE01
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABGDCTower_A4SN
      Animation       = ABGDCTower_A4SN.ABGDCTower_A4SN
      HideSubObject = PLANE01
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABGDCTower_A4
      Animation       = ABGDCTower_A4.abgdctower_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = abgdctower_A4N
      Animation       = abgdctower_A4N.abgdctower_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = abgdctower_A4S
      Animation       = abgdctower_A4S.abgdctower_A4S
      HideSubObject = PLANE01
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = abgdctower_A4SN
      Animation       = abgdctower_A4SN.abgdctower_A4SN
      HideSubObject = PLANE01
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = abgdctower_A4
      Animation       = abgdctower_A4.abgdctower_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = abgdctower_A4N
      Animation       = abgdctower_A4N.abgdctower_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = abgdctower_A4S
      Animation       = abgdctower_A4S.abgdctower_A4S
      HideSubObject = PLANE01
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW NIGHT DOWN_DEFAULT
      Model           = abgdctower_A4SN
      Animation       = abgdctower_A4SN.abgdctower_A4SN
      HideSubObject = PLANE01
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_06
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = abgdctower_A6
      Animation       = abgdctower_A6.abgdctower_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = abgdctower_A6
      Animation       = abgdctower_A6.abgdctower_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
      ParticleSysBone = Sparks08 BuildUpBlueSpark
      ParticleSysBone = Sparks09 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = abgdctower_A6
      Animation       = abgdctower_A6.abgdctower_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = abgdctower_A6N
      Animation       = abgdctower_A6N.abgdctower_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = abgdctower_A6
      Animation       = abgdctower_A6.abgdctower_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = abgdctower_A6
      Animation       = abgdctower_A6.abgdctower_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = abgdctower_A6S
      Animation       = abgdctower_A6S.abgdctower_A6S
      HideSubObject = PLANE01
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
      HideSubObject = PLANE01
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName            = OBJECT:StrategicCommandUplink
  Side                   = AmericaAirForceGeneral
  EditorSorting          = STRUCTURE
  BuildCost              = 5000
  BuildTime              = 100.0
  EnergyProduction       = -5
  CommandSet             = AirF_AmericaStrategicCommandCommandSet
  VisionRange            = 200.0
  ShroudClearingRange    = 200
  ShroudRevealToAllRange = 60

  Prerequisites
    Object = AirF_AmericaStrategyCenter
    Science = SCIENCE_AIRF
    Science = SCIENCE_Rank5
  End

  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End

  ExperienceValue       = 158 158 158 158
  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction
  MaxSimultaneousLinkKey = Superweapon

  ; *** AUDIO Parameters ***
  VoiceSelect = ScudStormSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction   = UnderConstructionLoop
  End

  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE CAPTURABLE FS_TECHNOLOGY MP_COUNT_FOR_VICTORY SCORE_CREATE FS_SUPERWEAPON POWERED

  Body            = StructureBody ModuleTag_08
    MaxHealth       = 2500.0
    InitialHealth   = 2500.0
    SubdualDamageCap = 3000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End

  Behavior = AIUpdateInterface ModuleTag_09
  End

  Behavior    = OCLSpecialPower ModuleTag_10
    SpecialPowerTemplate = SuperweaponStrategicBombing
    OCL                  = SUPERWEAPON_CarpetBombSWG3
    CreateLocation       = CREATE_AT_EDGE_NEAR_SOURCE
  End

  Behavior = SpecialPowerCreate ModuleTag_11
  End

  Behavior = ProductionUpdate ModuleTag_15
  End

  Behavior = FlammableUpdate ModuleTag_16
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = RadiusDecalUpdate ModuleTag_17
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = DestroyDie ModuleTag_Die0
  End

  Behavior        = CreateObjectDie ModuleTag_Die1
    CreationList  = OCL_ABPowerPlantExplode
  End
  Behavior        = CreateObjectDie ModuleTag_Die2
    CreationList  = AirF_OCL_AmericanRangerDebris03
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = CreateObjectDie ModuleTag_Die3
    CreationList  = OCL_PowerPlantDeathLightning
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = FXListDie ModuleTag_Die4
    DeathFX       = FX_PowerPlantDeathLightning
    ExemptStatus  = UNDER_CONSTRUCTION
  End
  Behavior        = FXListDie ModuleTag_13AAA
    DeathFX       = FX_StructureSmallDeath
  End

  Behavior = BaseRegenerateUpdate ModuleTag_20BBB
  End

  Geometry            = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 12.0
  GeometryHeight      = 80.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End

;------------------------------------------------------------------------------
Object AirF_AmericaJetIllusion

  ; *** ART Parameters ***
  SelectPortrait         = SAF18_L
  ButtonImage            = SAF18
  
  Draw                   = W3DModelDraw ModuleTag_01
    ParticlesAttachedToAnimatedBones = Yes

    DefaultConditionState
      Model            = AVF18I
      ParticleSysBone  = Wingtip01 JetContrail
      ParticleSysBone  = Wingtip02 JetContrail
      ParticleSysBone  = Engine01 JetExhaustHeat
      ParticleSysBone  = Engine02 JetExhaustHeat
      ParticleSysBone  = NONE IllusionAppearEffect
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Illusion
  EditorSorting       = VEHICLE
  Side                = AmericaAirForceGeneral
  TransportSlotCount  = 15
  VisionRange         = 0.0
  ShroudClearingRange = 0.0
  BuildCost           = 0
  BuildTime           = 0
  ExperienceValue     = 0 0 0 0
  IsTrainable         = No

  ArmorSet
    Conditions = None
    Armor      = AirplaneArmor
    DamageFX   = None
  End

  ; *** AUDIO Parameters ***
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble     = NoSound
  UnitSpecificSounds
    Afterburner          = RaptorAfterburner
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS VEHICLE SCORE AIRCRAFT

  Body = ActiveBody ModuleTag_02
    MaxHealth     = 1500.0
    InitialHealth = 1500.0
    SubdualDamageCap = 3000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = PhysicsBehavior ModuleTag_07
    Mass   = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 0%
    TakeoffDistForMaxLift     = 0%
    TakeoffPause              = 500
    MinHeight                 = 5
    ReturnToBaseIdleTime      = 100000
  End

  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = DestroyDie DeathModuleTag_02DDD
    DeathTypes = ALL
  End

  Behavior = FXListDie ModuleTag_DTH
    DeathFX = FX_IllusionDisappear
  End

  Behavior = LifetimeUpdate ModuleTag_0LT
    MinLifetime = 55000
    MaxLifetime = 65000
  End

  Geometry             = Box
  GeometryIsSmall      = Yes
  GeometryMajorRadius  = 14.0
  GeometryMinorRadius  = 7.0
  GeometryHeight       = 5.0
End

;------------------------------------------------------------------------------
Object AirF_AmericaSeqAirfield

  ; *** ART Parameters ***
  SelectPortrait         = SAAFC_L
  ButtonImage            = SAAFC

  UpgradeCameo1 = Upgrade_USABuildingDefense

  Draw = W3DModelDraw ModuleTag_01

    ExtraPublicBone = Runway1Parking1
    ExtraPublicBone = Runway1Parking2
    ExtraPublicBone = Runway1Parking3
    ExtraPublicBone = Runway1Parking4
    ExtraPublicBone = Runway1Parking5
    ExtraPublicBone = Runway1Park1Han
    ExtraPublicBone = Runway1Park2Han
    ExtraPublicBone = Runway1Park3Han
    ExtraPublicBone = Runway1Park4Han
    ExtraPublicBone = Runway1Park5Han
    ExtraPublicBone = Runway1Prep1 
    ExtraPublicBone = Runway1Prep2
    ExtraPublicBone = Runway1Prep3 
    ExtraPublicBone = Runway1Prep4 
    ExtraPublicBone = Runway1Prep5 
    ExtraPublicBone = RunwayStart1 
    ExtraPublicBone = RunwayEnd1 

    OkToChangeModelColor = Yes

    ; day ********************************************
    ConditionState = NONE
      Model              = ABAirF
      Animation          = ABAirF.ABAirF
      AnimationMode      = LOOP
    End
    AliasConditionState       = NIGHT

    ConditionState       = DAMAGED
      Model              = ABAirF_D
      Animation          = ABAirF_D.ABAirF_D
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
    End
    AliasConditionState       = DAMAGED NIGHT

    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABAirF_E
      Animation          = ABAirF_E.ABAirF_E
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
    End
    AliasConditionState       = REALLYDAMAGED RUBBLE NIGHT
    
    ConditionState       = SNOW
      Model              = ABAirF_S
      Animation          = ABAirF_S.ABAirF_S
      AnimationMode      = LOOP
    End
    AliasConditionState       = NIGHT SNOW

    ConditionState       = DAMAGED SNOW
      Model              = ABAirF_DS
      Animation          = ABAirF_DS.ABAirF_DS
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone = Runway1Park1Han LevPadPulse
      ParticleSysBone = Runway2Park1Han LevPadPulse
      ParticleSysBone = Runway3Park1Han LevPadPulse
      ParticleSysBone = Runway4Park1Han LevPadPulse
      ParticleSysBone = Runway5Park1Han LevPadPulse
    End
    AliasConditionState       = DAMAGED NIGHT SNOW

    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABAirF_ES
      Animation          = ABAirF_ES.ABAirF_ES
      AnimationMode      = LOOP
      ParticleSysBone    = Smoke01 SmolderingSmoke
      ParticleSysBone    = Smoke02 SmolderingSmoke
      ParticleSysBone    = Smoke03 SmolderingSmoke
      ParticleSysBone    = Smoke04 SmolderingSmoke
      ParticleSysBone    = Smoke05 SmokeFactionLarge
      ParticleSysBone    = Smoke06 SmokeFactionLarge
      ParticleSysBone    = Fire01 SmolderingFire
      ParticleSysBone    = Fire02 SmolderingFire
      ParticleSysBone    = Fire03 FireFactionLarge
      ParticleSysBone    = Spark01 SparksLarge
    End
    AliasConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABAirF
      Animation          = ABAirF.ABAirF
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABAirF_D
      Animation          = ABAirF_D.ABAirF_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABAirF_E
      Animation          = ABAirF_E.ABAirF_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABAirF_S
      Animation          = ABAirF_S.ABAirF_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW

    ConditionState       =  PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABAirF_DS
      Animation          = ABAirF_DS.ABAirF_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED

    ConditionState       = PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABAirF_ES
      Animation          = ABAirF_ES.ABAirF_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
  End

  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_07
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABAirF_A4
      Animation       = ABAirF_A4.ABAirF_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABAirF_A4S
      Animation       = ABAirF_A4S.ABAirF_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_08
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABAirF_A6
      Animation       = ABAirF_A6.ABAirF_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABAirF_A6
      Animation       = ABAirF_A6.ABAirF_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
      ParticleSysBone = Sparks06 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABAirF_A6
      Animation       = ABAirF_A6.ABAirF_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABAirF_A6
      Animation       = ABAirF_A6.ABAirF_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABAirF_A6
      Animation       = ABAirF_A6.ABAirF_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABAirF_A6N
      Animation       = ABAirF_A6N.ABAirF_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABAirF_A6S
      Animation       = ABAirF_A6S.ABAirF_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState    = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5
      Animation       = ABBarracks_A5.ABBarracks_A5
      AnimationMode   = LOOP
      TransitionKey   = UP_DAY
    End

    ConditionState    = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5N
      Animation       = ABBarracks_A5N.ABBarracks_A5N
      AnimationMode   = LOOP
      TransitionKey   = UP_NIGHT
    End
    ConditionState    = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5S
      Animation       = ABBarracks_A5S.ABBarracks_A5S
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOW
    End
    ConditionState    = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABBarracks_A5SN
      Animation       = ABBarracks_A5SN.ABBarracks_A5SN
      AnimationMode   = LOOP
      TransitionKey   = UP_SNOWNIGHT
    End 
   TransitionState    = DOWN_DEFAULT UP_DAY
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABBarracks_AB
      Animation       = ABBarracks_AB.ABBarracks_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABN
      Animation       = ABBarracks_ABN.ABBarracks_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABBarracks_ABS
      Animation       = ABBarracks_ABS.ABBarracks_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABBarracks_ABSN
      Animation       = ABBarracks_ABSN.ABBarracks_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0
      Flags           = START_FRAME_LAST
    End
  End

  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Airfield
  Side                = AmericaAirForceGeneral
  EditorSorting       = STRUCTURE
  BuildCost           = 1200
  BuildTime           = 24.0
  EnergyProduction    = -1
  CommandSet          = AirF_AmericaAirfieldCommandSet2
  VisionRange         = 200.0
  ShroudClearingRange = 200
  ExperienceValue     = 84 84 84 84

  Prerequisites
    Object = AirF_AmericaSupplyCenter
  End

  ArmorSet
    Conditions = None
    Armor      = StructureArmor
    DamageFX   = StructureDamageFXNoShake
  End

  ; *** AUDIO Parameters ***
  VoiceSelect          = AirfieldUSASelect
  SoundOnDamaged       = BuildingDamagedStateLight
  SoundOnReallyDamaged = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction  = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority      = STRUCTURE
  KindOf             = PRELOAD STRUCTURE SELECTABLE IMMOBILE FS_AIRFIELD SCORE CAPTURABLE FS_FACTORY MP_COUNT_FOR_VICTORY AUTO_RALLYPOINT

  Body               = StructureBody ModuleTag_10
    MaxHealth        = 3750.0
    InitialHealth    = 3750.0
    SubdualDamageCap = 6000
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  
  Behavior = ParkingPlaceBehavior ModuleTag_11
    HealAmountPerSecond = 10
    NumRows             = 5
    NumCols             = 1
    HasRunways          = Yes
    ApproachHeight      = 10
  End

  Behavior = ProductionUpdate ModuleTag_12
    NumDoorAnimations            = 5
    DoorOpeningTime              = 200  ;in mSeconds
    DoorWaitOpenTime             = 300  ;in mSeconds
    DoorCloseTime                = 200  ;in mSeconds
    ConstructionCompleteDuration = 100  ;in mSeconds
  End

  Behavior = BaseRegenerateUpdate ModuleTag_13
  End 

  Behavior = DestroyDie ModuleTag_14
  End

  Behavior = CreateObjectDie ModuleTag_15
    CreationList = OCL_ABPowerPlantExplode
  End
  Behavior = CreateObjectDie ModuleTag_16
    CreationList = AirF_OCL_AmericanRangerDebris04
    ExemptStatus = UNDER_CONSTRUCTION
  End
  Behavior = FXListDie ModuleTag_17
    DeathFX = FX_StructureMediumDeath
  End

  Behavior = FlammableUpdate ModuleTag_19
    AflameDuration = 8000
    AflameDamageAmount = 1
    AflameDamageDelay = 500
  End

  Behavior = TransitionDamageFX ModuleTag_31
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Drone01
    UpgradeObject = OCL_AmericaBuildingDefenseGunLargeAirfield2
    TriggeredBy   = Upgrade_USABuildingDefense
  End

  Geometry = BOX
  GeometryMajorRadius = 106.0
  GeometryMinorRadius = 86.0
  GeometryHeight      = 25.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER
End
